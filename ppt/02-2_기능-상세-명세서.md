# 2-2. 기능 상세 명세서

## 목차

1. [사용자 인증](#1-사용자-인증)
2. [스터디 탐색](#2-스터디-탐색)
3. [스터디 생성](#3-스터디-생성)
4. [스터디 가입](#4-스터디-가입)
5. [스터디 대시보드 (개요)](#5-스터디-대시보드-개요)
6. [실시간 채팅](#6-실시간-채팅)
7. [화상 통화](#7-화상-통화)
8. [캘린더 (일정 관리)](#8-캘린더-일정-관리)
9. [공지사항](#9-공지사항)
10. [파일 공유](#10-파일-공유)
11. [할일 관리](#11-할일-관리)
12. [멤버 관리](#12-멤버-관리)
13. [알림 시스템](#13-알림-시스템)
14. [마이페이지](#14-마이페이지)
15. [관리자 시스템](#15-관리자-시스템)

---

## 1. 사용자 인증

### 1.1 회원가입

| 항목 | 내용 |
|------|------|
| **경로** | `/sign-up` |
| **접근 권한** | 비로그인 사용자 |

#### 기능 상세

| 기능 | 설명 | 필수 여부 |
|------|------|:--------:|
| 이름 입력 | 2자 이상 닉네임 | ✅ |
| 이메일 입력 | 유효한 이메일 형식, 중복 검사 | ✅ |
| 비밀번호 입력 | 8자 이상, 강도 표시 (약함/보통/강함) | ✅ |
| 비밀번호 확인 | 비밀번호 일치 검증 | ✅ |
| 프로필 사진 | 이미지 업로드 (5MB 이하) | ❌ |
| Google 가입 | OAuth 2.0 소셜 로그인 | ❌ |
| GitHub 가입 | OAuth 2.0 소셜 로그인 | ❌ |

#### 비밀번호 강도 기준

| 강도 | 조건 |
|------|------|
| 약함 | 8자 미만 |
| 보통 | 8자 이상 + 영문+숫자 조합 |
| 강함 | 12자 이상 + 영문+숫자+특수문자 조합 |

#### 처리 흐름

```
사용자 입력 → 클라이언트 검증 → 서버 검증 → 비밀번호 해싱(bcrypt) 
→ DB 저장 → 자동 로그인 → 대시보드 이동
```

---

### 1.2 로그인

| 항목 | 내용 |
|------|------|
| **경로** | `/sign-in` |
| **접근 권한** | 비로그인 사용자 |

#### 기능 상세

| 기능 | 설명 |
|------|------|
| 이메일 로그인 | 이메일 + 비밀번호 인증 |
| Google 로그인 | OAuth 2.0 |
| GitHub 로그인 | OAuth 2.0 |
| 비밀번호 표시/숨김 | 토글 버튼 |
| 로그인 상태 유지 | JWT 토큰 기반 세션 |
| 회원가입 링크 | 회원가입 페이지 이동 |

#### 로그인 실패 처리

| 상황 | 메시지 |
|------|--------|
| 이메일 없음 | "이메일 또는 비밀번호가 일치하지 않습니다" |
| 비밀번호 불일치 | "이메일 또는 비밀번호가 일치하지 않습니다" |
| 계정 정지 | "정지된 계정입니다" |
| 계정 삭제 | "삭제된 계정입니다" |

---

## 2. 스터디 탐색

| 항목 | 내용 |
|------|------|
| **경로** | `/studies` |
| **접근 권한** | 로그인 사용자 (USER+) |

### 2.1 검색 및 필터링

| 기능 | 설명 | 기본값 |
|------|------|--------|
| 키워드 검색 | 스터디명, 설명, 태그 검색 | - |
| 카테고리 필터 | 전체, 프로그래밍, 어학, 자격증, 취미, 독서, 재테크 | 전체 |
| 모집 상태 필터 | 전체, 모집중, 모집마감 | 전체 |

### 2.2 카테고리 목록

| 카테고리 | 아이콘 | 설명 |
|----------|:------:|------|
| 전체 | 📚 | 모든 스터디 |
| 프로그래밍 | 💻 | 코딩, 알고리즘, 프레임워크 |
| 어학 | 🌍 | 영어, 일본어, 중국어 등 |
| 자격증 | 📝 | 정보처리기사, 토익 등 |
| 취미 | 🎸 | 음악, 운동, 요리 등 |
| 독서 | 📖 | 독서 모임 |
| 재테크 | 💰 | 주식, 부동산, 경제 공부 |

### 2.3 스터디 카드 표시 정보

| 항목 | 설명 |
|------|------|
| 이모지 | 스터디 대표 이모지 |
| 스터디명 | 스터디 이름 |
| 설명 | 스터디 설명 (일부) |
| 카테고리 | 스터디 카테고리 |
| 멤버 수 | 현재/최대 인원 |
| 모집 상태 | 🟢 모집중 / 🔴 모집마감 |
| 참여 여부 | 이미 참여중인 스터디 표시 |

### 2.4 무한 스크롤

| 항목 | 값 |
|------|-----|
| 한 번 로드 개수 | 20개 |
| 로드 트리거 | 스크롤 하단 도달 시 |
| 로딩 표시 | 스피너 표시 |

---

## 3. 스터디 생성

| 항목 | 내용 |
|------|------|
| **경로** | `/studies` (모달) |
| **접근 권한** | 로그인 사용자 (USER+) |

### 3.1 입력 필드

| 필드 | 타입 | 필수 | 제한 |
|------|------|:----:|------|
| 스터디명 | 텍스트 | ✅ | 2~50자 |
| 이모지 | 이모지 선택 | ❌ | 기본값: 📚 |
| 설명 | 텍스트영역 | ✅ | 10~500자 |
| 카테고리 | 선택 | ✅ | 6개 중 택1 |
| 서브카테고리 | 텍스트 | ❌ | - |
| 최대 인원 | 숫자 | ❌ | 2~100 (기본값: 20) |
| 공개 설정 | 토글 | ❌ | 기본값: 공개 |
| 자동 승인 | 토글 | ❌ | 기본값: 자동 승인 |
| 태그 | 태그 입력 | ❌ | 최대 10개 |

### 3.2 생성 결과

| 항목 | 내용 |
|------|------|
| 생성자 역할 | OWNER (방장) 자동 부여 |
| 멤버 상태 | ACTIVE 자동 부여 |
| 초대 코드 | 자동 생성 (고유 ID) |
| 리다이렉트 | 생성된 스터디 상세 페이지 |

---

## 4. 스터디 가입

| 항목 | 내용 |
|------|------|
| **경로** | 스터디 상세 페이지 |
| **접근 권한** | 로그인 사용자 (스터디 비멤버) |

### 4.1 가입 모드

| 모드 | 설명 |
|------|------|
| **자동 승인** | 가입 신청 즉시 ACTIVE 멤버로 등록 |
| **수동 승인** | 가입 신청 → PENDING 상태 → 관리자 승인 후 ACTIVE |

### 4.2 가입 신청 입력

| 필드 | 필수 | 설명 |
|------|:----:|------|
| 자기소개 | ❌ | 본인 소개 |
| 가입 동기 | ❌ | 스터디 참여 이유 |
| 현재 레벨 | ❌ | 초급/중급/고급 |

### 4.3 가입 처리 흐름

```
┌─────────────┐     ┌──────────────────┐     ┌─────────────┐
│ 가입 신청   │────>│ 자동 승인 모드?   │────>│ 즉시 ACTIVE │
└─────────────┘     └────────┬─────────┘     └─────────────┘
                             │ No
                             ▼
                    ┌──────────────────┐     ┌─────────────┐
                    │ PENDING 상태     │────>│ 관리자 승인 │
                    └──────────────────┘     └──────┬──────┘
                                                    │
                             ┌──────────────────────┼──────────────────────┐
                             ▼                      ▼                      ▼
                    ┌─────────────┐        ┌─────────────┐        ┌─────────────┐
                    │   승인      │        │   거부      │        │   대기      │
                    │  (ACTIVE)   │        │ (신청 삭제) │        │ (PENDING)   │
                    └─────────────┘        └─────────────┘        └─────────────┘
```

---

## 5. 스터디 대시보드 (개요)

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]` |
| **접근 권한** | 스터디 멤버 (MEMBER+) |

### 5.1 표시 정보

| 섹션 | 내용 |
|------|------|
| **헤더** | 스터디 이모지, 이름, 멤버 수, 내 역할 |
| **이번 주 활동 요약** | 출석률, 과제 완료율, 메시지 수, 공지 수 |
| **최근 공지** | 최근 공지사항 3개 |
| **예정 일정** | 다가오는 일정 목록 |
| **긴급 과제** | 마감 임박 과제 목록 |

### 5.2 탭 네비게이션

| 탭 | 경로 | 접근 권한 |
|----|------|----------|
| 개요 | `/my-studies/[id]` | MEMBER+ |
| 채팅 | `/my-studies/[id]/chat` | MEMBER+ |
| 화상통화 | `/my-studies/[id]/video-call` | MEMBER+ |
| 캘린더 | `/my-studies/[id]/calendar` | MEMBER+ |
| 공지사항 | `/my-studies/[id]/notices` | MEMBER+ |
| 파일 | `/my-studies/[id]/files` | MEMBER+ |
| 할일 | `/my-studies/[id]/tasks` | MEMBER+ |
| 멤버 | `/my-studies/[id]/members` | MEMBER+ |
| 설정 | `/my-studies/[id]/settings` | ADMIN+ |

---

## 6. 실시간 채팅

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/chat` |
| **접근 권한** | 스터디 멤버 (MEMBER+) |
| **기술** | Socket.IO 기반 실시간 통신 |

### 6.1 채팅 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 메시지 전송 | 텍스트 메시지 전송 | MEMBER+ |
| 메시지 조회 | 채팅 기록 조회 (무한 스크롤) | MEMBER+ |
| 파일 첨부 | 이미지, 문서 등 첨부 | MEMBER+ |
| 타이핑 표시 | "OOO님이 입력 중..." 표시 | 자동 |
| 읽음 표시 | 메시지별 읽은 사람 추적 | 자동 |
| 본인 메시지 삭제 | 본인이 보낸 메시지 삭제 | MEMBER+ |
| 타인 메시지 삭제 | 다른 사람 메시지 삭제 | ADMIN+ |

### 6.2 메시지 구조

| 필드 | 설명 |
|------|------|
| 발신자 | 프로필 사진, 이름 |
| 내용 | 메시지 텍스트 |
| 시간 | 전송 시간 (HH:MM) |
| 첨부 파일 | 파일 정보 (있는 경우) |
| 읽음 상태 | 읽은 멤버 목록 |

### 6.3 온라인 멤버 표시

| 상태 | 표시 |
|------|------|
| 온라인 | 🟢 초록색 점 |
| 오프라인 | ⚪ 회색 점 |

### 6.4 Socket 이벤트

| 이벤트 | 방향 | 설명 |
|--------|------|------|
| `study:join` | Client → Server | 스터디 채팅방 입장 |
| `study:leave` | Client → Server | 스터디 채팅방 퇴장 |
| `chat:send` | Client → Server | 메시지 전송 |
| `chat:message` | Server → Client | 새 메시지 수신 |
| `chat:typing` | Client ↔ Server | 타이핑 상태 |
| `chat:delete` | Client → Server | 메시지 삭제 |

---

## 7. 화상 통화

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/video-call` |
| **접근 권한** | 스터디 멤버 (MEMBER+) |
| **기술** | WebRTC (P2P) + Socket.IO (시그널링) |

### 7.1 화상 통화 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 통화 참여 | 화상 통화 방 입장 | MEMBER+ |
| 통화 종료 | 화상 통화 퇴장 | MEMBER+ |
| 카메라 ON/OFF | 비디오 송출 제어 | MEMBER+ |
| 마이크 ON/OFF | 오디오 송출 제어 | MEMBER+ |
| 화면 공유 | 화면 공유 시작/종료 | MEMBER+ |
| 참여자 목록 | 현재 통화 참여자 확인 | MEMBER+ |
| 통화 시간 | 진행 중 통화 시간 표시 | 자동 |
| 참여자 음소거 | 다른 참여자 음소거 | ADMIN+ |
| 참여자 퇴장 | 다른 참여자 강제 퇴장 | ADMIN+ |

### 7.2 레이아웃 구성

```
┌───────────┬─────────────────────────────────┬───────────┐
│           │                                 │           │
│ 참여자    │        메인 비디오 영역          │  채팅     │
│ 목록      │                                 │           │
│           │  ┌─────────┐  ┌─────────┐       │           │
│ 🎥 김철수  │  │ 비디오1 │  │ 비디오2 │       │           │
│ 🔇 이영희  │  └─────────┘  └─────────┘       │           │
│ 🎥 박지민  │                                 │           │
│           │                                 │           │
│           ├─────────────────────────────────┤           │
│           │  [🎤] [📹] [🖥️] [⚙️]   [🔴 종료] │           │
└───────────┴─────────────────────────────────┴───────────┘
```

### 7.3 컨트롤 버튼

| 버튼 | 기능 | 상태 표시 |
|------|------|----------|
| 🎤 | 마이크 ON/OFF | 빨간 슬래시 (OFF) |
| 📹 | 카메라 ON/OFF | 빨간 슬래시 (OFF) |
| 🖥️ | 화면 공유 | 활성화 시 하이라이트 |
| ⚙️ | 설정 (장치 선택) | - |
| 🔴 | 통화 종료 | - |

### 7.4 WebRTC 시그널링 흐름

```
1. video:join-room → 방 입장
2. video:room-state → 기존 참여자 정보 수신
3. video:user-joined → 새 참여자 알림
4. video:offer → SDP Offer 전송
5. video:answer → SDP Answer 수신
6. video:ice-candidate → ICE Candidate 교환
7. P2P 연결 수립 → 실시간 미디어 스트리밍
```

### 7.5 설정 옵션

| 설정 | 설명 |
|------|------|
| 오디오 입력 장치 | 마이크 선택 |
| 비디오 입력 장치 | 카메라 선택 |
| 오디오 출력 장치 | 스피커 선택 |
| 비디오 품질 | 낮음/보통/높음 |
| 에코 캔슬레이션 | ON/OFF |
| 노이즈 제거 | ON/OFF |

---

## 8. 캘린더 (일정 관리)

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/calendar` |
| **접근 권한** | 조회: MEMBER+ / 생성·수정·삭제: ADMIN+ |

### 8.1 일정 관리 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 일정 조회 | 월별/주별 일정 보기 | MEMBER+ |
| 일정 생성 | 새 일정 등록 | ADMIN+ |
| 일정 수정 | 기존 일정 변경 | ADMIN+ |
| 일정 삭제 | 일정 삭제 | ADMIN+ |

### 8.2 일정 입력 필드

| 필드 | 타입 | 필수 | 설명 |
|------|------|:----:|------|
| 제목 | 텍스트 | ✅ | 일정 제목 |
| 날짜 | 날짜 선택 | ✅ | 일정 날짜 |
| 시작 시간 | 시간 선택 | ✅ | 시작 시간 (HH:MM) |
| 종료 시간 | 시간 선택 | ✅ | 종료 시간 (HH:MM) |
| 장소 | 텍스트 | ❌ | 오프라인/온라인 장소 |
| 색상 | 색상 선택 | ❌ | 캘린더 표시 색상 |

### 8.3 캘린더 뷰

| 뷰 | 설명 |
|----|------|
| 월간 뷰 | 한 달 전체 일정 표시 |
| 주간 뷰 | 한 주 일정 상세 표시 |
| 일정 상세 | 클릭 시 일정 상세 정보 |

---

## 9. 공지사항

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/notices` |
| **접근 권한** | 조회: MEMBER+ / 작성·수정·삭제: ADMIN+ |

### 9.1 공지사항 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 공지 목록 조회 | 전체 공지사항 목록 | MEMBER+ |
| 공지 상세 조회 | 공지 내용 보기 (조회수 증가) | MEMBER+ |
| 공지 작성 | 새 공지 등록 | ADMIN+ |
| 공지 수정 | 공지 내용 변경 | ADMIN+ (본인 작성) |
| 공지 삭제 | 공지 삭제 | ADMIN+ (OWNER는 전체) |
| 고정 설정 | 상단 고정/해제 | ADMIN+ |
| 중요 표시 | 중요 공지 표시 | ADMIN+ |

### 9.2 공지 입력 필드

| 필드 | 타입 | 필수 | 설명 |
|------|------|:----:|------|
| 제목 | 텍스트 | ✅ | 공지 제목 |
| 내용 | 마크다운 에디터 | ✅ | 공지 본문 (마크다운 지원) |
| 고정 여부 | 체크박스 | ❌ | 상단 고정 |
| 중요 여부 | 체크박스 | ❌ | 중요 표시 |
| 첨부 파일 | 파일 업로드 | ❌ | 파일 첨부 |

### 9.3 공지 표시

| 상태 | 표시 |
|------|------|
| 고정 공지 | 📌 핀 아이콘, 상단 고정 |
| 중요 공지 | 🔴 빨간색 강조 |
| 일반 공지 | 기본 스타일 |

### 9.4 공지 목록 정보

| 항목 | 설명 |
|------|------|
| 제목 | 공지 제목 (고정/중요 뱃지) |
| 작성자 | 작성자 이름 |
| 작성일 | 작성 일시 |
| 조회수 | 조회 횟수 |
| 첨부파일 | 첨부파일 개수 |

---

## 10. 파일 공유

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/files` |
| **접근 권한** | 조회·다운로드: MEMBER+ / 삭제(타인): ADMIN+ |

### 10.1 파일 관리 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 파일 목록 조회 | 업로드된 파일 목록 | MEMBER+ |
| 파일 업로드 | 파일 업로드 | MEMBER+ |
| 파일 다운로드 | 파일 다운로드 | MEMBER+ |
| 본인 파일 삭제 | 본인이 업로드한 파일 삭제 | MEMBER+ |
| 타인 파일 삭제 | 다른 사람 파일 삭제 | ADMIN+ |

### 10.2 파일 정보 표시

| 항목 | 설명 |
|------|------|
| 파일명 | 원본 파일 이름 |
| 파일 타입 | 아이콘으로 표시 (이미지, 문서, 기타) |
| 파일 크기 | KB/MB 단위 표시 |
| 업로더 | 업로드한 사람 |
| 업로드 일시 | 업로드 날짜/시간 |
| 다운로드 수 | 다운로드 횟수 |

### 10.3 파일 업로드 제한

| 항목 | 제한 |
|------|------|
| 최대 파일 크기 | 10MB |
| 허용 확장자 | 이미지, PDF, 문서, 압축파일 등 |
| 동시 업로드 | 최대 5개 |

---

## 11. 할일 관리

### 11.1 개인 할일 (Tasks)

| 항목 | 내용 |
|------|------|
| **경로** | `/tasks` |
| **접근 권한** | 본인 할일만 관리 가능 |

#### 기능

| 기능 | 설명 |
|------|------|
| 할일 목록 조회 | 필터링, 정렬 지원 |
| 할일 생성 | 새 할일 등록 |
| 할일 수정 | 할일 내용 변경 |
| 할일 삭제 | 할일 삭제 |
| 완료 처리 | 완료 상태 토글 |
| 스터디 연결 | 특정 스터디와 연결 (선택) |

#### 할일 입력 필드

| 필드 | 타입 | 필수 | 설명 |
|------|------|:----:|------|
| 제목 | 텍스트 | ✅ | 할일 제목 |
| 설명 | 텍스트영역 | ❌ | 상세 설명 |
| 마감일 | 날짜 선택 | ❌ | 마감 일시 |
| 우선순위 | 선택 | ❌ | LOW/MEDIUM/HIGH/URGENT |
| 연결 스터디 | 선택 | ❌ | 관련 스터디 |

#### 할일 상태

| 상태 | 설명 |
|------|------|
| TODO | 할 일 (기본값) |
| IN_PROGRESS | 진행 중 |
| REVIEW | 검토 중 |
| DONE | 완료 |

#### 우선순위

| 우선순위 | 표시 |
|----------|------|
| LOW | 🟢 낮음 |
| MEDIUM | 🟡 보통 |
| HIGH | 🟠 높음 |
| URGENT | 🔴 긴급 |

### 11.2 스터디 할일 (StudyTasks)

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/tasks` |
| **접근 권한** | 조회: MEMBER+ / 생성·수정·삭제: ADMIN+ |

#### 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 과제 목록 조회 | 스터디 전체 과제 목록 | MEMBER+ |
| 과제 생성 | 새 과제 등록 | ADMIN+ |
| 과제 수정 | 과제 내용 변경 | ADMIN+ |
| 과제 삭제 | 과제 삭제 | ADMIN+ |
| 담당자 지정 | 멤버에게 과제 배정 | ADMIN+ |
| 완료 처리 | 배정된 과제 완료 표시 | MEMBER+ (본인 과제) |

---

## 12. 멤버 관리

| 항목 | 내용 |
|------|------|
| **경로** | `/my-studies/[studyId]/members` |
| **접근 권한** | 조회: MEMBER+ / 관리: ADMIN+ |

### 12.1 멤버 관리 기능

| 기능 | 설명 | 권한 |
|------|------|------|
| 멤버 목록 조회 | 전체 멤버 + 역할 표시 | MEMBER+ |
| 가입 신청 목록 | PENDING 상태 멤버 목록 | ADMIN+ |
| 가입 승인 | 가입 신청 승인 | ADMIN+ |
| 가입 거부 | 가입 신청 거부 | ADMIN+ |
| 멤버 강퇴 | 멤버 강제 퇴장 | ADMIN+ (ADMIN은 MEMBER만) |
| 관리자 임명 | MEMBER → ADMIN 승격 | OWNER |
| 관리자 해제 | ADMIN → MEMBER 강등 | OWNER |
| 방장 위임 | OWNER 권한 위임 | OWNER |

### 12.2 멤버 정보 표시

| 항목 | 설명 |
|------|------|
| 프로필 사진 | 멤버 아바타 |
| 이름 | 멤버 닉네임 |
| 역할 | 👑 OWNER / ⭐ ADMIN / 👤 MEMBER |
| 가입일 | 스터디 가입 날짜 |
| 상태 | ACTIVE / PENDING |

### 12.3 강퇴 처리

```
강퇴 요청 → 권한 확인 → 멤버 상태 KICKED로 변경 
→ 스터디 접근 차단 → 알림 발송
```

| 강퇴 제한 | 내용 |
|----------|------|
| ADMIN이 ADMIN 강퇴 | ❌ 불가 (OWNER만 가능) |
| ADMIN이 OWNER 강퇴 | ❌ 불가 |
| 강퇴된 멤버 재가입 | ❌ 불가 |

---

## 13. 알림 시스템

| 항목 | 내용 |
|------|------|
| **경로** | `/notifications` |
| **접근 권한** | 본인 알림만 확인 가능 |

### 13.1 알림 기능

| 기능 | 설명 |
|------|------|
| 알림 목록 조회 | 전체 알림 목록 |
| 읽음 처리 | 개별 알림 읽음 처리 |
| 전체 읽음 | 모든 알림 읽음 처리 |
| 알림 삭제 | 알림 삭제 |

### 13.2 알림 유형

| 유형 | 설명 | 발생 시점 |
|------|------|----------|
| **JOIN_APPROVED** | 가입 승인 알림 | 스터디 가입 승인 시 |
| **NOTICE** | 공지사항 알림 | 새 공지 등록 시 |
| **FILE** | 파일 알림 | 새 파일 업로드 시 |
| **EVENT** | 일정 알림 | 새 일정 등록 시 |
| **TASK** | 과제 알림 | 과제 배정/마감 임박 시 |
| **MEMBER** | 멤버 알림 | 멤버 가입/탈퇴 시 |
| **KICK** | 강퇴 알림 | 강퇴 처리 시 |
| **CHAT** | 채팅 알림 | 멘션 등 |

### 13.3 알림 표시

| 항목 | 설명 |
|------|------|
| 스터디 이모지 | 관련 스터디 이모지 |
| 스터디 이름 | 관련 스터디 이름 |
| 메시지 | 알림 내용 |
| 시간 | 발생 시간 (상대적 표시) |
| 읽음 상태 | 읽음/안읽음 표시 |

### 13.4 실시간 알림

| 방식 | 설명 |
|------|------|
| Socket.IO | 실시간 푸시 알림 |
| 뱃지 표시 | 헤더 알림 아이콘에 개수 표시 |
| 토스트 | 새 알림 시 토스트 메시지 |

---

## 14. 마이페이지

| 항목 | 내용 |
|------|------|
| **경로** | `/me` |
| **접근 권한** | 로그인 사용자 (본인만) |

### 14.1 마이페이지 기능

| 기능 | 설명 |
|------|------|
| 프로필 조회 | 내 정보 확인 |
| 프로필 수정 | 이름, 아바타, 자기소개 수정 |
| 내 스터디 | 참여 중인 스터디 목록 |
| 활동 통계 | 출석률, 과제 완료율 등 |

### 14.2 프로필 수정 가능 항목

| 항목 | 수정 가능 |
|------|:--------:|
| 이름 | ✅ |
| 프로필 사진 | ✅ |
| 자기소개 | ✅ |
| 이메일 | ❌ (변경 불가) |
| 가입일 | ❌ (표시만) |

### 14.3 설정

| 항목 | 내용 |
|------|------|
| **경로** | `/settings` |
| **기능** | 비밀번호 변경, 계정 삭제, 알림 설정 |

---

## 15. 관리자 시스템

| 항목 | 내용 |
|------|------|
| **경로** | `/admin/*` |
| **접근 권한** | 시스템 ADMIN 역할 필요 |

### 15.1 관리자 대시보드

| 경로 | `/admin` |
|------|---------|

| 정보 | 설명 |
|------|------|
| 총 사용자 수 | 전체 가입 사용자 |
| 활성 스터디 수 | 현재 활동 중인 스터디 |
| 대기 중 신고 | 처리 대기 신고 건수 |
| 이번 주 신규 가입 | 주간 신규 사용자 |
| 최근 활동 | 플랫폼 최근 활동 로그 |

### 15.2 사용자 관리

| 경로 | `/admin/users` |
|------|----------------|

| 기능 | 설명 | 권한 |
|------|------|------|
| 사용자 목록 조회 | 검색, 필터링, 정렬 | VIEWER+ |
| 사용자 상세 조회 | 상세 정보, 활동 내역 | VIEWER+ |
| 경고 | 사용자에게 경고 발송 | MODERATOR+ |
| 정지 | 기간 정지 (1일~30일) | ADMIN+ |
| 영구 정지 | 영구 계정 정지 | SUPER_ADMIN |
| 정지 해제 | 정지 상태 해제 | ADMIN+ |
| 삭제 | 계정 삭제 | SUPER_ADMIN |

### 15.3 스터디 관리

| 경로 | `/admin/studies` |
|------|------------------|

| 기능 | 설명 | 권한 |
|------|------|------|
| 스터디 목록 조회 | 전체 스터디 모니터링 | VIEWER+ |
| 스터디 상세 조회 | 멤버, 활동 내역 확인 | VIEWER+ |
| 숨김 처리 | 공개 목록에서 숨김 | MODERATOR+ |
| 숨김 해제 | 숨김 해제 | MODERATOR+ |
| 종료 | 스터디 종료 처리 | ADMIN+ |
| 삭제 | 스터디 삭제 | SUPER_ADMIN |

### 15.4 신고 처리

| 경로 | `/admin/reports` |
|------|------------------|

| 기능 | 설명 | 권한 |
|------|------|------|
| 신고 목록 조회 | 전체 신고 목록 | VIEWER+ |
| 신고 상세 조회 | 신고 내용, 증거 확인 | VIEWER+ |
| 신고 처리 | 해결/기각 처리 | MODERATOR+ |
| 제재 조치 | 신고 대상에 제재 적용 | MODERATOR+ |

#### 신고 유형

| 유형 | 설명 |
|------|------|
| SPAM | 스팸, 광고성 콘텐츠 |
| HARASSMENT | 괴롭힘, 욕설 |
| INAPPROPRIATE | 부적절한 콘텐츠 |
| COPYRIGHT | 저작권 침해 |
| OTHER | 기타 |

#### 신고 상태

| 상태 | 설명 |
|------|------|
| PENDING | 대기 중 |
| IN_PROGRESS | 처리 중 |
| RESOLVED | 해결됨 |
| REJECTED | 기각됨 |

### 15.5 통계/분석

| 경로 | `/admin/analytics` |
|------|-------------------|

| 정보 | 설명 |
|------|------|
| 사용자 증가 추이 | 일별/주별/월별 가입자 |
| 스터디 생성 추이 | 일별/주별/월별 스터디 생성 |
| 활성 사용자 | DAU/WAU/MAU |
| 카테고리별 통계 | 카테고리별 스터디 분포 |

### 15.6 감사 로그

| 경로 | `/admin/audit-logs` |
|------|---------------------|

| 기능 | 설명 | 권한 |
|------|------|------|
| 로그 조회 | 관리자 활동 기록 조회 | VIEWER+ |
| 로그 필터링 | 관리자, 행위 유형별 필터 | VIEWER+ |
| 로그 내보내기 | CSV/JSON 내보내기 | ADMIN+ |

#### 기록되는 활동

| 분류 | 활동 |
|------|------|
| 사용자 관리 | 조회, 경고, 정지, 해제, 삭제 |
| 스터디 관리 | 조회, 숨김, 종료, 삭제 |
| 신고 처리 | 조회, 처리, 제재 |
| 시스템 설정 | 설정 변경, 캐시 초기화 |

---

## 부록: API 엔드포인트 요약

### 인증 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/auth/register` | POST | 회원가입 |
| `/api/auth/[...nextauth]` | * | NextAuth 핸들러 |
| `/api/auth/me` | GET | 내 정보 조회 |

### 스터디 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/studies` | GET | 스터디 목록 |
| `/api/studies` | POST | 스터디 생성 |
| `/api/studies/[id]` | GET/PUT/DELETE | 스터디 CRUD |
| `/api/studies/[id]/join` | POST | 가입 신청 |

### 스터디 상세 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/my-studies/[id]/messages` | GET/POST | 채팅 메시지 |
| `/api/my-studies/[id]/notices` | GET/POST | 공지사항 |
| `/api/my-studies/[id]/events` | GET/POST | 일정 |
| `/api/my-studies/[id]/files` | GET/POST | 파일 |
| `/api/my-studies/[id]/tasks` | GET/POST | 과제 |
| `/api/my-studies/[id]/members` | GET/POST/DELETE | 멤버 관리 |

### 개인 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/tasks` | GET/POST | 개인 할일 |
| `/api/notifications` | GET/PUT | 알림 |
| `/api/dashboard` | GET | 대시보드 데이터 |
| `/api/user/profile` | GET/PUT | 프로필 |

### 관리자 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/admin/stats` | GET | 통계 |
| `/api/admin/users` | GET | 사용자 목록 |
| `/api/admin/users/[id]/*` | POST | 사용자 제재 |
| `/api/admin/studies` | GET | 스터디 목록 |
| `/api/admin/reports` | GET/POST | 신고 처리 |
| `/api/admin/logs` | GET | 감사 로그 |

