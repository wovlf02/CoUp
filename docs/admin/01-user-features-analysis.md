# 일반 사용자 기능 및 화면 분석

> **작성일**: 2025-11-25  
> **목적**: 관리자 기능 설계를 위한 일반 사용자 기능 전체 파악  
> **출처**: 기존 문서 및 화면 설계 분석

---

## 📋 개요

CoUp 플랫폼의 일반 사용자가 사용하는 모든 기능과 화면을 체계적으로 분석하여, 관리자가 어떤 영역을 관리하고 모니터링해야 하는지 파악합니다.

---

## 🎯 주요 기능 영역

### 1. 인증 & 계정 관리

#### 1.1 회원가입 (`/sign-up`)
- **소셜 로그인**: Google, GitHub
- **이메일 가입**: 이메일 + 비밀번호
- **필수 정보**:
  - 이름 (2-50자)
  - 이메일 (중복 확인)
  - 비밀번호 (8자 이상, 소셜 로그인 제외)
  - 이용약관 동의
  - 개인정보 처리방침 동의

#### 1.2 로그인 (`/sign-in`)
- **소셜 로그인**: Google, GitHub
- **이메일 로그인**: 이메일 + 비밀번호
- **자동 로그인**: 체크박스
- **비밀번호 찾기**: 이메일 인증 후 재설정

#### 1.3 마이페이지 (`/me`)
- **프로필 관리**:
  - 프로필 이미지 변경 (128x128px, 5MB 이하)
  - 이름 수정 (2-50자)
  - 자기소개 수정 (200자 이하)
- **계정 관리**:
  - 로그아웃
  - 계정 삭제 (확인 절차 포함)
- **활동 통계**:
  - 이번 주 활동 (완료한 할 일, 작성한 공지, 업로드한 파일, 채팅 횟수)
  - 전체 통계 (총 참여 스터디, 총 완료 할 일, 평균 출석률, 가입 기간)
  - 달성 배지 (스터디 마스터, 연속 출석, 할 일 완료왕)

---

### 2. 대시보드 (`/dashboard`)

#### 2.1 통계 카드 (4개)
- **참여 스터디**: 현재 참여 중인 스터디 수
- **새 공지**: 읽지 않은 공지 수
- **할 일**: 미완료 할 일 수
- **다가올 일정**: 7일 이내 일정 수

#### 2.2 내 스터디 섹션
- **스터디 카드** (최대 3개 표시):
  - 이모지, 스터디명, 멤버 수, 역할
  - 마지막 활동 시간
  - 빠른 액션 버튼 (채팅, 공지, 파일)
- **전체 보기**: `/my-studies`로 이동

#### 2.3 최근 활동 섹션
- **활동 타임라인** (최대 5개):
  - 타입별 배지 (공지, 할일, 파일, 채팅, 일정)
  - 스터디명 + 활동 내용 + 시간
- **전체 보기**: `/notifications`로 이동

#### 2.4 우측 위젯
- **오늘의 할 일**: 체크박스 + 할일 내용 + 스터디명
- **다가오는 일정**: 날짜/시간 + 제목 + 스터디명
- **나의 스터디 현황**: 총 참여, 그룹장 개수, 이번 주 출석, 완료한 할 일
- **빠른 액션**: 스터디 찾기, 스터디 만들기, 할 일 추가

---

### 3. 스터디 탐색 (`/studies`)

#### 3.1 스터디 검색 & 필터
- **검색**: 스터디명, 설명 검색
- **필터**:
  - 카테고리 (프로그래밍, 취업/자격증, 어학, 운동/취미, 디자인)
  - 공개/비공개
  - 모집 중 여부
  - 멤버 수 범위
- **정렬**: 최신순, 인기순, 멤버순

#### 3.2 스터디 카드 정보
- 이모지, 스터디명, 카테고리
- 설명 (미리보기)
- 그룹장 정보
- 멤버 수 / 최대 인원
- 공개/비공개 상태
- 모집 중/마감 상태
- 생성일

#### 3.3 스터디 생성 (`/studies/create`)
- **기본 정보**:
  - 스터디명 (2-50자)
  - 카테고리 (필수)
  - 이모지 선택
  - 설명 (500자 이하)
- **모집 설정**:
  - 공개/비공개
  - 최대 인원 (2-100명)
  - 자동/수동 승인
- **규칙 & 소개**:
  - 스터디 규칙 (선택, 1000자)
  - 가입 질문 (수동 승인 시, 선택)

#### 3.4 스터디 프리뷰 (`/studies/[id]`)
- **미가입자 접근 시**:
  - 기본 정보 (이름, 카테고리, 설명, 그룹장, 멤버 수)
  - 공지 2개 미리보기 (제목만)
  - 멤버 5명 미리보기 (아바타 + 이름)
  - **가입하기 버튼**: 가입 플로우로 이동
- **제한 정보**: 채팅, 파일, 캘린더, 할일 접근 불가

---

### 4. 내 스터디 (`/my-studies`)

#### 4.1 스터디 목록
- **필터**: 전체/OWNER/ADMIN/MEMBER/PENDING
- **스터디 카드**:
  - 이모지, 스터디명, 멤버 수
  - 역할 배지 (OWNER/ADMIN/MEMBER/PENDING)
  - 마지막 활동 시간
  - 빠른 액션 버튼
- **정렬**: 최근 활동순, 가입일순, 이름순

#### 4.2 스터디 대시보드 (`/my-studies/[id]`)
- **2컬럼 레이아웃**:
  - 메인 콘텐츠 (70%)
  - 우측 위젯 (30%, 모든 탭에 고정)
- **8개 탭 네비게이션**:
  1. 📊 개요 (기본)
  2. 💬 채팅
  3. 📢 공지사항
  4. 📁 파일
  5. 📅 캘린더
  6. ✅ 할 일
  7. 👥 멤버
  8. ⚙️ 설정 (ADMIN+ 전용)

#### 4.3 개요 탭 (`/my-studies/[id]`)
- **최근 활동**: 공지, 파일, 할일, 채팅 통합 타임라인
- **급한 할 일**: D-3 이내 할 일 목록
- **다가오는 일정**: 7일 이내 일정
- **최근 업로드 파일**: 최근 5개 파일

#### 4.4 채팅 탭 (`/my-studies/[id]/chat`)
- **WebSocket 실시간 채팅**
- **무한 스크롤**: 50개씩 로드
- **메시지 기능**:
  - 텍스트 메시지 (2000자 이하)
  - 파일 첨부 (최대 10MB)
  - 이미지 미리보기
  - 링크 프리뷰
- **입력 중 표시**: "OOO님이 입력 중..."
- **읽음 표시**: 읽은 멤버 수
- **메시지 액션**: 수정, 삭제 (본인만)

#### 4.5 공지사항 탭 (`/my-studies/[id]/notice`)
- **공지 목록**:
  - 고정 공지 (상단, 📌 아이콘)
  - 일반 공지
  - 작성자, 작성일, 조회수
- **공지 작성** (ADMIN+ 전용):
  - 제목 (2-100자)
  - 내용 (Rich Text Editor, 5000자)
  - 고정 여부 체크박스
  - 파일 첨부 (최대 5개, 각 10MB)
- **공지 상세**:
  - 제목, 작성자, 작성일, 조회수
  - 내용 (마크다운 렌더링)
  - 첨부 파일 다운로드
  - 댓글 (모든 멤버)
  - 수정/삭제 (작성자 또는 OWNER)

#### 4.6 파일 탭 (`/my-studies/[id]/files`)
- **폴더 구조**: 루트 폴더 + 하위 폴더
- **파일 업로드**:
  - 드래그 앤 드롭
  - 파일 선택 (최대 10개, 각 10MB)
  - 폴더 선택
- **파일 정보**:
  - 파일명, 파일 크기, 업로더, 업로드일
  - 다운로드 버튼
  - 미리보기 (이미지, PDF)
- **파일 관리** (ADMIN+ 또는 업로더):
  - 이름 변경
  - 이동
  - 삭제
- **폴더 관리** (ADMIN+ 전용):
  - 폴더 생성
  - 폴더 이름 변경
  - 폴더 삭제

#### 4.7 캘린더 탭 (`/my-studies/[id]/calendar`)
- **월간 캘린더 뷰**
- **일정 생성** (ADMIN+ 전용):
  - 제목 (2-100자)
  - 날짜 및 시간 (시작, 종료)
  - 장소 (선택, 100자)
  - 설명 (선택, 500자)
  - 반복 설정 (없음, 매일, 매주, 매월)
  - 알림 설정 (없음, 10분 전, 1시간 전, 1일 전)
- **일정 상세**:
  - 제목, 날짜/시간, 장소, 설명
  - 참석 여부 체크 (모든 멤버)
  - 참석자 목록
  - 수정/삭제 (작성자 또는 OWNER)

#### 4.8 할 일 탭 (`/my-studies/[id]/tasks`)
- **할 일 목록**:
  - 미완료 / 완료 탭
  - 체크박스 + 할일 내용 + 담당자 + 마감일
- **할 일 생성** (ADMIN+ 전용):
  - 제목 (2-100자)
  - 설명 (선택, 500자)
  - 담당자 지정 (선택, 다중 선택 가능)
  - 마감일 (선택)
  - 우선순위 (낮음, 보통, 높음, 긴급)
- **할 일 관리**:
  - 완료 체크 (담당자 또는 ADMIN+)
  - 수정/삭제 (작성자 또는 OWNER)
- **필터**:
  - 전체 / 내 할 일
  - 우선순위별
  - 마감일별

#### 4.9 멤버 탭 (`/my-studies/[id]/members`)
- **멤버 목록**:
  - OWNER (1명, 👑 아이콘)
  - ADMIN (N명, ⭐ 아이콘)
  - MEMBER (N명, 👤 아이콘)
  - PENDING (N명, ⏳ 아이콘, ADMIN+ 전용)
- **멤버 정보**:
  - 아바타, 이름, 역할
  - 가입일
  - 마지막 활동
  - 활동 통계 (할일 완료, 출석률)
- **멤버 관리** (ADMIN+ 전용):
  - 역할 변경 (MEMBER ↔ ADMIN, OWNER는 변경 불가)
  - 강퇴 (OWNER만, 확인 절차)
- **가입 승인** (ADMIN+ 전용):
  - PENDING 멤버 목록
  - 신청자 정보 (자기소개, 가입 질문 답변)
  - 승인 / 거절 (거절 사유 입력)

#### 4.10 설정 탭 (`/my-studies/[id]/settings`) - ADMIN+ 전용
- **기본 정보 수정**:
  - 스터디명, 이모지, 카테고리, 설명
- **모집 설정**:
  - 공개/비공개
  - 최대 인원
  - 자동/수동 승인
  - 가입 질문 (수동 승인 시)
- **규칙 수정**: 스터디 규칙 (1000자)
- **위험 구역** (OWNER 전용):
  - 스터디 삭제 (확인 절차, "삭제" 입력)

#### 4.11 우측 고정 위젯 (모든 탭)
- **스터디 현황 대시보드**:
  - 총 멤버, 온라인 멤버, 신규 가입 (이번 주)
- **온라인 멤버** (실시간):
  - 아바tar + 이름 (최대 10명 표시)
  - "외 N명" 표시
- **빠른 액션 버튼**:
  - 채팅, 공지, 파일, 캘린더, 할일 탭으로 이동
- **고정 공지**: 최대 3개 (제목 + 작성일)
- **급한 할 일**: D-3 이내 할 일 (최대 5개)
- **다가오는 일정**: 7일 이내 일정 (최대 5개)
- **나의 활동 요약**:
  - 완료한 할 일, 작성한 공지, 업로드한 파일, 참여한 채팅

---

### 5. 알림 (`/notifications`)

#### 5.1 알림 목록
- **필터**: 전체 / 읽지 않음 / 읽음
- **알림 타입** (8가지):
  - `JOIN_APPROVED`: 가입 승인
  - `NOTICE`: 새 공지
  - `EVENT`: 일정 생성
  - `TASK`: 할일 관련 (생성, 완료, 마감 임박)
  - `FILE`: 파일 업로드
  - `CHAT`: 채팅 메시지 (멘션)
  - `KICK`: 강퇴
  - `MEMBER`: 멤버 변동 (신규 가입, 탈퇴)
- **알림 정보**:
  - 타입 아이콘 + 스터디 이모지
  - 스터디명 + 메시지
  - 시간 (상대 시간)
  - 읽음/읽지 않음 상태
- **알림 액션**:
  - 클릭 시: 해당 위치로 이동
  - 읽음 처리
  - 삭제
- **일괄 액션**:
  - 모두 읽음 처리
  - 모두 삭제

#### 5.2 알림 설정
- **알림 받을 타입 선택**:
  - 공지, 일정, 할일, 파일, 채팅, 멤버
- **알림 방법**:
  - 웹 알림 (기본)
  - 이메일 알림 (선택)
  - 푸시 알림 (PWA, 선택)

---

### 6. 화상 통화 (미구현, 설계만 존재)

#### 6.1 화상 통화 시작 (`/my-studies/[id]/video`)
- **WebRTC 기반**: 1:1 및 그룹 통화
- **기능**:
  - 비디오 on/off
  - 오디오 on/off
  - 화면 공유
  - 채팅
  - 참여자 목록
  - 녹화 (OWNER/ADMIN)

---

## 🗂️ 화면별 모달 및 컴포넌트

### 공통 모달
1. **확인 다이얼로그**: 삭제, 탈퇴 등 중요 액션
2. **이미지 크롭 모달**: 프로필 이미지, 스터디 이모지 변경
3. **파일 업로드 모달**: 드래그 앤 드롭, 진행률 표시
4. **멤버 선택 모달**: 할일 담당자 지정 등

### 스터디별 모달
1. **가입 플로우 모달** (3단계):
   - Step 1: 규칙 확인 및 동의
   - Step 2: 자기소개 작성 (수동 승인 시 가입 질문 답변)
   - Step 3: 알림 설정
2. **멤버 프로필 모달**: 멤버 상세 정보, 활동 통계, DM 버튼
3. **공지 작성/수정 모달**: Rich Text Editor
4. **일정 생성/수정 모달**: 날짜 선택, 시간 선택, 반복 설정
5. **할 일 생성/수정 모달**: 담당자 선택, 마감일 선택, 우선순위
6. **폴더 생성 모달**: 폴더명 입력
7. **파일 이동 모달**: 폴더 선택
8. **강퇴 확인 모달**: 강퇴 사유 입력
9. **역할 변경 확인 모달**: MEMBER ↔ ADMIN
10. **스터디 삭제 확인 모달**: "삭제" 입력 확인

---

## 🎨 공통 UI 요소

### 1. 네비게이션 바 (좌측, 12-15%)
- **메뉴 항목**:
  - 🏠 대시보드 (`/dashboard`)
  - 🔍 스터디 탐색 (`/studies`)
  - 👥 내 스터디 (`/my-studies`)
  - 📋 할 일 (`/tasks`)
  - 🔔 알림 (`/notifications`)
  - 👤 마이페이지 (`/me`)
- **하단**:
  - 설정 (`/settings`)
  - 로그아웃

### 2. 헤더 (상단, 64px, Fixed)
- **좌측**: 검색바 (400px, "스터디 검색...")
- **우측**:
  - 🔔 알림 아이콘 + 배지 (읽지 않은 수)
  - 👤 프로필 드롭다운 (마이페이지, 설정, 로그아웃)

### 3. Toast 알림
- **위치**: 우측 상단
- **타입**: success, error, info, warning
- **자동 닫힘**: 3초 (error는 5초)
- **액션 버튼**: 확인, 취소 (선택)

### 4. 빈 상태 (Empty State)
- **일러스트** + **메시지** + **액션 버튼**
- 예시:
  - "아직 참여 중인 스터디가 없어요" → [스터디 둘러보기]
  - "아직 공지사항이 없어요" → [첫 공지 작성하기]
  - "파일이 없어요" → [파일 업로드하기]

### 5. 로딩 상태
- **Skeleton UI**: 각 섹션별 스켈레톤
- **스피너**: 버튼 로딩, 페이지 전환

### 6. 에러 상태
- **에러 메시지** + **재시도 버튼**
- 예시: "데이터를 불러오는데 실패했습니다" → [다시 시도]

---

## 📊 권한 체계

### 역할 (Role)
1. **USER**: 일반 사용자 (기본)
2. **SYSTEM_ADMIN**: 플랫폼 관리자 (관리자 페이지 접근)

### 스터디 내 역할 (Study Role)
1. **OWNER**: 그룹장 (1명, 변경 불가)
   - 모든 권한
   - 스터디 삭제
   - 멤버 강퇴 (ADMIN 포함)
   - ADMIN 지정
2. **ADMIN**: 관리자 (N명)
   - 설정 수정 (스터디 삭제 제외)
   - 공지/파일/일정/할일 관리
   - 가입 승인/거절
   - MEMBER 강퇴
3. **MEMBER**: 일반 멤버
   - 채팅 참여
   - 공지/파일 조회
   - 할일 완료 (본인 것만)
   - 댓글 작성
4. **PENDING**: 승인 대기
   - 읽기만 가능
   - 채팅/파일 업로드 불가

---

## 🔔 실시간 기능 (WebSocket)

### 연결 대상
- 참여 중인 스터디 채팅방
- 알림 수신

### 이벤트
1. **chat:message**: 새 채팅 메시지
2. **chat:typing**: 입력 중 표시
3. **chat:read**: 읽음 처리
4. **member:online**: 멤버 온라인 상태
5. **member:join**: 신규 멤버 가입
6. **member:leave**: 멤버 탈퇴
7. **notification:new**: 새 알림
8. **study:update**: 스터디 정보 변경

---

## 📈 데이터 통계 및 분석

### 사용자 레벨 통계
- 총 참여 스터디 수
- 총 완료 할 일 수
- 평균 출석률
- 가입 기간
- 달성 배지

### 스터디 레벨 통계
- 총 멤버 수
- 활성 멤버 수 (최근 7일 활동)
- 온라인 멤버 수 (실시간)
- 총 공지 수
- 총 파일 수
- 총 할 일 수 / 완료율
- 총 일정 수
- 총 채팅 메시지 수
- 생성일로부터 경과일

---

## 💡 UX 특징

### 1. 점진적 정보 공개
- 처음에는 필수 정보만 표시
- "더보기" 버튼으로 추가 정보 표시
- 모달을 통한 상세 정보

### 2. 실시간 피드백
- WebSocket 실시간 업데이트
- Optimistic UI 업데이트 (즉시 반영 후 서버 확인)
- Toast 알림

### 3. 빈 상태 가이드
- 모든 빈 화면에 안내 메시지
- 액션 버튼으로 첫 단계 유도

### 4. 반응형 디자인
- Desktop (1920px+): 2컬럼 레이아웃
- Laptop (1440px): 2컬럼 유지, gap 축소
- Tablet (1024px): 1컬럼 전환
- Mobile (<768px): 1컬럼, 패딩 축소

### 5. 접근성
- 키보드 네비게이션 지원
- ARIA 라벨
- 고대비 모드
- 스크린 리더 지원

---

## 🎯 관리자가 관리해야 할 영역

위 분석을 바탕으로 플랫폼 관리자는 다음 영역을 관리해야 합니다:

### 1. 사용자 관리
- 사용자 목록 조회 및 검색
- 사용자 상세 정보 확인
- 사용자 활동 통계
- 계정 정지/해제
- 계정 삭제 (강제)
- 역할 변경 (USER ↔ SYSTEM_ADMIN)

### 2. 스터디 관리
- 전체 스터디 목록 조회
- 스터디 상세 정보 확인
- 스터디 활동 통계
- 스터디 숨김 처리 (검색 결과에서 제외)
- 스터디 강제 삭제
- 신고된 스터디 관리

### 3. 콘텐츠 모니터링
- 공지사항 모니터링
- 채팅 메시지 모니터링
- 파일 모니터링
- 부적절한 콘텐츠 삭제

### 4. 신고 관리
- 신고 접수 및 처리
- 신고 유형별 분류
- 신고 대상 확인 (사용자, 스터디, 콘텐츠)
- 신고 처리 (경고, 정지, 삭제, 기각)
- 신고 이력 관리

### 5. 통계 및 분석
- 전체 사용자 통계
- 전체 스터디 통계
- 활동 추이 분석
- 카테고리별 통계
- 신고 통계

### 6. 시스템 설정
- 플랫폼 공지사항
- 이용약관 관리
- 개인정보 처리방침 관리
- 카테고리 관리
- 배지 관리
- 시스템 설정

---

**작성일**: 2025-11-25  
**다음 문서**: `02-admin-roles-specification.md` (관리자 역할 및 권한 명세)

