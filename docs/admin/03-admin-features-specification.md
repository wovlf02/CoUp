# 관리자 기능 명세서

> **작성일**: 2025-11-25  
> **목적**: 관리자 페이지의 모든 기능을 영역별로 상세히 명세  
> **이전 문서**: `02-admin-roles-specification.md`

---

## 📋 개요

CoUp 플랫폼 관리자 페이지는 **6개 주요 영역**으로 구성됩니다:

1. **대시보드** - 플랫폼 전체 현황 한눈에 파악
2. **사용자 관리** - 사용자 조회, 정지, 삭제 등
3. **스터디 관리** - 스터디 조회, 숨김, 삭제 등
4. **신고 관리** - 신고 접수, 처리, 이력 관리
5. **통계 분석** - 데이터 시각화 및 인사이트 도출
6. **시스템 설정** - 플랫폼 설정, 카테고리, 법적 문서 관리

---

## 1️⃣ 대시보드 (Dashboard)

### 라우트
- `/admin` (기본)

### 목적
관리자가 로그인하면 가장 먼저 보는 화면으로, 플랫폼의 전체 상태를 한눈에 파악할 수 있습니다.

---

### 1.1 핵심 지표 카드 (4개)

#### 1.1.1 전체 사용자
- **표시 정보**:
  - 전체 사용자 수: `1,234명`
  - 변화량: `+12` (이번 주 증가)
  - 추이 아이콘: 🔺 증가 / 🔻 감소 / ➖ 동일
- **클릭 액션**: `/admin/users`로 이동
- **API**: `GET /api/admin/stats`
  - 응답: `{ users: { total: 1234, change: 12 } }`

#### 1.1.2 활성 스터디
- **표시 정보**:
  - 활성 스터디 수: `156개`
  - 변화량: `+8` (이번 주 증가)
  - 정의: 최근 7일 내 활동 (공지, 채팅, 파일 등)이 있는 스터디
- **클릭 액션**: `/admin/studies`로 이동
- **API**: `GET /api/admin/stats`
  - 응답: `{ studies: { active: 156, change: 8 } }`

#### 1.1.3 신규 가입
- **표시 정보**:
  - 오늘 신규 가입자 수: `45명`
  - 변화량: `+5` (어제 대비)
- **클릭 액션**: `/admin/users?filter=today`로 이동
- **API**: `GET /api/admin/stats`
  - 응답: `{ users: { newToday: 45, change: 5 } }`

#### 1.1.4 미처리 신고
- **표시 정보**:
  - 미처리 신고 건수: `12건`
  - 긴급 신고: `3건` (빨간 숫자)
- **클릭 액션**: `/admin/reports?status=pending`으로 이동
- **API**: `GET /api/admin/stats`
  - 응답: `{ reports: { pending: 12, urgent: 3 } }`

---

### 1.2 사용자 증가 추이 차트

#### 기능
- **차트 유형**: 라인 차트 (Line Chart)
- **기간 선택**: 주간 / 월간 / 연간 (탭 버튼)
- **데이터**:
  - X축: 날짜 (주간: 7일, 월간: 30일, 연간: 12개월)
  - Y축: 사용자 수
  - 라인: 누적 사용자 수
- **툴팁**: 날짜 + 사용자 수 표시
- **API**: `GET /api/admin/stats/user-growth?period=week`
  - 응답: `{ dates: [...], counts: [...] }`

#### 인터랙션
- 기간 버튼 클릭 시 차트 업데이트
- 차트 hover 시 툴팁 표시

---

### 1.3 최근 신고 내역 (3개)

#### 표시 정보
각 신고 항목:
1. **신고 유형 배지**: 스팸 / 욕설 / 성희롱 / 사기 / 저작권 / 기타
2. **대상명**: 사용자명 또는 스터디명
3. **신고자**: 이름 (신고자 정보는 비공개)
4. **시간**: 상대 시간 (방금 전, 1시간 전, 1일 전)
5. **우선순위**: URGENT (빨간 테두리), HIGH, NORMAL, LOW
6. **상태**: 미처리 / 처리완료 / 기각

#### 액션 버튼
- **[처리하기]**: 신고 상세 모달 열기
- **[더보기]**: `/admin/reports`로 이동

#### API
- `GET /api/admin/reports/recent?limit=3`
- 응답: 배열 (최대 3개)

---

### 1.4 실시간 현황 (4개 상태 카드)

#### 1.4.1 활성 사용자
- **정의**: 현재 온라인 (최근 5분 내 활동)
- **표시**: `850명`
- **아이콘**: 🟢 (녹색 원)

#### 1.4.2 오늘 신규 가입
- **표시**: `45명`
- **아이콘**: 👤

#### 1.4.3 진행 중 스터디
- **정의**: 최근 24시간 내 활동이 있는 스터디
- **표시**: `120개`
- **아이콘**: 📚

#### 1.4.4 미처리 신고
- **표시**: `12건`
- **아이콘**: ⚠️ (주황색)

#### API
- `GET /api/admin/stats/realtime`
- 응답: `{ activeUsers: 850, newToday: 45, activeStudies: 120, pendingReports: 12 }`

---

### 1.5 시스템 상태

#### 표시 정보
1. **상태 인디케이터**:
   - 🟢 정상 운영 (모든 지표 80% 미만)
   - 🟡 주의 필요 (하나 이상 80-90%)
   - 🔴 장애 발생 (하나 이상 90% 초과)

2. **CPU 사용률**: 프로그레스 바 + 숫자 (45%)
   - 80% 초과: 주황색
   - 90% 초과: 빨간색

3. **메모리 사용률**: 프로그레스 바 + 숫자 (62%)

4. **디스크 사용량**: 프로그레스 바 + 숫자 (35%)

#### API
- `GET /api/admin/system/status`
- 응답: `{ cpu: 45, memory: 62, disk: 35, status: 'HEALTHY' }`
- 실시간 업데이트: WebSocket 또는 폴링 (30초마다)

---

### 1.6 스터디 활동 현황 (바 차트)

#### 기능
- **차트 유형**: 수평 바 차트 (Horizontal Bar Chart)
- **데이터**: 카테고리별 활성 스터디 수
  - 💻 프로그래밍: 80개
  - 💼 취업/자격증: 30개
  - 🌍 어학: 25개
  - 🏃 운동/취미: 15개
  - 🎨 디자인: 6개
  - 📚 기타: 0개

#### API
- `GET /api/admin/stats/study-by-category`
- 응답: `[ { category: '프로그래밍', count: 80 }, ... ]`

---

### 1.7 새로고침 기능

#### 버튼 위치
- 페이지 헤더 우측 상단 (🔄 아이콘)

#### 동작
- 클릭 시 모든 통계 데이터 재로드
- 로딩 중: 스피너 표시
- 성공 시: Toast "데이터가 업데이트되었습니다"

---

## 2️⃣ 사용자 관리 (User Management)

### 라우트
- `/admin/users`

### 목적
전체 사용자를 조회, 검색, 필터링하고 관리 (정지, 삭제, 역할 변경) 기능을 제공합니다.

---

### 2.1 필터 바

#### 2.1.1 상태 필터 (Select)
- **옵션**: 전체 / 활성 / 정지 / 탈퇴
- **기본값**: 전체
- **동작**: 선택 즉시 테이블 필터링

#### 2.1.2 검색 입력 (Input)
- **placeholder**: "이름 또는 이메일 검색"
- **동작**: 입력 중 (debounce 500ms) 실시간 검색
- **대상**: 이름, 이메일 (부분 일치)

#### 2.1.3 고급 검색 버튼 (선택)
- **버튼**: "고급 검색" (아이콘: 🔍)
- **클릭 시**: 고급 검색 모달 열기
- **모달 내용**:
  - 가입 방법: 체크박스 (Google, GitHub, Email)
  - 가입일 범위: DateRangePicker
  - 역할: 체크박스 (USER, SYSTEM_ADMIN)
  - [검색] [초기화] 버튼

---

### 2.2 사용자 테이블

#### 2.2.1 컬럼 (7개)

##### 1. 체크박스
- 전체 선택 체크박스 (헤더)
- 개별 선택 체크박스 (각 행)
- 선택된 사용자 수 표시: "N명 선택됨"

##### 2. 사용자
- **아바타**: 128x128px 이미지 (또는 이니셜)
- **이름**: font-semibold, gray-900
- **가입 방법 아이콘**: 🔵 Google / 🐙 GitHub / 📧 Email
- **클릭 액션**: 사용자 상세 모달 열기

##### 3. 이메일
- **표시**: kim@example.com
- **스타일**: text-sm, gray-600

##### 4. 가입일
- **형식**: M/D (예: 11/1)
- **툴팁**: 전체 날짜 (2024-11-01 09:00:00)

##### 5. 활동
- **온라인 인디케이터**: 
  - 🟢 녹색: 온라인 (최근 5분 내 활동)
  - ⚪ 회색: 오프라인
- **마지막 로그인**: 상대 시간 (1시간 전, 1일 전)

##### 6. 상태
- **배지**:
  - 활성: 녹색 배지
  - 정지: 빨간 배지 (정지 기간 표시: ~11/30)
  - 탈퇴: 회색 배지

##### 7. 액션
- **버튼**: ⋯ (3점 아이콘)
- **드롭다운**:
  - 👁️ 상세 보기 → 사용자 상세 모달
  - 📧 이메일 발송 → 이메일 발송 모달
  - ⚠️ 계정 정지 → 계정 정지 모달
  - 🗑️ 계정 삭제 → 확인 다이얼로그

#### 2.2.2 정렬
- **기본**: 가입일 내림차순 (최신순)
- **컬럼 클릭 정렬**: 이름, 이메일, 가입일 (오름차순/내림차순 토글)

---

### 2.3 일괄 작업

#### 표시 조건
- 1명 이상 선택 시 상단에 표시
- "N명 선택됨" 텍스트

#### 액션 버튼 (3개)

##### 2.3.1 📧 이메일 발송
- **동작**: 이메일 발송 모달 열기
- **모달 내용**:
  - 받는 사람: "N명에게 발송"
  - 제목: input (필수)
  - 내용: textarea (필수, 1000자 이하)
  - [취소] [발송] 버튼
- **발송 후**: Toast "N명에게 이메일이 발송되었습니다"

##### 2.3.2 ⚠️ 계정 정지
- **동작**: 일괄 정지 모달 열기
- **모달 내용**:
  - 대상: "N명"
  - 정지 기간: 라디오 (7일, 30일, 영구)
  - 정지 사유: select (스팸, 욕설, 규정 위반, 기타)
  - 상세 사유: textarea (선택)
  - 이메일 통보: 체크박스
  - [취소] [정지] 버튼
- **정지 후**: Toast "N명의 계정이 정지되었습니다"

##### 2.3.3 🗑️ 계정 삭제
- **동작**: 확인 다이얼로그
- **다이얼로그 내용**:
  - "정말로 N명의 계정을 삭제하시겠습니까?"
  - "이 작업은 되돌릴 수 없습니다."
  - 입력 확인: "삭제"를 정확히 입력
  - [취소] [삭제] 버튼
- **삭제 후**: Toast "N명의 계정이 삭제되었습니다"

---

### 2.4 페이지네이션

#### 구성 요소
- **항목 수 선택**: 10개 / 20개 / 50개 (select, 기본 10개)
- **페이지 번호**: 최대 5개 표시 (1 2 3 4 5 ... 10)
- **이전/다음 버튼**: 첫/마지막 페이지에서 disabled
- **항목 범위 표시**: "1-10 / 1,234"

#### API
- `GET /api/admin/users?page=1&limit=10&status=active&search=kim`
- 응답: `{ data: [...], total: 1234, page: 1, limit: 10 }`

---

### 2.5 사용자 상세 모달

#### 모달 구성 (4개 섹션)

##### 2.5.1 기본 정보
- 아바타 (128x128px)
- 이름
- 이메일
- 가입 방법 (Google / GitHub / Email)
- 가입일
- 마지막 로그인
- 계정 상태 (활성 / 정지 / 탈퇴)

##### 2.5.2 활동 통계
- 참여 중인 스터디: N개
- OWNER 스터디: N개
- ADMIN 스터디: N개
- 완료한 할 일: N개
- 작성한 공지: N개
- 업로드한 파일: N개

##### 2.5.3 참여 스터디 목록
- 스터디 카드 (최대 5개 표시)
  - 이모지, 이름, 역할, 멤버 수
  - [이동하기] 버튼 → `/admin/studies/[studyId]`
- "외 N개" 표시

##### 2.5.4 신고 이력 (신고 당한 이력)
- 신고 목록 (최대 5개)
  - 신고 유형, 신고일, 처리 상태
- "총 N건 신고됨" 표시

#### 모달 액션 버튼
- **[📧 이메일 발송]**: 개별 이메일 발송
- **[⚠️ 계정 정지]**: 계정 정지 모달
- **[✅ 정지 해제]**: 정지된 계정만 표시, 즉시 해제
- **[🗑️ 계정 삭제]**: 확인 다이얼로그
- **[닫기]**: 모달 닫기

---

### 2.6 우측 위젯 (3개)

#### 2.6.1 사용자 통계
- 전체: 1,234명
- 활성: 1,180명
- 정지: 3명
- 탈퇴: 51명
- **데이터 소스**: 실시간 계산 (filteredUsers 기반)

#### 2.6.2 빠른 검색
- Google: 800명 (65%)
- GitHub: 300명 (25%)
- Email: 134명 (10%)
- **클릭 액션**: 해당 가입 방법으로 필터링

#### 2.6.3 빠른 액션
- **[일괄 정지]**: 선택된 사용자 일괄 정지
- **[일괄 삭제]**: 선택된 사용자 일괄 삭제
- **[엑셀 추출]**: 현재 필터링된 사용자 목록 Excel 다운로드

---

## 3️⃣ 스터디 관리 (Study Management)

### 라우트
- `/admin/studies`

### 목적
전체 스터디를 조회, 검색, 필터링하고 관리 (숨김, 삭제) 기능을 제공합니다.

---

### 3.1 필터 바

#### 3.1.1 공개/비공개 필터 (Select)
- **옵션**: 전체 / 공개 / 비공개
- **기본값**: 전체

#### 3.1.2 카테고리 필터 (Select)
- **옵션**: 전체 / 프로그래밍 / 취업/자격증 / 어학 / 운동/취미 / 디자인 / 기타
- **기본값**: 전체

#### 3.1.3 검색 입력 (Input)
- **placeholder**: "스터디명 검색"
- **동작**: 실시간 검색 (debounce 500ms)

---

### 3.2 스터디 테이블

#### 3.2.1 컬럼 (8개)

##### 1. 체크박스
- 전체 선택 / 개별 선택

##### 2. 아이콘
- **이모지**: 2rem 크기
- **예시**: 💻, 📝, 🌍

##### 3. 스터디명
- **첫 줄**: 스터디명 (font-semibold)
- **둘째 줄**: 카테고리 (text-sm, gray-500)
- **클릭 액션**: 스터디 상세 페이지 (새 탭) → `/my-studies/[studyId]`

##### 4. 그룹장
- **이름**: font-medium
- **가입 방법 아이콘**: 🔵 Google / 🐙 GitHub / 📧 Email

##### 5. 멤버
- **표시**: memberCount / maxMembers (예: 12 / 50)
- **진행률 바**: 24% (12/50)

##### 6. 공개
- **배지**: 공개 / 비공개
- **신고 건수** (있을 때만): ⚠️ 신고 N건 (빨간 배지)

##### 7. 생성일
- **형식**: M/D (예: 11/1)

##### 8. 액션
- **드롭다운**:
  - 👁️ 상세 보기 → 새 탭에서 스터디 페이지 열기
  - 🔒 숨김 처리 → 확인 다이얼로그
  - 🗑️ 강제 삭제 → 확인 다이얼로그

---

### 3.3 일괄 작업

#### 액션 버튼 (3개)

##### 3.3.1 👁️‍🗨️ 숨김 처리
- **동작**: 선택된 스터디를 HIDDEN 상태로 변경
- **효과**: 검색 결과에서 제외, 기존 멤버는 계속 접근 가능
- **확인**: "N개 스터디를 숨김 처리하시겠습니까?"

##### 3.3.2 🗑️ 강제 삭제
- **동작**: 선택된 스터디를 완전 삭제
- **효과**: 스터디 및 모든 콘텐츠 (공지, 파일, 채팅 등) 삭제
- **확인**: "삭제"를 정확히 입력
- **되돌릴 수 없음**

##### 3.3.3 📊 엑셀 추출
- **동작**: 현재 필터링된 스터디 목록 Excel 다운로드
- **파일명**: `스터디_목록_20251125.xlsx`

---

### 3.4 페이지네이션
(사용자 관리와 동일)

---

### 3.5 스터디 상세 모달 (선택)

#### 모달 구성

##### 3.5.1 기본 정보
- 이모지, 스터디명, 카테고리
- 그룹장 정보
- 설명
- 공개/비공개
- 자동/수동 승인
- 생성일

##### 3.5.2 멤버 통계
- 총 멤버: N명
- OWNER: 1명
- ADMIN: N명
- MEMBER: N명
- PENDING: N명

##### 3.5.3 활동 통계
- 공지사항: N개
- 파일: N개
- 채팅 메시지: N개
- 할 일: N개 (완료율: %)
- 일정: N개

##### 3.5.4 신고 이력
- 신고 목록 (최대 5개)
- 신고 유형, 신고일, 처리 상태

#### 모달 액션 버튼
- **[스터디 페이지 열기]**: 새 탭에서 열기
- **[숨김 처리]**: 확인 다이얼로그
- **[강제 삭제]**: 확인 다이얼로그
- **[닫기]**

---

### 3.6 우측 위젯 (3개)

#### 3.6.1 스터디 통계
- 전체: 156개
- 활성: 140개
- 비공개: 20개
- 신고됨: 5개

#### 3.6.2 카테고리 현황
- 💻 프로그래밍: 80개
- 💼 취업/자격증: 30개
- 🏃 운동/취미: 25개
- 🎨 디자인: 21개

#### 3.6.3 빠른 액션
- **[일괄 숨김]**
- **[일괄 삭제]**
- **[엑셀 추출]**

---

## 4️⃣ 신고 관리 (Report Management)

### 라우트
- `/admin/reports`

### 목적
신고를 조회, 필터링하고 처리 (경고, 정지, 삭제, 기각) 기능을 제공합니다.

---

### 4.1 필터 바

#### 4.1.1 상태 필터
- **옵션**: 전체 / 미처리 / 처리완료 / 기각
- **기본값**: 미처리

#### 4.1.2 우선순위 필터
- **옵션**: 전체 / 긴급 / 높음 / 보통 / 낮음

#### 4.1.3 유형 필터
- **옵션**: 전체 / 스팸 / 욕설/혐오 / 성희롱 / 사기 / 저작권 / 기타

#### 4.1.4 검색 입력
- **placeholder**: "신고자 또는 대상 검색"

---

### 4.2 신고 테이블

#### 4.2.1 컬럼 (8개)

##### 1. ID
- **표시**: report-1234
- **스타일**: text-xs, monospace

##### 2. 유형
- **배지**: 
  - 스팸 (회색)
  - 욕설/혐오 (빨간색)
  - 성희롱 (보라색)
  - 사기 (주황색)
  - 저작권 (파란색)
  - 기타 (회색)

##### 3. 대상
- **사용자 신고**: 👤 사용자명
- **스터디 신고**: 📚 스터디명
- **콘텐츠 신고**: 📄 콘텐츠 제목 (공지, 파일 등)

##### 4. 신고자
- **표시**: 이름 + 이메일 (작게)
- **클릭**: 신고자 상세 모달

##### 5. 신고일
- **형식**: M/D HH:mm (예: 11/25 14:30)

##### 6. 우선순위
- **배지**:
  - 긴급: 빨간 배지
  - 높음: 주황 배지
  - 보통: 파란 배지
  - 낮음: 회색 배지

##### 7. 상태
- **배지**:
  - 미처리: 주황 배지
  - 처리완료: 녹색 배지
  - 기각: 회색 배지

##### 8. 액션
- **[처리하기]** 버튼 (미처리만)
- **[상세 보기]** 버튼 (처리완료/기각)

---

### 4.3 신고 상세 및 처리 모달

#### 모달 구성 (3개 탭)

##### 탭 1: 신고 정보
- **신고 ID**: report-1234
- **신고 유형**: 스팸
- **우선순위**: 긴급
- **신고일**: 2024-11-25 14:30:00

##### 탭 2: 신고 대상
- **대상 유형**: 사용자 / 스터디 / 콘텐츠
- **대상 정보**:
  - 사용자: 이름, 이메일, 가입일, 활동 통계
  - 스터디: 스터디명, 그룹장, 멤버 수, 생성일
  - 콘텐츠: 제목, 작성자, 작성일, 내용

##### 탭 3: 신고 내용
- **신고 사유**: textarea (읽기 전용)
- **증거 자료**: 
  - 스크린샷 (이미지 갤러리)
  - 메시지 내용 (텍스트)
  - URL (링크)

#### 처리 옵션 (라디오 버튼)

##### 1. ⚠️ 경고
- **동작**: 대상에게 경고 알림 발송
- **추가 입력**: 경고 메시지 (textarea)

##### 2. 🚫 정지
- **동작**: 계정 정지 (사용자) 또는 스터디 숨김 (스터디)
- **추가 입력**:
  - 정지 기간: 7일 / 30일 / 영구
  - 정지 사유: select + textarea

##### 3. 🗑️ 삭제
- **동작**: 콘텐츠 삭제 (공지, 파일, 채팅) 또는 계정/스터디 삭제
- **추가 입력**: 삭제 사유 (textarea)
- **확인**: "삭제"를 정확히 입력

##### 4. ❌ 기각
- **동작**: 신고를 기각하고 신고자에게 알림
- **추가 입력**: 기각 사유 (textarea, 필수)

#### 공통 옵션
- **이메일 통보**: 체크박스 (신고자 및 대상에게 처리 결과 알림)
- **처리 메모**: textarea (내부용, 선택)

#### 모달 액션 버튼
- **[처리 완료]**: 선택한 처리 옵션 실행
- **[취소]**: 모달 닫기

---

### 4.4 우측 위젯 (3개)

#### 4.4.1 신고 통계
- 전체: 120건
- 미처리: 12건
- 긴급: 3건
- 평균 처리 시간: 2.5시간

#### 4.4.2 유형별 통계
- 스팸: 50건 (42%)
- 욕설/혐오: 30건 (25%)
- 성희롱: 15건 (12%)
- 사기: 10건 (8%)
- 저작권: 8건 (7%)
- 기타: 7건 (6%)

#### 4.4.3 빠른 필터
- **[긴급 신고만 보기]**
- **[오늘 신고만 보기]**
- **[미처리만 보기]**

---

## 5️⃣ 통계 분석 (Analytics)

### 라우트
- `/admin/analytics`

### 목적
플랫폼 전체 데이터를 시각화하여 인사이트를 도출합니다.

---

### 5.1 핵심 지표 (4개 카드)
(대시보드와 동일)

---

### 5.2 사용자 분석

#### 5.2.1 사용자 증가 추이 (라인 차트)
- **기간 선택**: 주간 / 월간 / 연간
- **데이터**:
  - 라인 1: 누적 사용자 (파란색)
  - 라인 2: 신규 가입자 (녹색)
- **API**: `GET /api/admin/analytics/user-growth?period=month`

#### 5.2.2 가입 방법별 분포 (파이 차트)
- Google: 800명 (65%)
- GitHub: 300명 (25%)
- Email: 134명 (10%)

#### 5.2.3 활성 사용자 추이 (라인 차트)
- **데이터**:
  - 라인 1: DAU (일일 활성 사용자)
  - 라인 2: WAU (주간 활성 사용자)
  - 라인 3: MAU (월간 활성 사용자)

---

### 5.3 스터디 분석

#### 5.3.1 스터디 생성 추이 (라인 차트)
- **기간**: 월별 (최근 12개월)
- **데이터**: 신규 스터디 수

#### 5.3.2 카테고리별 분포 (바 차트)
- 💻 프로그래밍: 80개
- 💼 취업/자격증: 30개
- 🌍 어학: 25개
- 🏃 운동/취미: 15개
- 🎨 디자인: 6개

#### 5.3.3 평균 멤버 수 추이 (라인 차트)
- **기간**: 월별 (최근 12개월)
- **데이터**: 스터디당 평균 멤버 수

---

### 5.4 활동 분석

#### 5.4.1 일별 활동 추이 (라인 차트)
- **기간**: 최근 30일
- **데이터**:
  - 라인 1: 공지 작성
  - 라인 2: 파일 업로드
  - 라인 3: 채팅 메시지
  - 라인 4: 할 일 생성

#### 5.4.2 활동 유형별 분포 (파이 차트)
- 채팅: 60%
- 공지: 15%
- 파일: 15%
- 할일: 10%

---

### 5.5 신고 분석

#### 5.5.1 신고 처리 현황 (바 차트)
- 미처리: 12건
- 처리완료: 80건
- 기각: 28건

#### 5.5.2 신고 유형별 분포 (파이 차트)
- 스팸: 42%
- 욕설/혐오: 25%
- 성희롱: 12%
- 사기: 8%
- 저작권: 7%
- 기타: 6%

---

### 5.6 내보내기 기능

#### 버튼 위치
- 각 차트 우측 상단 (⬇️ 아이콘)

#### 옵션
- **PNG 이미지**: 차트를 이미지로 저장
- **CSV 데이터**: 차트 데이터를 CSV로 다운로드

---

## 6️⃣ 시스템 설정 (System Settings)

### 라우트
- `/admin/settings`

### 목적
플랫폼 설정, 카테고리, 법적 문서 등을 관리합니다.

---

### 6.1 플랫폼 설정

#### 6.1.1 플랫폼 공지사항
- **Rich Text Editor**: Quill 또는 TipTap
- **노출 여부**: 토글 스위치
- **노출 위치**: 
  - 상단 배너 (모든 페이지)
  - 메인 페이지만
  - 대시보드만
- **[저장]** 버튼

#### 6.1.2 플랫폼 상태
- **운영 모드**: 
  - 🟢 정상 운영
  - 🟡 점검 준비 중
  - 🔴 점검 중
- **점검 메시지**: textarea (점검 중일 때 표시)

---

### 6.2 카테고리 관리

#### 카테고리 목록
- **드래그 앤 드롭**: 순서 변경
- **카드 형식**:
  - 이모지 (드롭다운으로 변경 가능)
  - 이름 (input, 인라인 수정)
  - 순서 (자동 계산)
  - 활성 상태 (토글 스위치)
  - [수정] [삭제] 버튼

#### [새 카테고리 추가] 버튼
- **모달**:
  - 이름: input (필수, 2-20자)
  - 이모지: 드롭다운 (필수)
  - 순서: number (자동, 수동 변경 가능)
  - [추가] 버튼

---

### 6.3 시스템 설정

#### 6.3.1 파일 업로드
- **최대 파일 크기**: 
  - input number + select (MB / GB)
  - 기본값: 10MB
- **허용 파일 형식**:
  - 체크박스: 이미지 / 문서 / 영상 / 기타
  - 세부 형식: input (예: .jpg, .png, .pdf)

#### 6.3.2 스터디 설정
- **최대 인원**: input number (2-200, 기본 100)
- **최소 인원**: input number (2, 고정)

#### 6.3.3 보안 설정
- **신규 가입 제한**: 토글 (점검 시 신규 가입 차단)
- **IP 차단 목록**: 
  - textarea (한 줄에 하나)
  - 예: 192.168.1.1
- **금지 단어 목록**: 
  - textarea (쉼표로 구분)
  - 예: 스팸, 욕설1, 욕설2

#### 6.3.4 알림 설정
- **이메일 알림**: 토글 (시스템 이메일 알림 전송 여부)
- **SMTP 설정**: (향후)

---

### 6.4 법적 문서 관리

#### 6.4.1 이용약관
- **Rich Text Editor**: 5000자 이하
- **마지막 수정일**: 자동 표시
- **버전**: 자동 증가 (v1.0, v1.1, ...)
- **[저장]** 버튼

#### 6.4.2 개인정보 처리방침
- (이용약관과 동일)

#### 6.4.3 FAQ 관리 (향후)
- 질문 + 답변 쌍
- 드래그 앤 드롭으로 순서 변경

---

### 6.5 저장 및 취소

#### 저장 버튼
- **위치**: 각 섹션 하단
- **동작**: 해당 섹션 설정 저장
- **성공 시**: Toast "설정이 저장되었습니다"

#### 취소 버튼
- **동작**: 변경사항 되돌리기
- **확인**: "변경사항을 취소하시겠습니까?"

---

## 🎨 공통 UI 컴포넌트

### 모달
- **크기**: Small (400px), Medium (600px), Large (800px), Full (95vw)
- **구조**: 헤더 + 본문 + 액션 버튼
- **닫기**: X 버튼, ESC 키, 오버레이 클릭

### 확인 다이얼로그
- **크기**: 400px
- **구조**: 제목 + 메시지 + [취소] [확인] 버튼
- **입력 확인**: "삭제"를 정확히 입력 (위험한 액션)

### Toast 알림
- **위치**: 우측 상단
- **타입**: success (녹색), error (빨간색), info (파란색), warning (주황색)
- **자동 닫힘**: 3초 (error는 5초)

### 테이블
- **헤더**: 고정 (스크롤 시)
- **행 Hover**: 배경색 변경 (gray-50)
- **정렬**: 컬럼 클릭 (오름차순/내림차순 토글)
- **체크박스**: 전체 선택, 개별 선택

### 필터 바
- **레이아웃**: 수평 나열 (flex)
- **간격**: 12px
- **높이**: 40px

### 페이지네이션
- **레이아웃**: 중앙 정렬
- **버튼**: 이전, 페이지 번호 (최대 5개), 다음
- **Disabled**: 첫/마지막 페이지

---

## 📊 데이터 흐름

### 실시간 업데이트 (WebSocket)
- **연결**: 관리자 페이지 접속 시 자동 연결
- **이벤트**:
  - `admin:stats:update` - 통계 업데이트
  - `admin:report:new` - 새 신고 접수
  - `admin:system:status` - 시스템 상태 변경
- **연결 해제**: 페이지 떠날 때 자동

### API 호출
- **인증**: Bearer Token (JWT)
- **권한**: `SYSTEM_ADMIN` 역할 확인
- **에러 처리**: Toast로 에러 메시지 표시

### 캐싱 (React Query)
- **통계 데이터**: 5분 캐시
- **사용자/스터디 목록**: 1분 캐시
- **신고 목록**: 30초 캐시 (실시간성 중요)

---

**작성일**: 2025-11-25  
**다음 문서**: 
- `backend/api/admin/` (API 명세)
- `screens/admin/` (화면 설계)

