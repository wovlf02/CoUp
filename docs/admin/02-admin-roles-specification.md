# 플랫폼 관리자 역할 및 권한 명세

> **작성일**: 2025-11-25  
> **목적**: CoUp 플랫폼 관리자의 역할, 책임, 권한을 명확히 정의  
> **이전 문서**: `01-user-features-analysis.md`

---

## 📋 개요

CoUp 플랫폼의 **SYSTEM_ADMIN** 역할을 가진 관리자는 플랫폼 전반을 모니터링하고 관리하는 책임을 가집니다. 일반 사용자와 달리 전체 시스템을 조망하고, 문제를 해결하며, 건전한 커뮤니티를 유지하는 것이 핵심 역할입니다.

---

## 🎯 관리자의 핵심 목표

### 1. 플랫폼 안정성 유지
- 시스템 상태 모니터링
- 장애 조기 발견 및 대응
- 성능 지표 추적

### 2. 커뮤니티 건전성 보장
- 부적절한 콘텐츠 제거
- 악의적인 사용자 관리
- 신고 접수 및 처리

### 3. 사용자 지원
- 사용자 문의 응대
- 계정 관련 문제 해결
- 스터디 관련 분쟁 조정

### 4. 플랫폼 성장 지원
- 사용자 증가 추이 분석
- 인기 카테고리 파악
- 개선 사항 도출

---

## 👤 관리자 유형 (확장 가능)

### Phase 1: 단일 역할 (MVP)
- **SYSTEM_ADMIN**: 모든 관리 권한 보유
- 구현 우선순위: 최상

### Phase 2: 역할 분리 (향후)
1. **SUPER_ADMIN**: 최고 관리자
   - 다른 관리자 계정 생성/삭제
   - 시스템 설정 변경
   - 모든 권한 보유

2. **CONTENT_MODERATOR**: 콘텐츠 관리자
   - 신고 관리
   - 콘텐츠 검토 및 삭제
   - 사용자 경고/정지

3. **SUPPORT_ADMIN**: 고객 지원 관리자
   - 사용자 문의 응대
   - 계정 문제 해결
   - 통계 조회 (읽기 전용)

---

## 🔐 권한 체계 (Phase 1: SYSTEM_ADMIN)

### 1. 사용자 관리 권한

#### 1.1 조회 권한
- ✅ 전체 사용자 목록 조회
- ✅ 사용자 상세 정보 조회
- ✅ 사용자 참여 스터디 목록 조회
- ✅ 사용자 활동 이력 조회
- ✅ 사용자 신고 이력 조회 (신고 당한 이력)
- ✅ 사용자 통계 조회

#### 1.2 수정 권한
- ✅ 사용자 프로필 수정 (이름, 이메일, 이미지)
- ✅ 사용자 역할 변경 (USER ↔ SYSTEM_ADMIN)
- ✅ 계정 정지/해제 (정지 기간 설정)
- ✅ 계정 강제 탈퇴
- ✅ 이메일 발송 (개별, 일괄)

#### 1.3 제한 권한
- ❌ 사용자 비밀번호 조회 (해시값만 저장)
- ❌ 사용자 비밀번호 변경 (사용자 본인만 가능)

---

### 2. 스터디 관리 권한

#### 2.1 조회 권한
- ✅ 전체 스터디 목록 조회 (공개/비공개 모두)
- ✅ 스터디 상세 정보 조회
- ✅ 스터디 멤버 목록 조회
- ✅ 스터디 콘텐츠 조회 (공지, 파일, 채팅, 할일, 일정)
- ✅ 스터디 활동 이력 조회
- ✅ 스터디 신고 이력 조회
- ✅ 스터디 통계 조회

#### 2.2 수정 권한
- ✅ 스터디 정보 수정 (이름, 설명, 카테고리, 공개 여부)
- ✅ 스터디 숨김 처리 (검색 결과에서 제외, HIDDEN 상태)
- ✅ 스터디 강제 삭제
- ✅ 스터디 멤버 강제 퇴출
- ✅ 스터디 공지사항 삭제
- ✅ 스터디 파일 삭제
- ✅ 스터디 채팅 메시지 삭제

#### 2.3 제한 권한
- ⚠️ 스터디 콘텐츠 작성 (관리자는 조회 및 삭제만 가능)
- ⚠️ 스터디 멤버로 참여 (특수한 경우에만, 일반적으로는 불가)

---

### 3. 콘텐츠 모니터링 권한

#### 3.1 조회 권한
- ✅ 전체 공지사항 목록 조회
- ✅ 전체 파일 목록 조회
- ✅ 전체 채팅 메시지 조회 (검색 가능)
- ✅ 최근 활동 로그 조회
- ✅ 부적절한 콘텐츠 키워드 검색

#### 3.2 수정 권한
- ✅ 부적절한 공지사항 삭제
- ✅ 부적절한 파일 삭제
- ✅ 부적절한 채팅 메시지 삭제
- ✅ 콘텐츠 숨김 처리

---

### 4. 신고 관리 권한

#### 4.1 조회 권한
- ✅ 전체 신고 목록 조회
- ✅ 신고 상세 정보 조회
- ✅ 신고자 정보 조회
- ✅ 신고 대상 정보 조회 (사용자, 스터디, 콘텐츠)
- ✅ 신고 이력 조회
- ✅ 신고 통계 조회

#### 4.2 처리 권한
- ✅ 신고 처리 (경고, 정지, 삭제, 기각)
- ✅ 처리 사유 입력
- ✅ 신고자에게 처리 결과 알림
- ✅ 신고 대상에게 조치 알림
- ✅ 신고 상태 변경 (PENDING → RESOLVED)

---

### 5. 통계 및 분석 권한

#### 5.1 사용자 통계
- ✅ 전체 사용자 수
- ✅ 활성 사용자 수 (최근 7일, 30일)
- ✅ 신규 가입자 수 (일별, 주별, 월별)
- ✅ 탈퇴 사용자 수
- ✅ 정지된 사용자 수
- ✅ 가입 방법별 통계 (Google, GitHub, Email)
- ✅ 사용자 증가 추이 그래프

#### 5.2 스터디 통계
- ✅ 전체 스터디 수
- ✅ 활성 스터디 수
- ✅ 신규 스터디 수 (일별, 주별, 월별)
- ✅ 삭제된 스터디 수
- ✅ 카테고리별 스터디 수
- ✅ 공개/비공개 스터디 비율
- ✅ 평균 멤버 수
- ✅ 스터디 생성 추이 그래프

#### 5.3 활동 통계
- ✅ 전체 공지사항 수
- ✅ 전체 파일 수
- ✅ 전체 채팅 메시지 수
- ✅ 전체 할 일 수 (완료율)
- ✅ 전체 일정 수
- ✅ 일별 활동 추이

#### 5.4 신고 통계
- ✅ 전체 신고 수
- ✅ 미처리 신고 수
- ✅ 신고 유형별 통계
- ✅ 신고 처리 평균 시간
- ✅ 신고 처리율

#### 5.5 시스템 통계
- ✅ 서버 CPU 사용률
- ✅ 서버 메모리 사용률
- ✅ 디스크 사용량
- ✅ API 응답 시간
- ✅ 에러 발생 빈도

---

### 6. 시스템 설정 권한

#### 6.1 플랫폼 설정
- ✅ 플랫폼 공지사항 작성/수정/삭제
- ✅ 이용약관 수정
- ✅ 개인정보 처리방침 수정
- ✅ FAQ 관리
- ✅ 도움말 관리

#### 6.2 카테고리 관리
- ✅ 카테고리 추가
- ✅ 카테고리 수정 (이름, 이모지, 순서)
- ✅ 카테고리 삭제 (해당 카테고리 스터디가 없을 때만)
- ✅ 카테고리 숨김 (신규 스터디에서 선택 불가)

#### 6.3 배지 관리 (향후)
- ✅ 배지 생성
- ✅ 배지 조건 설정
- ✅ 배지 아이콘 변경
- ✅ 배지 비활성화

#### 6.4 시스템 설정
- ✅ 최대 파일 크기 설정
- ✅ 최대 스터디 인원 설정
- ✅ 신규 가입 제한 (점검 시)
- ✅ 특정 IP 차단
- ✅ 금지 단어 목록 관리

---

## 📊 관리자 대시보드 구성

### 메인 대시보드 (홈)
관리자가 로그인하면 가장 먼저 보는 화면

#### 핵심 지표 (4개 카드)
1. **전체 사용자**
   - 숫자: 1,234명
   - 변화: +12 (이번 주)
   - 추이: 🔺 증가 / 🔻 감소 / ➖ 동일

2. **활성 스터디**
   - 숫자: 156개
   - 변화: +8 (이번 주)
   - 정의: 최근 7일 내 활동이 있는 스터디

3. **신규 가입**
   - 숫자: 45명 (오늘)
   - 변화: +5 (어제 대비)

4. **미처리 신고**
   - 숫자: 12건
   - 긴급: 3건 (URGENT 우선순위)

#### 그래프 & 차트
1. **사용자 증가 추이** (라인 차트)
   - 기간: 주간 / 월간 / 연간
   - Y축: 사용자 수
   - X축: 날짜

2. **스터디 활동 현황** (바 차트)
   - 카테고리별 활성 스터디 수
   - 6개 카테고리: 프로그래밍, 취업/자격증, 어학, 운동/취미, 디자인, 기타

#### 최근 신고 (3개)
- 신고 유형, 대상명, 신고자, 시간
- 우선순위별 스타일 (URGENT: 빨간 테두리)
- [처리하기] 버튼 → 신고 상세 모달
- [더보기] → 신고 관리 페이지

#### 실시간 현황 (4개 상태 카드)
- 활성 사용자 (현재 온라인)
- 오늘 신규 가입
- 진행 중 스터디
- 미처리 신고

#### 시스템 상태
- 상태: 🟢 정상 / 🟡 경고 / 🔴 장애
- CPU 사용률: 프로그레스 바 (80% 초과 시 빨간색)
- 메모리 사용률: 프로그레스 바
- 디스크 사용량: 프로그레스 바

---

### 사용자 관리 페이지
전체 사용자를 조회하고 관리하는 페이지

#### 필터 바
- **상태 필터**: 전체 / 활성 / 정지 / 탈퇴
- **검색**: 이름, 이메일 검색
- **고급 검색** (선택):
  - 가입 방법 (Google, GitHub, Email)
  - 가입일 범위
  - 역할 (USER, SYSTEM_ADMIN)

#### 사용자 테이블 (7개 컬럼)
1. **체크박스**: 일괄 작업용
2. **사용자**: 아바타 + 이름 + 가입방법 아이콘
3. **이메일**
4. **가입일**: M/D 형식
5. **활동**: 온라인 인디케이터 + 마지막 로그인
6. **상태**: 활성 / 정지 / 탈퇴 배지
7. **액션**: ⋯ 버튼 → 드롭다운 (상세 보기, 이메일 발송, 정지, 삭제)

#### 일괄 작업 (체크박스 선택 시)
- "N명 선택됨" 표시
- [📧 이메일 발송] 버튼
- [⚠️ 계정 정지] 버튼
- [🗑️ 계정 삭제] 버튼

#### 페이지네이션
- 10개씩 표시
- 페이지 번호 (최대 5개)
- 이전 / 다음 버튼
- "1-10 / 1,234" 표시

#### 우측 위젯
1. **사용자 통계**:
   - 전체: 1,234명
   - 활성: 1,180명
   - 정지: 3명
   - 탈퇴: 51명

2. **빠른 검색**:
   - Google: 800명
   - GitHub: 300명
   - Email: 134명

3. **빠른 액션**:
   - [일괄 정지]
   - [일괄 삭제]
   - [엑셀 추출]

---

### 스터디 관리 페이지
전체 스터디를 조회하고 관리하는 페이지

#### 필터 바
- **공개/비공개**: 전체 / 공개 / 비공개
- **카테고리**: 전체 / 프로그래밍 / 취업/자격증 / 어학 / 운동/취미 / 디자인 / 기타
- **검색**: 스터디명 검색

#### 스터디 테이블 (8개 컬럼)
1. **체크박스**
2. **아이콘**: 이모지 (2rem)
3. **스터디명**: 이름 + 카테고리
4. **그룹장**: 이름 + provider
5. **멤버**: memberCount / maxMembers
6. **공개**: 공개/비공개 배지 + 신고 건수 (있을 때만)
7. **생성일**: M/D
8. **액션**: ⋯ → (상세, 숨김, 삭제)

#### 일괄 작업
- [👁️‍🗨️ 숨김 처리]
- [🗑️ 강제 삭제]

#### 페이지네이션 (사용자와 동일)

#### 우측 위젯
1. **스터디 통계**:
   - 전체: 156개
   - 활성: 140개
   - 비공개: 20개
   - 신고됨: 5개

2. **카테고리 현황**:
   - 💻 프로그래밍: 80개
   - 💼 취업/자격증: 30개
   - 🏃 운동/취미: 25개
   - 🎨 디자인: 21개

3. **빠른 액션**:
   - [일괄 숨김]
   - [일괄 삭제]
   - [엑셀 추출]

---

### 신고 관리 페이지
신고를 조회하고 처리하는 페이지

#### 필터 바
- **상태**: 전체 / 미처리 / 처리완료 / 기각
- **우선순위**: 전체 / 긴급 / 높음 / 보통 / 낮음
- **유형**: 전체 / 스팸 / 욕설/혐오 / 성희롱 / 사기 / 저작권 / 기타
- **검색**: 신고자, 대상 검색

#### 신고 테이블 (8개 컬럼)
1. **ID**: report-1234
2. **유형**: 스팸 / 욕설 등 배지
3. **대상**: 사용자명 또는 스터디명
4. **신고자**: 이름 + 이메일
5. **신고일**: M/D HH:mm
6. **우선순위**: 긴급 / 높음 / 보통 / 낮음 배지
7. **상태**: 미처리 / 처리완료 / 기각
8. **액션**: [처리하기] 버튼

#### 신고 상세 모달
- **신고 정보**:
  - 신고 유형
  - 신고 대상 (사용자 또는 스터디)
  - 신고자 정보
  - 신고 사유
  - 증거 자료 (스크린샷, 메시지 내용)
- **처리 옵션** (라디오):
  - ⚠️ 경고 (대상에게 경고 알림)
  - 🚫 정지 (정지 기간 선택: 7일, 30일, 영구)
  - 🗑️ 삭제 (콘텐츠 삭제 또는 계정 삭제)
  - ❌ 기각 (신고 기각 사유 입력)
- **처리 메모**: textarea (내부용)
- **이메일 통보**: 체크박스
- **[처리 완료]** 버튼

#### 우측 위젯
1. **신고 통계**:
   - 전체: 120건
   - 미처리: 12건
   - 긴급: 3건
   - 평균 처리 시간: 2.5시간

2. **유형별 통계**:
   - 스팸: 50건
   - 욕설/혐오: 30건
   - 성희롱: 15건
   - 사기: 10건
   - 저작권: 8건
   - 기타: 7건

3. **빠른 필터**:
   - [긴급 신고만 보기]
   - [오늘 신고만 보기]
   - [미처리만 보기]

---

### 통계 분석 페이지
플랫폼 전체 통계를 시각화하는 페이지

#### 4개 핵심 지표 (상단 카드)
- 전체 사용자
- 활성 스터디
- 신규 가입 (오늘)
- 미처리 신고

#### 사용자 분석
1. **사용자 증가 추이** (라인 차트)
   - 기간 선택: 주간 / 월간 / 연간
   - 누적 사용자 vs 신규 가입자

2. **가입 방법별 분포** (파이 차트)
   - Google: 65%
   - GitHub: 25%
   - Email: 10%

3. **활성 사용자 추이** (라인 차트)
   - DAU (일일 활성 사용자)
   - WAU (주간 활성 사용자)
   - MAU (월간 활성 사용자)

#### 스터디 분석
1. **스터디 생성 추이** (라인 차트)
   - 월별 신규 스터디 수

2. **카테고리별 분포** (바 차트)
   - 6개 카테고리별 스터디 수

3. **평균 멤버 수 추이** (라인 차트)
   - 월별 평균 멤버 수

#### 활동 분석
1. **일별 활동 추이** (라인 차트)
   - 공지, 파일, 채팅, 할일 생성 수

2. **활동 유형별 분포** (파이 차트)
   - 채팅: 60%
   - 공지: 15%
   - 파일: 15%
   - 할일: 10%

#### 신고 분석
1. **신고 처리 현황** (바 차트)
   - 미처리, 처리완료, 기각

2. **신고 유형별 분포** (파이 차트)
   - 스팸, 욕설, 성희롱 등

---

### 시스템 설정 페이지
플랫폼 설정을 관리하는 페이지

#### 플랫폼 설정
- **플랫폼 공지사항**:
  - Rich Text Editor
  - 노출 여부 토글
  - 노출 위치 선택 (상단 배너, 메인 페이지)

#### 카테고리 관리
- **카테고리 목록**:
  - 드래그 앤 드롭으로 순서 변경
  - 이름, 이모지, 순서, 활성 상태
  - [수정] [삭제] 버튼
- **[새 카테고리 추가]** 버튼

#### 시스템 설정
- **파일 업로드**:
  - 최대 파일 크기: 10MB (input number + select MB/GB)
  - 허용 파일 형식: 체크박스
- **스터디 설정**:
  - 최대 인원: 100명 (input number)
  - 최소 인원: 2명
- **보안 설정**:
  - 신규 가입 제한: 토글
  - IP 차단 목록: textarea (한 줄에 하나)
  - 금지 단어 목록: textarea

#### 법적 문서 관리
- **이용약관**:
  - Rich Text Editor
  - 마지막 수정일 표시
  - [저장] 버튼
- **개인정보 처리방침**:
  - Rich Text Editor
  - 마지막 수정일 표시
  - [저장] 버튼

---

## 🎨 관리자 페이지 UX 원칙

### 1. 효율성 우선
- 한 화면에 최대한 많은 정보 표시
- 빠른 필터링 및 검색
- 일괄 작업 지원
- 키보드 단축키 지원

### 2. 명확한 시각화
- 그래프와 차트로 데이터 시각화
- 색상 코딩 (빨간색: 긴급, 주황색: 경고, 녹색: 정상)
- 아이콘과 배지로 상태 표시

### 3. 신속한 액션
- 2클릭 이내에 모든 주요 액션 수행
- 모달을 통한 상세 정보 및 액션
- 드롭다운을 통한 빠른 액션

### 4. 안전한 확인 절차
- 중요한 액션 (삭제, 정지 등)은 확인 다이얼로그
- 입력 확인 ("삭제"를 정확히 입력)
- 되돌릴 수 없는 작업은 경고 메시지

### 5. 실시간 업데이트
- WebSocket을 통한 실시간 통계 업데이트
- 신고 접수 시 즉시 알림
- 시스템 상태 변화 시 즉시 반영

---

## 🚨 관리자 알림 (우선순위별)

### 긴급 (URGENT) - 즉시 알림
1. **시스템 장애**:
   - CPU 사용률 90% 초과
   - 메모리 사용률 90% 초과
   - API 에러율 10% 초과

2. **긴급 신고**:
   - 우선순위 "긴급"으로 표시된 신고
   - 성희롱, 사기 등 심각한 신고

3. **대량 탈퇴**:
   - 1시간 내 10명 이상 탈퇴

### 높음 (HIGH) - 30분 이내 알림
1. **높은 우선순위 신고**
2. **계정 해킹 의심**:
   - 짧은 시간 내 여러 기기에서 로그인
3. **스팸 의심 활동**:
   - 같은 사용자가 10개 이상 스터디 생성

### 보통 (NORMAL) - 1시간 이내 알림
1. **일반 신고**
2. **시스템 경고**:
   - CPU 사용률 80% 초과
   - 메모리 사용률 80% 초과

### 낮음 (LOW) - 일일 리포트
1. **통계 요약**:
   - 일일 신규 가입자 수
   - 일일 신규 스터디 수
   - 일일 활동 요약

---

## 📝 관리자 액션 로그

모든 관리자 액션은 로그로 기록되어야 합니다.

### 로그 항목
- **액션 ID**: 고유 ID
- **관리자 ID**: 액션을 수행한 관리자
- **액션 유형**: 사용자 정지, 스터디 삭제, 신고 처리 등
- **대상**: 사용자 ID, 스터디 ID 등
- **이전 값**: 변경 전 상태
- **새 값**: 변경 후 상태
- **사유**: 관리자가 입력한 사유
- **타임스탬프**: 액션 수행 시각

### 로그 조회
- 관리자별 액션 이력 조회
- 날짜 범위 필터
- 액션 유형 필터
- 대상별 이력 조회

---


## 🎯 다음 단계

1. **기능 명세 작성** (`03-admin-features-specification.md`)
   - 영역별 상세 기능 명세
   - 사용자 관리, 스터디 관리, 신고 관리, 통계, 시스템 설정

2. **API 명세 작성** (`backend/api/admin/`)
   - 영역별 API 엔드포인트 정의
   - 요청/응답 스키마
   - 권한 체계

3. **UI 설계** (`screens/admin/`)
   - 화면별 상세 레이아웃
   - 컴포넌트 정의
   - 인터랙션 플로우

---

**작성일**: 2025-11-25  
**다음 문서**: `03-admin-features-specification.md` (관리자 기능 명세)

