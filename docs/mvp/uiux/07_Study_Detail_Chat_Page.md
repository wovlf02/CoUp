# 07. 스터디 상세 페이지 (Study Detail - Chat Page)

## 1. 목적
스터디 그룹 멤버들이 실시간으로 텍스트 메시지를 주고받으며 소통하고, 학습 관련 질문이나 정보를 공유할 수 있도록 합니다.

## 2. 주요 요소
*   **상단 헤더**: CoUp 로고, 사용자 프로필 이미지/닉네임, 알림 아이콘, 검색 바 (전역 헤더)
*   **좌측 사이드바**: 주요 메뉴 (전역 사이드바)
*   **스터디 헤더**: 스터디명, 스터디 소개 요약 등 (Overview 페이지와 동일)
*   **탭 네비게이션**: 스터디 내의 주요 기능(개요, 채팅, 공지, 파일, 캘린더, 할 일, 설정)으로 이동하는 탭 메뉴
*   **채팅 메시지 목록**: 이전 채팅 내역을 포함하여 실시간으로 업데이트되는 메시지 목록
*   **메시지 입력 필드**: 텍스트 메시지를 입력하고 전송하는 영역
*   **전송 버튼**: 입력된 메시지를 전송합니다.

## 3. 레이아웃
*   **2단 레이아웃**: 좌측 전역 사이드바, 우측 스터디 상세 콘텐츠 영역으로 구성됩니다.
*   **채팅 영역**: 스터디 상세 콘텐츠 영역 내에서 채팅 메시지 목록이 대부분을 차지하고, 하단에 메시지 입력 필드가 고정됩니다.
*   **메시지 버블**: 내가 보낸 메시지는 오른쪽에, 다른 사람이 보낸 메시지는 왼쪽에 표시되며, 각 메시지에는 발신자 프로필 이미지/닉네임과 전송 시간이 함께 표시됩니다.
*   **무한 스크롤**: 메시지 목록을 위로 스크롤하면 이전 메시지들이 추가로 로드됩니다.
*   **반응형 디자인**: 모바일 환경에서는 채팅 메시지 목록과 입력 필드가 화면에 최적화되어 표시됩니다.

## 4. 상호작용
*   **메시지 전송**: 메시지 입력 후 전송 버튼 클릭 또는 Enter 키 입력 시 메시지가 전송됩니다.
*   **실시간 업데이트**: 새로운 메시지가 도착하면 자동으로 목록에 추가되고, 스크롤이 최하단으로 이동합니다.
*   **이전 메시지 로드**: 메시지 목록을 위로 스크롤하여 이전 메시지를 요청합니다.

## 5. 디자인 고려사항
*   **가독성**: 메시지 버블의 색상, 폰트 크기, 여백 등을 고려하여 가독성을 최우선으로 합니다.
*   **시간 표시**: 메시지 전송 시간을 명확하게 표시하되, 너무 많은 공간을 차지하지 않도록 합니다.
*   **사용자 프로필**: 각 메시지 옆에 발신자의 프로필 이미지와 닉네임을 작게 표시하여 누가 보낸 메시지인지 쉽게 알 수 있도록 합니다.
*   **로딩 피드백**: 이전 메시지를 로드 중일 때 로딩 스피너를 표시하여 사용자에게 피드백을 제공합니다.
*   **빈 상태 처리**: 채팅 내역이 없을 경우, "첫 메시지를 보내 스터디원들과 소통을 시작해보세요!"와 같은 안내 메시지를 표시합니다.

## 6. UI 요소 상세 (Detailed UI Elements)

### 6.1. 상단 헤더 (Global Header) 및 좌측 사이드바 (Left Sidebar)
*   메인 대시보드 페이지와 동일한 구성 및 스타일을 따릅니다.

### 6.2. 스터디 헤더 (Study Header) 및 탭 네비게이션 (Tab Navigation)
*   스터디 개요 페이지와 동일한 구성 및 스타일을 따릅니다.

### 6.3. 채팅 영역 (Chat Area)
*   **구성**: 메시지 목록 컨테이너, 메시지 입력 폼.
*   **레이아웃**: 스터디 상세 콘텐츠 영역 내에서 메시지 목록이 flex-grow를 통해 공간을 채우고, 메시지 입력 폼이 하단에 고정됩니다.
*   **스타일**: 배경 흰색 (#FFFFFF), 둥근 모서리 (상단 8px), 상단에 가벼운 그림자 (shadow-sm)로 입력 폼과 분리.

### 6.4. 메시지 목록 컨테이너 (Message List Container)
*   **구성**: 개별 메시지 버블.
*   **스타일**: 최대 높이  calc(100% - 입력 폼 높이), overflow-y: auto (스크롤 가능).
*   **로딩 피드백**: 이전 메시지 로드 시 상단에 작은 로딩 스피너 표시.

### 6.5. 메시지 버블 (Message Bubble)
*   **구성**: 발신자 프로필 이미지 (32x32px 원형), 닉네임, 메시지 내용, 전송 시간 (폰트 10px, Neutral Gray).
*   **스타일**:
    *   **내 메시지**: 배경 Primary Color Light (#C8E6C9), 텍스트 Neutral Dark, 우측 정렬, 하단에 작은 삼각형 꼬리 추가 (말풍선 효과), 둥근 모서리 (8px).
    *   **상대방 메시지**: 배경 Neutral Light Gray (#E0E0E0), 텍스트 Neutral Dark, 좌측 정렬, 하단에 작은 삼각형 꼬리 추가, 둥근 모서리 (8px).
*   **메시지 내용**: 폰트 14px, P 태그, 최대 너비 70% 설정하여 너무 길어지지 않도록 함.
*   **간격**: 메시지 버블 사이에 10px 간격.

### 6.6. 메시지 입력 폼 (Message Input Form)
*   **구성**: 텍스트 에어리어 (높이 자동 조절), 전송 버튼 (Primary Icon Button).
*   **스타일**: 배경 흰색 (#FFFFFF), 상단 테두리 (Neutral Light Gray), 패딩 16px.
*   **텍스트 에어리어**: 플레이스홀더 "메시지를 입력하세요...". Enter 키로 전송, Shift + Enter로 줄바꿈. 최대 5줄까지 확장 후 스크롤.
*   **전송 버튼**: Material Icons (send), 40x40px, Primary Color 배경, 흰색 아이콘.

## 7. 화면 시각화 (Visual Representation)

```
// 데스크톱 (Desktop View)
+--------------------------------------------------------------------------------------------------------+
| [CoUp Logo]                  [검색 바 - 스터디, 사용자 검색]               [🔔(1)] [👤 닉네임] |
+--------------------------------------------------------------------------------------------------------+
| +-------------------------+  +-----------------------------------------------------------------------+ |
| | [대시보드]                |
| | [스터디 탐색]           |
| | [내 스터디]             |
| | [마이페이지]            |
| | [알림]                  |
| |                         |
| |                         |
| |                         |
| +-------------------------+  +-----------------------------------------------------------------------+ |
|                                                                       |
|                                                                       |
| +-------------------------------------------------------------------+ |
| | [스터디 로고] **스터디명** (카테고리)                             |
| | 스터디 소개 요약...                                               |
| |                                       [스터디 가입/탈퇴 버튼]   |
| +-------------------------------------------------------------------+ |
|                                                                       |
| +-------------------------------------------------------------------+ |
| | | [개요] [채팅] (선택됨) [공지] [파일] [캘린더] [할 일] [설정]              |
| +-------------------------------------------------------------------+ |
|                                                                       |
|                                                                       |
| +-------------------------------------------------------------------+ |
| | [이전 메시지 로딩 스피너]                                       |
| |                                                                   |
| |   [👤] [닉네임 A]                                                   |
| |   [메시지 버블 - 상대방] 안녕하세요!                              |
| |   [10:00 AM]                                                      |
| |                                                                   |
| |                                                     [👤] [나]   |
| |                                   [메시지 버블 - 나] 반갑습니다! |
| |                                                     [10:01 AM]  |
| |                                                                   |
| |   [👤] [닉네임 B]                                                   |
| |   [메시지 버블 - 상대방] 오늘 스터디 시간은 19시입니다.             |
| |   [10:05 AM]                                                      |
| |                                                                   |
| +-------------------------------------------------------------------+ |
| | [ 메시지를 입력하세요...                         ] [▶️]         |
| +-------------------------------------------------------------------+ |
+--------------------------------------------------------------------------------------------------------+
```
```
// 모바일 (Mobile View)
+--------------------------------------------------------------------------------+
| [☰] [CoUp Logo]                 [검색] [🔔(1)] [👤] |
+--------------------------------------------------------------------------------+
| +-------------------------------------+                                        |
| | [스터디 로고] **스터디명** (카테고리) |                                        |
| | 스터디 소개 요약...                 |                                        |
| |                                     |                                        |
| | [개요] [채팅] [공지] [파일] [캘린더] [할 일] [설정] (스크롤 가능) |
| +-------------------------------------+                                        |
|                                                                                |
| +-------------------------------------+                                        |
| | [이전 메시지 로딩 스피너]           |
| |                                     |
| | [👤] [닉네임 A]                     |
| | [메시지 버블 - 상대방] 안녕하세요!  |
| | [10:00 AM]                        |
| |                                     |
| |                   [👤] [나]         |
| |   [메시지 버블 - 나] 반갑습니다!     |
| |                   [10:01 AM]        |
| |                                     |
| | [👤] [닉네임 B]                     |
| | [메시지 버블 - 상대방] 오늘 ...     |
| | [10:05 AM]                        |
| |                                     |
| +-------------------------------------+                                        |
| | [ 메시지 입력... ] [▶️]            |
| +-------------------------------------+                                        |
+--------------------------------------------------------------------------------+
```