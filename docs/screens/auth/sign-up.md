# 03. 회원가입 페이지 (Sign Up)

> **화면 ID**: `AUTH-02`  
> **라우트**: `/sign-up`  
> **레이아웃**: 네비게이션 없음 (중앙 정렬)  
> **렌더링**: CSR

---

## 📐 화면 구조

```
┌────────────────────────────────────────────────────────────────┐
│                                                                │
│  ← 뒤로가기                                                     │
│                                                                │
│                       [Logo] CoUp                              │
│                    새로운 여정을 시작하세요                      │
│                                                                │
│              ┌──────────────────────────────┐                  │
│              │  이메일                      │                  │
│              └──────────────────────────────┘                  │
│              ┌──────────────────────────────┐                  │
│              │  비밀번호                    │                  │
│              └──────────────────────────────┘                  │
│              ┌──────────────────────────────┐                  │
│              │  비밀번호 확인               │                  │
│              └──────────────────────────────┘                  │
│                                                                │
│              ┌──────────────────────────────┐                  │
│              │      회원가입                │                  │
│              └──────────────────────────────┘                  │
│                                                                │
│              회원가입 시 [이용약관] 및 [개인정보처리방침]에      │
│              동의하는 것으로 간주됩니다.                         │
│                                                                │
│              이미 계정이 있으신가요? [로그인]                   │
│                                                                │
└────────────────────────────────────────────────────────────────┘
```

---

## 🎨 상세 설계

### 전체 레이아웃
```
배경: gray-50
중앙 카드: white, 그림자
카드 크기: 480px × auto (Desktop)
패딩: 48px (Desktop), 24px (Mobile)
둥근 모서리: 16px
```

### 헤더
```
[Logo] CoUp
새로운 여정을 시작하세요
```

**차이점**:
- 제목: "새로운 여정을 시작하세요" (로그인과 다른 메시지)

---

## 📝 이메일/비밀번호 회원가입 폼

```
┌────────────────────────────────────┐
│  이메일                            │
│  [example@email.com]              │
└────────────────────────────────────┘

┌────────────────────────────────────┐
│  비밀번호                          │
│  [••••••••]                   [👁️]│
└────────────────────────────────────┘

┌────────────────────────────────────┐
│  비밀번호 확인                     │
│  [••••••••]                   [👁️]│
└────────────────────────────────────┘

┌────────────────────────────────────┐
│         회원가입                   │
└────────────────────────────────────┘
```

**이메일 입력**:
- Label: "이메일"
- Type: email
- Required
- Placeholder: "example@email.com"
- 검증: 유효한 이메일 형식
- 검증: 이미 사용 중인 이메일인지 확인 (서버)

**비밀번호 입력**:
- Label: "비밀번호"
- Type: password
- Required
- Placeholder: "8자 이상, 영문/숫자/특수문자 포함"
- 검증:
  - 최소 8자 이상
  - 영문 대소문자, 숫자, 특수문자 중 2가지 이상 포함
- 우측 아이콘: 👁️ (표시/숨김 토글)
- 실시간 강도 표시:
  ```
  비밀번호 강도: ████░░░░ 약함
  비밀번호 강도: ████████ 강함
  ```

**비밀번호 확인 입력**:
- Label: "비밀번호 확인"
- Type: password
- Required
- Placeholder: "비밀번호를 다시 입력하세요"
- 검증: 비밀번호와 일치해야 함
- 에러 메시지: "비밀번호가 일치하지 않습니다"

**회원가입 버튼**:
- 배경: primary-600
- 텍스트: white (Semibold)
- 높이: 48px
- 전체 너비
- Hover: primary-700, 상승 효과
- Disabled: 모든 검증 통과하지 못하면 비활성화

**폼 검증 에러**:
```
이메일:
- "올바른 이메일 형식이 아닙니다"
- "이미 사용 중인 이메일입니다"

비밀번호:
- "비밀번호는 8자 이상이어야 합니다"
- "영문, 숫자, 특수문자 중 2가지 이상 포함해야 합니다"

비밀번호 확인:
- "비밀번호가 일치하지 않습니다"
```

---

## 📄 약관 동의 안내

```
회원가입 시 [이용약관] 및 [개인정보처리방침]에
동의하는 것으로 간주됩니다.
```

**스타일**:
- 텍스트: gray-500 (text-xs, 12px)
- 링크: primary-500, Underline
- 중앙 정렬
- 버튼 아래 24px 간격

---

## 🔗 로그인 링크

```
이미 계정이 있으신가요? [로그인]
```

**클릭** → `/sign-in`

---

## 🔄 회원가입 흐름

### Credentials 회원가입 (이메일/비밀번호)

1. 폼 작성 및 검증
2. 회원가입 버튼 클릭
3. 서버로 이메일/비밀번호 전송
4. 이메일 중복 확인
5. 비밀번호 bcrypt 해싱 (salt rounds: 10)
6. DB에 사용자 저장
7. **이메일 인증 링크 발송** (선택적)
8. 자동 로그인 (세션 생성)
9. **프로필 완성 페이지로 이동** (`/onboarding`)
   - 닉네임 입력 (필수)
   - 프로필 이미지 (선택)
   - 관심 카테고리 선택 (선택)
   - 자기소개 입력 (선택)
10. 완료 후 대시보드로 이동

---

## 💡 회원가입 방식

### 이메일/비밀번호 회원가입만 제공

**이유**:
- 로그인 페이지에서 소셜 로그인(Google/GitHub) 제공
- 회원가입은 이메일/비밀번호 방식만으로 간소화
- 사용자가 직접 계정을 생성하는 명확한 경로 제공

**소셜 계정 사용자**:
- 로그인 페이지에서 Google/GitHub 버튼 클릭
- 첫 로그인 시 자동으로 계정 생성
- 프로필 완성 페이지로 이동

---

## 🎬 인터랙션

### 로딩 상태

```
┌────────────────────────────────────┐
│  [Spinner]  회원가입 중...         │
└────────────────────────────────────┘
```

### 성공

```
1. 회원가입 성공
2. 자동 로그인
3. 온보딩 페이지로 이동 → `/onboarding`
4. Toast 알림: "환영합니다! 프로필을 완성해주세요"
```

### 실패

```
이메일 중복:
┌────────────────────────────────────┐
│  ⚠️  이미 사용 중인 이메일입니다.   │
└────────────────────────────────────┘

서버 오류:
┌────────────────────────────────────┐
│  ⚠️  회원가입에 실패했습니다.       │
│     잠시 후 다시 시도해주세요.     │
└────────────────────────────────────┘
```

---

## 🔐 보안

### 비밀번호 보안

- bcrypt 해싱 (salt rounds: 10)
- 평문 비밀번호 저장 금지
- 비밀번호 강도 검증
- SQL Injection 방어 (Prisma ORM)
- XSS 방어 (입력값 sanitize)

### 이메일 인증 (선택적)

1. 회원가입 완료
2. 인증 토큰 생성 (UUID)
3. 이메일로 인증 링크 발송
4. 사용자가 링크 클릭
5. 토큰 검증 후 계정 활성화

---

## 📱 반응형 설계

동일 (로그인 페이지와 동일)

---

## 🎨 추가 스타일

```css
/* Password Strength Indicator */
.password-strength {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: 8px;
}

.strength-bar {
  flex: 1;
  height: 4px;
  background: var(--gray-200);
  border-radius: 2px;
  overflow: hidden;
}

.strength-fill {
  height: 100%;
  transition: width 0.3s ease, background 0.3s ease;
}

.strength-fill.weak {
  width: 33%;
  background: var(--danger-500);
}

.strength-fill.medium {
  width: 66%;
  background: var(--warning-500);
}

.strength-fill.strong {
  width: 100%;
  background: var(--success-500);
}

.strength-label {
  font-size: 12px;
  color: var(--gray-600);
}
```

---

## 📐 ASCII 스케치

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│  ← 뒤로                                                  │
│                                                         │
│                    ┌─────────────┐                      │
│                    │   [LOGO]    │                      │
│                    │    CoUp     │                      │
│                    └─────────────┘                      │
│                                                         │
│              새로운 여정을 시작하세요                     │
│                                                         │
│         ┌───────────────────────────────────┐           │
│         │  이메일                           │           │
│         │  [example@email.com]             │           │
│         └───────────────────────────────────┘           │
│                                                         │
│         ┌───────────────────────────────────┐           │
│         │  비밀번호                         │           │
│         │  [••••••••]                  [👁️]│           │
│         └───────────────────────────────────┘           │
│         비밀번호 강도: ████████ 강함                     │
│                                                         │
│         ┌───────────────────────────────────┐           │
│         │  비밀번호 확인                     │           │
│         │  [••••••••]                  [👁️]│           │
│         └───────────────────────────────────┘           │
│                                                         │
│         ┌───────────────────────────────────┐           │
│         │         회원가입                  │           │
│         └───────────────────────────────────┘           │
│                                                         │
│         회원가입 시 [이용약관] 및                        │
│         [개인정보처리방침]에 동의하는                    │
│         것으로 간주됩니다.                               │
│                                                         │
│         이미 계정이 있으신가요? [로그인]                 │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## ✅ 완료 체크리스트

- [ ] 카드 레이아웃 구현
- [ ] 이메일/비밀번호/비밀번호 확인 입력 폼
- [ ] 폼 검증 (이메일 형식, 비밀번호 강도, 비밀번호 일치)
- [ ] 비밀번호 강도 표시기
- [ ] 이메일 중복 확인
- [ ] 회원가입 버튼 (Credentials)
- [ ] NextAuth.js Credentials Provider 연동
- [ ] bcrypt 비밀번호 해싱
- [ ] 약관 동의 안내 문구
- [ ] 로그인 페이지 링크
- [ ] 온보딩 페이지 연결
- [ ] 반응형 테스트

---

**다음 화면**: `04_dashboard.md` (대시보드)
