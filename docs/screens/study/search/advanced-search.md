# 스터디 고급 검색 및 필터 (Study Advanced Search)

> **화면 ID**: `SEARCH-ADVANCED-01`  
> **라우트**: `/studies/search`  
> **목적**: 사용자 맞춤형 스터디 찾기  
> **렌더링**: SSR + CSR

---

## ? 화면 목적

**"나에게 딱 맞는 스터디를 쉽게 찾기"**
- 다양한 필터 옵션 제공
- 실시간 결과 미리보기
- 검색 조건 저장 기능
- AI 추천 시스템 (선택적)

---

## ? 화면 구조

```
┌────────┬─────────────────────────────────────────────────┬──────────────────┐
│        │  ? 스터디 검색                  [내 조건 저장]  │                  │
│  Nav   ├─────────────────────────────────────────────────┤  [추천 스터디]   │
│  Bar   │                                                 │                  │
│        │  ┌───────────────────────────────────────────┐  │  ? 당신을 위한  │
│ ?     │  │ 키워드                                    │  │  추천            │
│ ? ←   │  │ [알고리즘_________________] [검색]       │  │                  │
│ ?     │  └───────────────────────────────────────────┘  │  ? 알고리즘     │
│ ?     │                                                 │  ?????      │
│ ?     │  ┌───────────────────────────────────────────┐  │  15/20명         │
│ ?     │  │ ?? 카테고리                               │  │                  │
│        │  │ [?] 프로그래밍    [ ] 취업준비            │  │  ? 취업 준비    │
│        │  │ [ ] 자격증        [ ] 어학                │  │  ????☆      │
│        │  │ [ ] 운동          [ ] 독서                │  │  12/15명         │
│        │  └───────────────────────────────────────────┘  │                  │
│        │                                                 │  ? 러닝 모임    │
│        │  ┌───────────────────────────────────────────┐  │  ?????      │
│        │  │ ? 모집 현황                              │  │  8/10명          │
│        │  │ ( ) 모두  (?) 모집중  ( ) 대기가능       │  │                  │
│        │  └───────────────────────────────────────────┘  │  ? 검색 팁      │
│        │                                                 │  구체적인        │
│        │  ┌───────────────────────────────────────────┐  │  키워드일수록    │
│        │  │ ? 활동 빈도                              │  │  정확해요!       │
│        │  │ [ ] 매일  [?] 주 3-4회  [ ] 주 1-2회     │  │                  │
│        │  └───────────────────────────────────────────┘  │                  │
│        │                                                 │                  │
│        │  ┌───────────────────────────────────────────┐  │                  │
│        │  │ ?? 스터디 설정                            │  │                  │
│        │  │ [?] 자동 승인  [ ] 비공개                 │  │                  │
│        │  └───────────────────────────────────────────┘  │                  │
│        │                                                 │                  │
│        │  [필터 초기화]              [12개 결과 보기 →]  │                  │
│        │                                                 │                  │
└────────┴─────────────────────────────────────────────────┴──────────────────┘
```

---

## ? 섹션별 상세 설계

### 1. 검색 키워드

```
┌─────────────────────────────────────────────────────────┐
│ 키워드                                                   │
│ ┌───────────────────────────────────────────────────────┐│
│ │ 알고리즘 코딩테스트                 [X] [X]    [검색] ││
│ └───────────────────────────────────────────────────────┘│
│                                                         │
│ ? 인기 검색어                                           │
│ #알고리즘 #취업준비 #영어회화 #토익 #운동               │
└─────────────────────────────────────────────────────────┘
```

**기능**:
- 멀티 키워드 입력 (태그 형태)
- 자동완성
- 인기 검색어 제안
- 최근 검색어 (로그인 사용자)

---

### 2. 카테고리 필터

```
┌─────────────────────────────────────────────────────────┐
│ ?? 카테고리                                              │
│                                                         │
│ [?] 프로그래밍 (48)      [ ] 취업준비 (32)              │
│ [ ] 자격증 (15)          [ ] 어학 (28)                  │
│ [ ] 운동 (12)            [ ] 독서 (8)                   │
│ [ ] 기타 (5)                                            │
│                                                         │
│ 하위 카테고리 (프로그래밍 선택 시)                       │
│ [ ] 웹 개발  [ ] 앱 개발  [?] 알고리즘  [ ] AI/ML      │
└─────────────────────────────────────────────────────────┘
```

**표시**:
- 각 카테고리별 스터디 수
- 다중 선택 가능
- 하위 카테고리 동적 표시

---

### 3. 모집 현황 필터

```
┌─────────────────────────────────────────────────────────┐
│ ? 모집 현황                                             │
│                                                         │
│ ( ) 모두                                                │
│ (?) 모집 중 (여유 인원 있음)                             │
│ ( ) 대기 가능 (정원 초과 가능)                           │
│                                                         │
│ 멤버 수 범위                                             │
│ [5____________________15] 명                           │
│ 최소 5명 ~ 최대 15명                                     │
└─────────────────────────────────────────────────────────┘
```

---

### 4. 활동 빈도 필터

```
┌─────────────────────────────────────────────────────────┐
│ ? 활동 빈도                                             │
│                                                         │
│ [ ] 매일                                                │
│ [?] 주 3-4회                                            │
│ [ ] 주 1-2회                                            │
│ [ ] 월 1-2회                                            │
│ [ ] 비정기적                                            │
└─────────────────────────────────────────────────────────┘
```

---

### 5. 스터디 설정 필터

```
┌─────────────────────────────────────────────────────────┐
│ ?? 스터디 설정                                           │
│                                                         │
│ 가입 방식                                                │
│ [?] 자동 승인만                                         │
│ [ ] 수동 승인 포함                                       │
│                                                         │
│ 공개 설정                                                │
│ [?] 공개 스터디만                                       │
│ [ ] 비공개 포함 (초대 링크 필요)                         │
└─────────────────────────────────────────────────────────┘
```

---

### 6. 정렬 옵션

```
┌─────────────────────────────────────────────────────────┐
│ ? 정렬 기준                                             │
│                                                         │
│ (?) 추천순 (AI 기반)                                     │
│ ( ) 최신순                                              │
│ ( ) 인기순 (멤버 수)                                     │
│ ( ) 평점 높은 순                                         │
│ ( ) 활동 활발한 순                                       │
└─────────────────────────────────────────────────────────┘
```

---

### 7. 고급 필터 (접기/펼치기)

```
┌─────────────────────────────────────────────────────────┐
│ ? 고급 필터                                [펼치기 ▼]  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ 평점 (별점)                                              │
│ [4__________5] ?                                       │
│ 4.0 ~ 5.0점만                                           │
│                                                         │
│ 생성일                                                   │
│ ( ) 전체  ( ) 최근 1개월  (?) 최근 3개월  ( ) 최근 6개월│
│                                                         │
│ 그룹장 활동                                              │
│ [?] 활발한 그룹장만 (마지막 로그인 7일 이내)             │
│                                                         │
│ 지역 (오프라인 모임 있는 경우)                           │
│ [서울 ▼] [강남구 ▼]                                    │
│                                                         │
│ 나이대 (선택)                                            │
│ [ ] 10대  [?] 20대  [?] 30대  [ ] 40대+               │
└─────────────────────────────────────────────────────────┘
```

---

## ? 실시간 검색 결과 미리보기

### 하단 결과 요약
```
┌─────────────────────────────────────────────────────────┐
│ 12개 스터디가 검색 조건과 일치합니다                     │
│                                                         │
│ 평균 평점: ????☆ 4.3                                │
│ 평균 멤버 수: 14.5명                                     │
│ 가장 많은 카테고리: 프로그래밍 (8개)                     │
│                                                         │
│ [12개 결과 보기 →]                                      │
└─────────────────────────────────────────────────────────┘
```

---

## ? 검색 조건 저장

### 저장된 검색 조건 관리

```
┌─────────────────────────────────────────────────────────┐
│ ? 저장된 검색 조건                                      │
│                                                         │
│ "알고리즘 스터디 (주 3회)"                               │
│ ? 카테고리: 프로그래밍 > 알고리즘                        │
│ ? 활동: 주 3-4회                                         │
│ ? 자동 승인                                              │
│ [적용] [수정] [삭제]                                    │
│                                                         │
│ "영어 회화 (서울)"                                       │
│ ? 카테고리: 어학 > 영어                                  │
│ ? 지역: 서울 강남구                                      │
│ [적용] [수정] [삭제]                                    │
│                                                         │
│ [+ 현재 조건 저장하기]                                   │
└─────────────────────────────────────────────────────────┘
```

**기능**:
- 현재 검색 조건 저장 (최대 5개)
- 저장된 조건 빠른 적용
- 수정/삭제 가능
- 알림 설정 (조건 맞는 새 스터디 생성 시)

---

## ? AI 추천 시스템 (선택적)

### 우측 위젯: 맞춤 추천

```
┌─────────────────────────────────┐
│ ? 당신을 위한 추천              │
│                                 │
│ 프로필 분석 기반                 │
│ ? 관심사: 프로그래밍            │
│ ? 실력: 중급                    │
│ ? 활동 패턴: 저녁 8-10시        │
│                                 │
│ ? 알고리즘 마스터               │
│ ? 95% 매칭                     │
│ ????? 4.8               │
│ 15/20명 · 주 3회               │
│ [자세히]                        │
│                                 │
│ ? 코딩 면접 대비                │
│ ? 92% 매칭                     │
│ ????☆ 4.5               │
│ 12/15명 · 주 2회               │
│ [자세히]                        │
│                                 │
│ [더 많은 추천 보기 →]           │
└─────────────────────────────────┘
```

**매칭 알고리즘**:
- 사용자 프로필 (관심사, 실력, 목표)
- 활동 패턴 (시간대, 빈도)
- 이전 참여 스터디 이력
- 유사 사용자 선호도

---

## ? 검색 결과 페이지

### URL 구조
```
/studies/search?q=알고리즘&category=programming&frequency=weekly&auto_approve=true
```

### 결과 화면
```
┌─────────────────────────────────────────────────────────┐
│ 검색 결과: "알고리즘" (12개)                             │
│                                                         │
│ 적용된 필터:                                             │
│ [프로그래밍 ×] [주 3-4회 ×] [자동 승인 ×]  [초기화]    │
│                                                         │
│ [추천순 ▼] [최신순] [인기순] [평점순]                   │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│ │ ?          │  │ ?          │  │ ?          │     │
│ │ 알고리즘    │  │ 취업 준비   │  │ 운동 루틴   │     │
│ │ ?????   │  │ ????☆   │  │ ?????   │     │
│ │ 15/20명     │  │ 12/15명     │  │ 8/10명      │     │
│ │ [가입]      │  │ [가입]      │  │ [가입]      │     │
│ └─────────────┘  └─────────────┘  └─────────────┘     │
│                                                         │
│ ┌─────────────┐  ┌─────────────┐  ┌─────────────┐     │
│ │ ?          │  │ ?          │  │ ?          │     │
│ │ ...         │  │ ...         │  │ ...         │     │
│ └─────────────┘  └─────────────┘  └─────────────┘     │
│                                                         │
│            ← [1] 2 3 4 →                                │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

---

## ? 인터랙션

### 실시간 필터 적용
```javascript
const [filters, setFilters] = useState({
  keywords: [],
  categories: [],
  frequency: null,
  autoApprove: false,
  memberRange: [5, 20],
  rating: [3, 5]
})

// 디바운스된 검색
const debouncedSearch = useDebounce(filters, 500)

const { data, isLoading } = useQuery(
  ['studies', 'search', debouncedSearch],
  () => searchStudies(debouncedSearch),
  {
    enabled: Object.keys(debouncedSearch).length > 0
  }
)
```

### 검색 조건 저장
```javascript
const handleSaveCondition = async (name) => {
  await api.post('/api/v1/users/me/search-conditions', {
    name,
    filters,
    notify: true // 조건 맞는 새 스터디 알림
  })
  
  toast.success('검색 조건이 저장되었습니다!')
}
```

---

## ? 반응형 설계

### Desktop (1280px+)
- 좌측: 필터 패널 (30%)
- 우측: 추천 위젯 (25%)
- 중앙: 검색 바 (45%)

### Tablet (768-1279px)
- 필터: 접기/펼치기
- 추천 위젯: 상단 이동

### Mobile (<768px)
- 필터: 하단 시트
- 검색 바: 전체 너비
- 추천: 별도 탭

---

## ? 완료 체크리스트

### Phase 1: 기본 검색
- [ ] 키워드 검색
- [ ] 카테고리 필터
- [ ] 실시간 결과 업데이트

### Phase 2: 고급 필터
- [ ] 모집 현황
- [ ] 활동 빈도
- [ ] 스터디 설정
- [ ] 평점 필터
- [ ] 지역 필터

### Phase 3: 검색 조건 관리
- [ ] 조건 저장
- [ ] 조건 불러오기
- [ ] 조건 수정/삭제
- [ ] 알림 설정

### Phase 4: AI 추천
- [ ] 프로필 분석
- [ ] 매칭 알고리즘
- [ ] 추천 위젯

### Phase 5: UX 개선
- [ ] 필터 개수 표시
- [ ] 인기 검색어
- [ ] 최근 검색어
- [ ] 검색 팁

---

## ? 검색 최적화 팁

1. **Elasticsearch 활용**
   - 전문 검색 엔진으로 성능 향상
   - 퍼지 매칭으로 오타 허용

2. **캐싱 전략**
   - 인기 검색어 캐싱
   - 필터 옵션 캐싱

3. **인덱싱**
   - 자주 검색되는 필드 인덱싱
   - 복합 인덱스 활용

4. **개인화**
   - 사용자 프로필 기반 추천
   - 검색 이력 학습

---

**이전 화면**: `09_study-member-profile.md` (멤버 프로필)  
**다음 화면**: `11_study-onboarding.md` (신규 멤버 온보딩)

