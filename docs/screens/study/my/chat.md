# ë‚´ ìŠ¤í„°ë”” ì±„íŒ… (My Study Chat)

> **í™”ë©´ ID**: `MY-STUDY-03`  
> **ë¼ìš°íŠ¸**: `/my-studies/[studyId]/chat`  
> **ëª©ì **: ì‹¤ì‹œê°„ ê·¸ë£¹ ì±„íŒ…  
> **ì‚¬ìš©ì ìƒíƒœ**: MEMBER+ (PENDINGì€ ì½ê¸°ë§Œ ê°€ëŠ¥)  
> **ë Œë”ë§**: CSR (WebSocket ì‹¤ì‹œê°„)

---

## ? í™”ë©´ ëª©ì 

**"ì‹¤ì‹œê°„ ì†Œí†µì˜ ì¤‘ì‹¬"**
- ë©¤ë²„ë“¤ê³¼ ì¦‰ê°ì ì¸ ì†Œí†µ
- íŒŒì¼ ì²¨ë¶€ ë° ê³µìœ 
- ë©”ì‹œì§€ ê²€ìƒ‰ ë° ê³ ì •
- ì½ìŒ ìƒíƒœ í™•ì¸

---

## ? ë ˆì´ì•„ì›ƒ êµ¬ì¡° (FHD ìµœì í™”)

```
â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     â”‚ [ê°œìš”] [ì±„íŒ…] [ê³µì§€] [íŒŒì¼] [ìº˜ë¦°ë”] [í• ì¼] [í™”ìƒ] â”‚                  â”‚
â”‚ Nav â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  ì‹¤ì‹œê°„ ìœ„ì ¯     â”‚
â”‚ 12% â”‚                                                     â”‚  (280px)         â”‚
â”‚     â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                  â”‚
â”‚     â”‚ â”‚ ? ì±„íŒ…                          [? ê²€ìƒ‰]      â”‚ â”‚  ? ìŠ¤í„°ë”” í˜„í™©  â”‚
â”‚     â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  D-7 ì£¼ê°„íšŒì˜    â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚                  â”‚
â”‚ ?  â”‚ â”‚ â†‘ ì´ì „ ë©”ì‹œì§€ 50ê°œ ë¡œë“œ                         â”‚ â”‚  ? ì˜¨ë¼ì¸ (3)   â”‚
â”‚ ?  â”‚ â”‚                                                 â”‚ â”‚  ? ê¹€ì² ìˆ˜       â”‚
â”‚ ?â† â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2025ë…„ 11ì›” 6ì¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚ â”‚  ? ì´ì˜í¬       â”‚
â”‚ ?  â”‚ â”‚                                                 â”‚ â”‚  ? ë°•ë¯¼ìˆ˜       â”‚
â”‚ ?  â”‚ â”‚ ? ê¹€ì² ìˆ˜                       10:30 AM       â”‚ â”‚  ? ìµœì§€ì€       â”‚
â”‚ ?  â”‚ â”‚    ì˜¤ëŠ˜ ë¬¸ì œ í’€ì—ˆì–´ìš”?                         â”‚ â”‚  ? ì •ì†Œí˜„       â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚                  â”‚
â”‚     â”‚ â”‚                    ë„¤, 3ë¬¸ì œ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤       â”‚ â”‚  ? ë¹ ë¥¸ ì•¡ì…˜    â”‚
â”‚     â”‚ â”‚                                10:31 AM    [ë‚˜] â”‚ â”‚  [í™”ìƒ] [íŒŒì¼]   â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚  [ê³µì§€] [ì¼ì •]   â”‚
â”‚     â”‚ â”‚ ? ì´ì˜í¬                       10:32 AM       â”‚ â”‚                  â”‚
â”‚     â”‚ â”‚    ì €ë„ 2ë¬¸ì œ í’€ì—ˆì–´ìš”!                        â”‚ â”‚  ? ê³ ì • ë©”ì‹œì§€  â”‚
â”‚     â”‚ â”‚    ? í’€ì´.pdf (1.2MB)                        â”‚ â”‚  ? ë§¤ì¼ 9ì‹œ      â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚    ë¬¸ì œ ê³µìœ      â”‚
â”‚     â”‚ â”‚ ? ê¹€ì² ìˆ˜                       10:35 AM       â”‚ â”‚                  â”‚
â”‚     â”‚ â”‚    ì¢‹ì•„ìš”! íŒŒì¼ í™•ì¸í–ˆìŠµë‹ˆë‹¤ ?                â”‚ â”‚  ? ê¸‰í•œ í• ì¼    â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚  ? ë°±ì¤€ 1234    â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚     (D-1)        â”‚
â”‚     â”‚ â”‚                              ì´ì˜í¬ë‹˜ì´ ì…ë ¥ ì¤‘... â”‚ â”‚                  â”‚
â”‚     â”‚ â”‚                                                 â”‚ â”‚  ? ë‹¤ê°€ì˜¤ëŠ” ì¼ì •â”‚
â”‚     â”‚ â”‚ â†“ ìë™ ìŠ¤í¬ë¡¤ (ìƒˆ ë©”ì‹œì§€)                      â”‚ â”‚  11/7 ì£¼ê°„íšŒì˜   â”‚
â”‚     â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚                  â”‚
â”‚     â”‚ â”‚ [?] ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...         [ì „ì†¡]     â”‚ â”‚  ? ë‚˜ì˜ í™œë™    â”‚
â”‚     â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  ì´ë²ˆ ì£¼         â”‚
â”‚     â”‚                                                     â”‚  ë©”ì‹œì§€: 42ê°œ    â”‚
â”‚     â”‚                                                     â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë ˆì´ì•„ì›ƒ ë¹„ìœ¨**:
- ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜: 12% (240px)
- ì±„íŒ… ì˜ì—­: 58% (1100px)
  - ë©”ì‹œì§€ ì˜ì—­: calc(100vh - 240px) ê³ ì • ë†’ì´
  - ì…ë ¥ ì˜ì—­: 80px ê³ ì •
- ìš°ì¸¡ ìœ„ì ¯: 30% (280px)

---

**ë ˆì´ì•„ì›ƒ ë¹„ìœ¨** (í•´ìƒë„ë³„ ìë™ ì¡°ì •):

### ğŸ–¥ï¸ FHD (1920px) - ê¸°ë³¸ ê¸°ì¤€
- ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜: **12%** (min: 200px, max: 240px)
- ì±„íŒ… ì˜ì—­: **58%** (min: 900px, max: 1200px)
- ìš°ì¸¡ ìœ„ì ¯: **30%** (min: 260px, max: 320px)
- ë©”ì‹œì§€ ì˜ì—­ ë†’ì´: calc(100vh - 180px)
- ì…ë ¥ ì˜ì—­: 80px ê³ ì •

### ğŸ–¥ï¸ QHD (2560px) - ê³ í•´ìƒë„
- ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜: **10%** (min: 240px, max: 280px)
- ì±„íŒ… ì˜ì—­: **60%** (min: 1200px, max: 1600px)
- ìš°ì¸¡ ìœ„ì ¯: **28%** (min: 320px, max: 400px)
- ë©”ì‹œì§€ ì˜ì—­ ë†’ì´: calc(100vh - 180px)

### ğŸ–¥ï¸ 4K (3840px) - ì´ˆê³ í•´ìƒë„
- ì¢Œì¸¡ ë„¤ë¹„ê²Œì´ì…˜: **8%** (min: 280px, max: 320px)
- ì±„íŒ… ì˜ì—­: **62%** (min: 1600px, max: 2200px)
- ìš°ì¸¡ ìœ„ì ¯: **28%** (min: 400px, max: 500px)
- ë©”ì‹œì§€ ì˜ì—­ ë†’ì´: calc(100vh - 180px)

### ğŸ“± ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸
- **Tablet (1024px)**: 5% / 65% / 28%
- **Mobile (<768px)**: 100% ë‹¨ì¼ ì»¬ëŸ¼

---

## ? ì„¹ì…˜ë³„ ìƒì„¸ ì„¤ê³„

### 1. ì±„íŒ… í—¤ë”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ? ì±„íŒ…                                  [? ê²€ìƒ‰]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¢Œì¸¡**: ì œëª© "? ì±„íŒ…"
**ìš°ì¸¡**: [? ê²€ìƒ‰] ë²„íŠ¼ â†’ ë©”ì‹œì§€ ê²€ìƒ‰ ëª¨ë‹¬

---

### 2. ë©”ì‹œì§€ ì˜ì—­ (ìŠ¤í¬ë¡¤ ë…ë¦½)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â†‘ ì´ì „ ë©”ì‹œì§€ 50ê°œ ë¡œë“œ (ìŠ¤í¬ë¡¤ ìµœìƒë‹¨)                  â”‚
â”‚                                                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2025ë…„ 11ì›” 6ì¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
â”‚                                                         â”‚
â”‚ ? ê¹€ì² ìˆ˜                                  10:30 AM    â”‚
â”‚    ì˜¤ëŠ˜ ë¬¸ì œ í’€ì—ˆì–´ìš”?                                  â”‚
â”‚                                                         â”‚
â”‚                           ë„¤, 3ë¬¸ì œ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤        â”‚
â”‚                                            10:31 AM [ë‚˜]â”‚
â”‚                                                         â”‚
â”‚ ? ì´ì˜í¬                                  10:32 AM    â”‚
â”‚    ì €ë„ 2ë¬¸ì œ í’€ì—ˆì–´ìš”!                                 â”‚
â”‚    ? í’€ì´.pdf (1.2MB) [ë‹¤ìš´ë¡œë“œ]                      â”‚
â”‚                                                         â”‚
â”‚ â†“ ìë™ ìŠ¤í¬ë¡¤ (ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŠ¹ì§•**:
- ê³ ì • ë†’ì´: `calc(100vh - 64px - 48px - 80px)` (í—¤ë”-íƒ­-ì…ë ¥ì°½ ì œì™¸)
- ë…ë¦½ ìŠ¤í¬ë¡¤: `overflow-y: auto`
- ë¬´í•œ ìŠ¤í¬ë¡¤: ìµœìƒë‹¨ ë„ë‹¬ ì‹œ ì´ì „ 50ê°œ ë¡œë“œ
- ìë™ ìŠ¤í¬ë¡¤: ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ ìµœí•˜ë‹¨ìœ¼ë¡œ

---

### 3. ë©”ì‹œì§€ íƒ€ì…ë³„ ë””ìì¸

#### 3-1. ì‹œìŠ¤í…œ ë©”ì‹œì§€
```
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ 2025ë…„ 11ì›” 6ì¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

         [ê¹€ì² ìˆ˜ë‹˜ì´ ì…ì¥í–ˆìŠµë‹ˆë‹¤]
```

#### 3-2. ìƒëŒ€ë°© ë©”ì‹œì§€
```
? ê¹€ì² ìˆ˜                                  10:30 AM
   ì˜¤ëŠ˜ ë¬¸ì œ í’€ì—ˆì–´ìš”?
```

#### 3-3. ë‚´ ë©”ì‹œì§€ (ìš°ì¸¡ ì •ë ¬)
```
                           ë„¤, 3ë¬¸ì œ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤
                          ?? ì½ìŒ 10:31 AM [ë‚˜]
```

#### 3-4. íŒŒì¼ ì²¨ë¶€ ë©”ì‹œì§€
```
? ì´ì˜í¬                                  10:32 AM
   ? í’€ì´.pdf (1.2MB) [ë‹¤ìš´ë¡œë“œ]
```

#### 3-5. ì´ë¯¸ì§€ ì²¨ë¶€ ë©”ì‹œì§€
```
? ë°•ë¯¼ìˆ˜                                  10:35 AM
   [ì´ë¯¸ì§€ ì¸ë„¤ì¼ 150x150]
   í´ë¦­í•˜ë©´ ì „ì²´ ë³´ê¸°
```

#### 3-6. ë‹µì¥ ë©”ì‹œì§€
```
? ìµœì§€ì€                                  10:40 AM
   â”Œâ”€ ê¹€ì² ìˆ˜: ì˜¤ëŠ˜ ë¬¸ì œ í’€ì—ˆì–´ìš”?
   â”‚
   ì €ë„ í’€ì—ˆì–´ìš”!
```

#### 3-7. ì…ë ¥ ì¤‘ í‘œì‹œ
```
                              ì´ì˜í¬ë‹˜ì´ ì…ë ¥ ì¤‘...
```

---

### 4. ë©”ì‹œì§€ ì…ë ¥ ì˜ì—­ (í•˜ë‹¨ ê³ ì •)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [?] ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”...                     [ì „ì†¡]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬ì„±**:
- [?] íŒŒì¼ ì²¨ë¶€ ë²„íŠ¼
- ì…ë ¥ì°½ (textarea, ìë™ ë†’ì´ ì¡°ì ˆ, ìµœëŒ€ 5ì¤„)
- [ì „ì†¡] ë²„íŠ¼ (Primary)

**ê¸°ëŠ¥**:
- Shift+Enter: ì¤„ë°”ê¿ˆ
- Enter: ì „ì†¡
- íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
- ì´ëª¨ì§€ ì„ íƒ (ì„ íƒì )

---

### 5. ë©”ì‹œì§€ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ (ìš°í´ë¦­ ë˜ëŠ” ê¸¸ê²Œ ëˆ„ë¥´ê¸°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë‹µì¥í•˜ê¸°        â”‚
â”‚ ë³µì‚¬í•˜ê¸°        â”‚
â”‚ ì‚­ì œí•˜ê¸° (ë‚´ ë©”ì‹œì§€ë§Œ) â”‚
â”‚ ê³ ì •í•˜ê¸° (ê´€ë¦¬ìë§Œ) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ? ìš°ì¸¡ ìœ„ì ¯ (ì±„íŒ… íƒ­ íŠ¹í™”)

### 1?? ìŠ¤í„°ë”” í˜„í™© (ë™ì¼)

### 2?? ì˜¨ë¼ì¸ ë©¤ë²„ (í™•ì¥ ë²„ì „)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ? ì˜¨ë¼ì¸ ë©¤ë²„ (3ëª…)                 â”‚
â”‚                                     â”‚
â”‚ ? ê¹€ì² ìˆ˜ (OWNER)                   â”‚
â”‚    ì±„íŒ… ì¤‘ Â· ë°©ê¸ˆ ì „                â”‚
â”‚                                     â”‚
â”‚ ? ì´ì˜í¬ (ADMIN)                   â”‚
â”‚    ì…ë ¥ ì¤‘... Â· 1ë¶„ ì „               â”‚
â”‚                                     â”‚
â”‚ ? ë°•ë¯¼ìˆ˜                            â”‚
â”‚    ì±„íŒ… ì¤‘ Â· 5ë¶„ ì „                 â”‚
â”‚                                     â”‚
â”‚ ? ì˜¤í”„ë¼ì¸ (9ëª…)                    â”‚
â”‚ ? ìµœì§€ì€ (30ë¶„ ì „)                  â”‚
â”‚ ? ì •ì†Œí˜„ (1ì‹œê°„ ì „)                 â”‚
â”‚ ... 7ëª… ë”ë³´ê¸°                      â”‚
â”‚                                     â”‚
â”‚ ? ì „ì²´ ë©¤ë²„ (12/20) [ë³´ê¸° â†’]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì¶”ê°€ ì •ë³´**:
- ì‹¤ì‹œê°„ í™œë™ ìƒíƒœ (ì±„íŒ… ì¤‘, ì…ë ¥ ì¤‘)
- ë§ˆì§€ë§‰ í™œë™ ì‹œê°„
- ì˜¤í”„ë¼ì¸ ë©¤ë²„ë„ í‘œì‹œ (ì ‘ì€ ìƒíƒœ)

---

### 3?? ë¹ ë¥¸ ì•¡ì…˜ (ì±„íŒ… íŠ¹í™”)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ? ë¹ ë¥¸ ì•¡ì…˜                         â”‚
â”‚                                     â”‚
â”‚ [? í™”ìƒ ìŠ¤í„°ë”” ì‹œì‘]                â”‚
â”‚ [? íŒŒì¼ ê³µìœ í•˜ê¸°]                   â”‚
â”‚ [? ê³µì§€ ì‘ì„±í•˜ê¸°]                   â”‚
â”‚ [? ì¼ì • ì¶”ê°€í•˜ê¸°]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4?? ê³ ì • ë©”ì‹œì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ? ê³ ì • ë©”ì‹œì§€                       â”‚
â”‚                                     â”‚
â”‚ ë§¤ì¼ ì˜¤ì „ 9ì‹œ ë¬¸ì œ ê³µìœ               â”‚
â”‚ ê¹€ì² ìˆ˜ Â· 3ì¼ ì „                     â”‚
â”‚ [ë³´ê¸°]                              â”‚
â”‚                                     â”‚
â”‚ ìŠ¤í„°ë”” ê·œì¹™ ì•ˆë‚´                     â”‚
â”‚ ê¹€ì² ìˆ˜ Â· 1ì£¼ ì „                     â”‚
â”‚ [ë³´ê¸°]                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ? WebSocket ì‹¤ì‹œê°„ ê¸°ëŠ¥

### 1. ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ 

```javascript
// ë©”ì‹œì§€ ì „ì†¡
const handleSendMessage = async (content, files = []) => {
  if (!content.trim() && files.length === 0) return
  
  // íŒŒì¼ ì—…ë¡œë“œ (ìˆëŠ” ê²½ìš°)
  let fileUrls = []
  if (files.length > 0) {
    fileUrls = await uploadFiles(files)
  }
  
  // WebSocketìœ¼ë¡œ ì „ì†¡
  socket.emit('send_message', {
    studyId,
    content: content.trim(),
    files: fileUrls,
    replyTo: replyingTo?.id // ë‹µì¥ì¸ ê²½ìš°
  })
  
  setContent('')
  setFiles([])
  setReplyingTo(null)
}

// ë©”ì‹œì§€ ìˆ˜ì‹ 
useEffect(() => {
  if (!socket) return
  
  socket.on('new_message', (message) => {
    // React Query ìºì‹œì— ì¶”ê°€
    queryClient.setQueryData(
      ['messages', studyId],
      (old) => ({
        ...old,
        pages: old.pages.map((page, index) => 
          index === 0 
            ? { ...page, messages: [...page.messages, message] }
            : page
        )
      })
    )
    
    // ìë™ ìŠ¤í¬ë¡¤ (ì‚¬ìš©ìê°€ í•˜ë‹¨ì— ìˆì„ ë•Œë§Œ)
    if (isAtBottom) {
      scrollToBottom()
    }
    
    // ì•Œë¦¼ í‘œì‹œ (ë‹¤ë¥¸ íƒ­ì— ìˆì„ ë•Œ)
    if (document.hidden) {
      showNotification(message)
    }
  })
  
  return () => socket.off('new_message')
}, [socket, studyId, isAtBottom])
```

---

### 2. ì…ë ¥ ì¤‘ í‘œì‹œ

```javascript
// ì…ë ¥ ì¤‘ ì´ë²¤íŠ¸ ì „ì†¡
const handleTyping = useCallback(
  debounce(() => {
    socket.emit('typing', { studyId, userId })
  }, 500),
  [socket, studyId]
)

// ì…ë ¥ ì¤‘ ìˆ˜ì‹ 
useEffect(() => {
  socket.on('user_typing', ({ userId, userName }) => {
    setTypingUsers(prev => ({
      ...prev,
      [userId]: { userName, timestamp: Date.now() }
    }))
    
    // 3ì´ˆ í›„ ìë™ ì œê±°
    setTimeout(() => {
      setTypingUsers(prev => {
        const { [userId]: _, ...rest } = prev
        return rest
      })
    }, 3000)
  })
  
  return () => socket.off('user_typing')
}, [socket])
```

---

### 3. ì½ìŒ ìƒíƒœ

```javascript
// ì½ìŒ ì²˜ë¦¬
const markAsRead = async (messageId) => {
  await api.post(`/api/v1/messages/${messageId}/read`)
  socket.emit('message_read', { studyId, messageId })
}

// ì½ìŒ ìƒíƒœ ìˆ˜ì‹ 
useEffect(() => {
  socket.on('message_read_update', ({ messageId, readers }) => {
    queryClient.setQueryData(['messages', studyId], (old) => ({
      ...old,
      pages: old.pages.map(page => ({
        ...page,
        messages: page.messages.map(msg =>
          msg.id === messageId
            ? { ...msg, readers }
            : msg
        )
      }))
    }))
  })
  
  return () => socket.off('message_read_update')
}, [socket, studyId])
```

---

## ? ìŠ¤íƒ€ì¼ ì½”ë“œ

```css
/* ì±„íŒ… ì»¨í…Œì´ë„ˆ */
.chat-container {
  display: flex;
  flex-direction: column;
  height: calc(100vh - 64px - 48px - 32px);
  overflow: hidden;
}

/* ë©”ì‹œì§€ ì˜ì—­ */
.messages-area {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  background: #F9FAFB;
  scroll-behavior: smooth;
}

/* ë‚ ì§œ êµ¬ë¶„ì„  */
.date-divider {
  text-align: center;
  color: #9CA3AF;
  font-size: 12px;
  margin: 24px 0;
  position: relative;
}

.date-divider::before,
.date-divider::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 40%;
  height: 1px;
  background: #E5E7EB;
}

.date-divider::before { left: 0; }
.date-divider::after { right: 0; }

/* ë©”ì‹œì§€ */
.message {
  display: flex;
  gap: 12px;
  margin-bottom: 16px;
  max-width: 70%;
}

.message.mine {
  margin-left: auto;
  flex-direction: row-reverse;
}

/* ë©”ì‹œì§€ í’ì„  */
.message-bubble {
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 10px 14px;
  word-wrap: break-word;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.message.mine .message-bubble {
  background: #6366F1;
  color: white;
  border: none;
}

/* ì‹œìŠ¤í…œ ë©”ì‹œì§€ */
.system-message {
  text-align: center;
  color: #6B7280;
  font-size: 13px;
  margin: 16px 0;
  padding: 8px;
  background: #F3F4F6;
  border-radius: 12px;
  max-width: 300px;
  margin-left: auto;
  margin-right: auto;
}

/* ì…ë ¥ ì¤‘ í‘œì‹œ */
.typing-indicator {
  display: flex;
  align-items: center;
  gap: 8px;
  color: #6B7280;
  font-size: 13px;
  padding: 8px 0;
  height: 30px;
}

.typing-dots {
  display: flex;
  gap: 4px;
}

.typing-dot {
  width: 6px;
  height: 6px;
  background: #9CA3AF;
  border-radius: 50%;
  animation: typing 1.4s infinite;
}

.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes typing {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-10px); }
}

/* ì…ë ¥ ì˜ì—­ */
.input-area {
  border-top: 1px solid #E5E7EB;
  padding: 16px 20px;
  background: white;
  display: flex;
  gap: 12px;
  align-items: flex-end;
}

.input-textarea {
  flex: 1;
  min-height: 40px;
  max-height: 120px;
  padding: 10px 12px;
  border: 1px solid #D1D5DB;
  border-radius: 8px;
  resize: none;
  font-size: 14px;
  line-height: 1.5;
}

.input-textarea:focus {
  outline: none;
  border-color: #6366F1;
  box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
}

/* íŒŒì¼ ì²¨ë¶€ */
.file-attachment {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  background: #F3F4F6;
  border-radius: 8px;
  margin-top: 8px;
}

/* ì½ìŒ í‘œì‹œ */
.read-receipt {
  font-size: 11px;
  color: #6B7280;
  display: flex;
  align-items: center;
  gap: 4px;
}

.message.mine .read-receipt {
  color: rgba(255, 255, 255, 0.8);
}
```

---

## ? ë°˜ì‘í˜• ì„¤ê³„

### Mobile (<768px)
```css
.chat-container {
  height: calc(100vh - 120px);
}

.message {
  max-width: 85%;
}

.input-area {
  flex-wrap: wrap;
}
```

---

## ? êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: ê¸°ë³¸ ë ˆì´ì•„ì›ƒ
- [ ] ë©”ì‹œì§€ ì˜ì—­ (ê³ ì • ë†’ì´, ë…ë¦½ ìŠ¤í¬ë¡¤)
- [ ] ì…ë ¥ ì˜ì—­ (í•˜ë‹¨ ê³ ì •)
- [ ] ë‚ ì§œ êµ¬ë¶„ì„ 

### Phase 2: WebSocket ì—°ê²°
- [ ] Socket.IO ì—°ê²°
- [ ] ë©”ì‹œì§€ ì†¡ìˆ˜ì‹ 
- [ ] ë°© ì…ì¥/í‡´ì¥

### Phase 3: ë©”ì‹œì§€ í‘œì‹œ
- [ ] ìƒëŒ€ë°© ë©”ì‹œì§€ (ì¢Œì¸¡)
- [ ] ë‚´ ë©”ì‹œì§€ (ìš°ì¸¡)
- [ ] ì‹œìŠ¤í…œ ë©”ì‹œì§€ (ì¤‘ì•™)
- [ ] íŒŒì¼ ì²¨ë¶€ ë©”ì‹œì§€
- [ ] ì´ë¯¸ì§€ ë©”ì‹œì§€

### Phase 4: ì‹¤ì‹œê°„ ê¸°ëŠ¥
- [ ] ì…ë ¥ ì¤‘ í‘œì‹œ
- [ ] ì½ìŒ ìƒíƒœ
- [ ] ì˜¨ë¼ì¸ ë©¤ë²„ í‘œì‹œ
- [ ] ìë™ ìŠ¤í¬ë¡¤

### Phase 5: ì¶”ê°€ ê¸°ëŠ¥
- [ ] ë¬´í•œ ìŠ¤í¬ë¡¤ (ì´ì „ ë©”ì‹œì§€)
- [ ] ë©”ì‹œì§€ ê²€ìƒ‰
- [ ] íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
- [ ] ë‹µì¥ ê¸°ëŠ¥
- [ ] ë©”ì‹œì§€ ê³ ì • (ê´€ë¦¬ì)
- [ ] ë©”ì‹œì§€ ì‚­ì œ (ë³¸ì¸)

### Phase 6: ìµœì í™”
- [ ] ê°€ìƒí™” (ë§ì€ ë©”ì‹œì§€)
- [ ] ì´ë¯¸ì§€ ë ˆì´ì§€ ë¡œë”©
- [ ] ë””ë°”ìš´ìŠ¤ (ì…ë ¥ ì¤‘)
- [ ] ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

---

**ë‹¤ìŒ í™”ë©´**: `07_my-study-notices.md` (ê³µì§€ì‚¬í•­)
