# 내 스터디 대시보드 (My Study Dashboard)

> **화면 ID**: `MY-STUDY-02`  
> **라우트**: `/my-studies/[studyId]`  
> **목적**: 스터디 개요 및 최근 활동 요약  
> **사용자 상태**: 가입 완료 (PENDING/MEMBER/ADMIN/OWNER)  
> **렌더링**: CSR (실시간 업데이트)

---

## ? 화면 목적

**"스터디의 모든 것을 한눈에"**
- 스터디 전체 현황을 대시보드로 요약
- 최근 활동을 빠르게 확인
- 주요 기능으로 빠른 이동
- 실시간 정보로 놓치지 않는 소통

---

## 📐 레이아웃 구조 (FHD 최적화 - 2컬럼)

```
┌─────┬─────────────────────────────────────────────────────┬──────────────────┐
│     │ ← 내 스터디 목록                                     │                  │
│ Nav ├─────────────────────────────────────────────────────┤  실시간 위젯     │
│ 12% │ 📚 알고리즘 마스터 스터디               [OWNER]     │  (30%)           │
│     │ 12/20명 | 프로그래밍                                │                  │
│     ├─────────────────────────────────────────────────────┤  📊 스터디 현황  │
│     │ [개요] [채팅] [공지] [파일] [캘린더] [할일] [화상] │  D-7 주간회의    │
│     ├─────────────────────────────────────────────────────┤  출석률: 85%     │
│     │                                                     │  할일: 12/20     │
│     │ ┌─────────────────────────────────────────────────┐ │                  │
│ 🏠 │ │ 📊 이번 주 활동 요약                            │ │  👥 온라인 (3)   │
│ 🔍 │ │                                                 │ │  • 김철수       │
│ 👥←│ │ 출석률  ██████████ 85% (10/12명)               │ │  • 이영희       │
│ 📋 │ │ 할일    ███████░░░ 60% (12/20개)            │ │  • 박민수       │
│ 🔔 │ │ 메시지  127개 | 공지 3개 | 파일 5개            │ │                  │
│ 👤 │ └─────────────────────────────────────────────────┘ │  ⚡ 빠른 액션    │
│     │                                                     │  [채팅] [화상]   │
│     │ ┌───────────────────┬─────────────────────────────┐ │  [초대] [통계]   │
│     │ │ 📢 최근 공지 (3)  │ 📁 최근 파일 (3)           │ │                  │
│     │ │                   │                             │ │  📌 고정 공지    │
│     │ │ • 이번 주 일정   │ • 알고리즘_문제집.pdf     │ │  이번 주 일정    │
│     │ │    2시간 전       │    김철수 · 2.5MB          │ │  안내            │
│     │ │                   │                             │ │                  │
│     │ │ • 참고 자료     │ • 면접_준비.xlsx          │ │  ✅ 급한 할일    │
│     │ │    1일 전         │    이영희 · 1.2MB          │ │  • 백준 1234    │
│     │ │                   │                             │ │     (D-1)        │
│     │ │ • 스터디 규칙   │ • 코드리뷰.zip            │ │  • 코드리뷰     │
│     │ │    3일 전         │    박민수 · 3.1MB          │ │     (D-2)        │
│     │ │                   │                             │ │                  │
│     │ │ [전체보기 →]      │ [전체보기 →]               │ │  📅 다가오는 일정│
│     │ └───────────────────┴─────────────────────────────┘ │  11/7 주간회의   │
│     │                                                     │  11/10 과제마감  │
│     │ ┌───────────────────┬─────────────────────────────┐ │                  │
│     │ │ 📅 다가오는 일정  │ ✅ 급한 할일 (3)           │ │  📊 나의 활동    │
│     │ │                   │                             │ │  이번 주         │
│     │ │ 11/7 (목) 14:00  │ • 백준 1234번 풀이        │ │  출석: 5/7일     │
│     │ │ 주간 회의         │    D-1 [완료]              │ │  할일: 8개       │
│     │ │                   │                             │ │  메시지: 42개    │
│     │ │ 11/10 (일) 23:59 │ • 코드 리뷰 준비          │ │                  │
│     │ │ 과제 제출         │    D-2 [완료]              │ │                  │
│     │ │                   │                             │ │                  │
│     │ │ [전체보기 →]      │ [전체보기 →]               │ │                  │
│     │ └───────────────────┴─────────────────────────────┘ │                  │
│     │                                                     │                  │
└─────┴─────────────────────────────────────────────────────┴──────────────────┘
```

**레이아웃 비율** (해상도별 자동 조정):

### 🖥️ FHD (1920px) - 기본 기준
- 좌측 네비게이션: **12%** (min: 200px, max: 240px)
- 메인 콘텐츠: **58%** (min: 900px, max: 1200px)
- 우측 위젯: **30%** (min: 260px, max: 320px)
- 갭(여백): **2%** (좌우 각 1%)

### 🖥️ QHD (2560px) - 고해상도
- 좌측 네비게이션: **10%** (min: 240px, max: 280px)
- 메인 콘텐츠: **60%** (min: 1200px, max: 1600px)
- 우측 위젯: **28%** (min: 320px, max: 400px)
- 갭(여백): **2%**

### 🖥️ 4K (3840px) - 초고해상도
- 좌측 네비게이션: **8%** (min: 280px, max: 320px)
- 메인 콘텐츠: **62%** (min: 1600px, max: 2200px)
- 우측 위젯: **28%** (min: 400px, max: 500px)
- 갭(여백): **2%**

### 📱 반응형 브레이크포인트
- **Desktop Small (1440px)**: 15% / 55% / 28%
- **Tablet (1024px)**: 5% / 65% / 28% (네비 축소)
- **Mobile (<768px)**: 100% 단일 컬럼 (세로 배치)

---

## 📐 CSS Grid 구현 예시

```css
/* 글로벌 CSS 변수 정의 */
:root {
  /* FHD 기본값 */
  --nav-width: 12%;
  --content-width: 58%;
  --widget-width: 30%;
  --gap-size: 2%;
  
  /* 최소/최대 제약 */
  --nav-min: 200px;
  --nav-max: 240px;
  --content-min: 900px;
  --content-max: 1200px;
  --widget-min: 260px;
  --widget-max: 320px;
}

/* QHD 해상도 (2560px 이상) */
@media (min-width: 2560px) {
  :root {
    --nav-width: 10%;
    --content-width: 60%;
    --widget-width: 28%;
    --nav-min: 240px;
    --nav-max: 280px;
    --content-min: 1200px;
    --content-max: 1600px;
    --widget-min: 320px;
    --widget-max: 400px;
  }
}

/* 4K 해상도 (3840px 이상) */
@media (min-width: 3840px) {
  :root {
    --nav-width: 8%;
    --content-width: 62%;
    --widget-width: 28%;
    --nav-min: 280px;
    --nav-max: 320px;
    --content-min: 1600px;
    --content-max: 2200px;
    --widget-min: 400px;
    --widget-max: 500px;
  }
}

/* Desktop Small */
@media (max-width: 1680px) {
  :root {
    --nav-width: 15%;
    --content-width: 55%;
    --widget-width: 28%;
  }
}

/* Tablet */
@media (max-width: 1279px) {
  :root {
    --nav-width: 5%;
    --content-width: 65%;
    --widget-width: 28%;
    --nav-min: 60px;
    --nav-max: 80px;
  }
}

/* 메인 레이아웃 */
.dashboard-layout {
  display: grid;
  grid-template-columns: 
    minmax(var(--nav-min), var(--nav-width))
    minmax(var(--content-min), var(--content-width))
    minmax(var(--widget-min), var(--widget-width));
  gap: var(--gap-size);
  width: 100%;
  max-width: 100vw;
  padding: 0 1%;
}

/* 대시보드 그리드 */
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2%;
}

@media (max-width: 1024px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
}

/* Mobile */
@media (max-width: 767px) {
  .dashboard-layout {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  
  .sidebar-widgets {
    order: 3;
    margin-top: 24px;
    width: 100%;
  }
}
```

---

## ? 섹션별 상세 설계

### 1. 상단 뒤로가기

```
┌──────────────────────────────────────────────────────────┐
│ ← 내 스터디 목록                                          │
└──────────────────────────────────────────────────────────┘
```

**기능**: 클릭 → `/my-studies` (내 스터디 목록)

---

### 2. 스터디 헤더

```
┌──────────────────────────────────────────────────────────┐
│ ? 알고리즘 마스터 스터디                       [OWNER]   │
│ 12/20명 | 프로그래밍                                      │
└──────────────────────────────────────────────────────────┘
```

**구성**:
- 이모지 + 스터디명 (text-2xl, Bold)
- 역할 배지 (우측 상단)
- 멤버 수 | 카테고리 (text-sm, gray-600)

---

### 3. 탭 네비게이션 (수평)

```
┌──────────────────────────────────────────────────────────┐
│ [개요] [채팅] [공지] [파일] [캘린더] [할일] [화상] [설정]│
└──────────────────────────────────────────────────────────┘
```

**탭 목록**:
1. **개요** (현재 페이지) ← Active
2. **채팅** → `/my-studies/[id]/chat`
3. **공지** → `/my-studies/[id]/notices`
4. **파일** → `/my-studies/[id]/files`
5. **캘린더** → `/my-studies/[id]/calendar`
6. **할일** → `/my-studies/[id]/tasks`
7. **화상** → `/my-studies/[id]/video-call`
8. **설정** → `/my-studies/[id]/settings` (OWNER/ADMIN만)

**스타일**:
```css
.tab-nav {
  background: white;
  border-bottom: 2px solid #E5E7EB;
  padding: 0 24px;
  margin-bottom: 24px;
  display: flex;
  gap: 8px;
}

.tab-item {
  padding: 14px 20px;
  border: none;
  background: transparent;
  color: #6B7280;
  font-weight: 500;
  cursor: pointer;
  position: relative;
  transition: color 0.2s;
}

.tab-item:hover {
  color: #374151;
}

.tab-item.active {
  color: #6366F1;
  font-weight: 600;
}

.tab-item.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 2px;
  background: #6366F1;
}
```

---

### 4. 이번 주 활동 요약

```
┌─────────────────────────────────────────────────────────┐
│ ? 이번 주 활동 요약                                     │
│                                                         │
│ 출석률  ?????????? 85% (10/12명)                       │
│ 할일    ????????????? 60% (12/20개 완료)               │
│ 메시지  127개 | 공지 3개 | 파일 5개                    │
└─────────────────────────────────────────────────────────┘
```

**표시 정보**:
- 출석률 (프로그레스 바)
- 할일 완료율 (프로그레스 바)
- 활동 통계 (메시지, 공지, 파일)

**스타일**:
```css
.activity-summary {
  background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
  color: white;
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 24px;
}

.progress-bar {
  height: 8px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
  overflow: hidden;
  margin: 8px 0;
}

.progress-fill {
  height: 100%;
  background: white;
  border-radius: 4px;
  transition: width 0.3s ease;
}
```

---

### 5. 메인 콘텐츠 그리드 (2x2)

```
┌───────────────────┬─────────────────────────────┐
│ ? 최근 공지 (3)  │ ? 최근 파일 (3)           │
├───────────────────┼─────────────────────────────┤
│ ? 다가오는 일정  │ ? 급한 할일 (3)           │
└───────────────────┴─────────────────────────────┘
```

**그리드 레이아웃**:
```css
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin-bottom: 24px;
}

@media (max-width: 1024px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }
}
```

---

#### 5-1. 최근 공지 (3개)

```
┌─────────────────────────────────┐
│ ? 최근 공지                     │
│                                 │
│ ? 이번 주 일정 안내             │
│    김철수 · 2시간 전            │
│    [보기]                       │
│                                 │
│ ? 참고 자료 공유                │
│    이영희 · 1일 전              │
│    [보기]                       │
│                                 │
│ ? 스터디 규칙 안내              │
│    김철수 · 3일 전              │
│    [보기]                       │
│                                 │
│ [전체 공지 보기 →]              │
└─────────────────────────────────┘
```

---

#### 5-2. 최근 파일 (3개)

```
┌─────────────────────────────────┐
│ ? 최근 파일                     │
│                                 │
│ ? 알고리즘_문제집.pdf          │
│    김철수 · 2.5MB · 2시간 전   │
│    [다운로드]                   │
│                                 │
│ ? 면접_준비_자료.xlsx          │
│    이영희 · 1.2MB · 5시간 전   │
│    [다운로드]                   │
│                                 │
│ ? 코드_리뷰_자료.zip           │
│    박민수 · 3.1MB · 1일 전     │
│    [다운로드]                   │
│                                 │
│ [전체 파일 보기 →]              │
└─────────────────────────────────┘
```

---

#### 5-3. 다가오는 일정

```
┌─────────────────────────────────┐
│ ? 다가오는 일정                 │
│                                 │
│ 11/7 (목) 14:00                 │
│ 주간 회의 (D-1)                 │
│ [참여하기]                      │
│                                 │
│ 11/10 (일) 23:59                │
│ 과제 제출 마감 (D-4)            │
│                                 │
│ 11/13 (수) 20:00                │
│ 모의 코딩테스트 (D-7)           │
│                                 │
│ [캘린더 보기 →]                 │
└─────────────────────────────────┘
```

---

#### 5-4. 급한 할일

```
┌─────────────────────────────────┐
│ ? 급한 할일                     │
│                                 │
│ ? 백준 1234번 풀이              │
│    D-1 (11/7)                   │
│    [완료하기]                   │
│                                 │
│ ? 코드 리뷰 준비                │
│    D-2 (11/8)                   │
│    [완료하기]                   │
│                                 │
│ ? 자소서 1차 작성               │
│    D-3 (11/9)                   │
│    [완료하기]                   │
│                                 │
│ [할일 전체 보기 →]              │
└─────────────────────────────────┘
```

---

## ? 우측 실시간 위젯 (280px - 전역 표시)

### 1?? 스터디 현황 (최상단)

```
┌─────────────────────────────────┐
│ ? 스터디 현황                   │
│                                 │
│ ? 다음 일정                     │
│    D-7  2025.11.13 (수) 14:00  │
│    주간 회의                     │
│                                 │
│ ? 출석률  ?????????? 85%       │
│    10/12명 (이번 주)            │
│                                 │
│ ? 할일   ????????????? 60%     │
│    12/20개 완료                 │
│                                 │
│ ? 연속   7일 ???            │
└─────────────────────────────────┘
```

---

### 2?? 온라인 멤버 (실시간)

```
┌─────────────────────────────────┐
│ ? 온라인 멤버 (3명)             │
│                                 │
│ ? 김철수 (OWNER)               │
│    채팅 중                      │
│                                 │
│ ? 이영희 (ADMIN)               │
│    파일 탭                      │
│                                 │
│ ? 박민수                        │
│    캘린더 탭                    │
│                                 │
│ ? 전체 멤버 (12/20) [보기 →]  │
└─────────────────────────────────┘
```

**기능**: WebSocket으로 실시간 온라인 상태 표시

---

### 3?? 빠른 액션

```
┌─────────────────────────────────┐
│ ? 빠른 액션                     │
│                                 │
│ [? 채팅 시작]  [? 화상 스터디] │
│                                 │
│ [? 멤버 초대]  [? 통계 보기]   │
│                                 │
│ [?? 설정] (관리자만)            │
└─────────────────────────────────┘
```

---

### 4?? 고정 공지

```
┌─────────────────────────────────┐
│ ? 고정 공지                     │
│                                 │
│ 이번 주 스터디 일정 안내         │
│ 김철수 · 2시간 전               │
│                                 │
│ [자세히 보기 →]                 │
└─────────────────────────────────┘
```

---

### 5?? 급한 할일 (D-3 이내)

```
┌─────────────────────────────────┐
│ ? 급한 할일 (2)                 │
│                                 │
│ ? 백준 1234번 풀이              │
│    D-1 (11/7)                   │
│    [완료하기]                   │
│                                 │
│ ? 코드 리뷰 준비                │
│    D-2 (11/8)                   │
│    [완료하기]                   │
│                                 │
│ [할일 전체보기 →]               │
└─────────────────────────────────┘
```

---

### 6?? 다가오는 일정

```
┌─────────────────────────────────┐
│ ? 다가오는 일정                 │
│                                 │
│ 11/7 (목) 14:00                 │
│ 주간 회의 (D-1)                 │
│                                 │
│ 11/10 (일) 23:59                │
│ 과제 제출 마감 (D-4)            │
│                                 │
│ [캘린더 보기 →]                 │
└─────────────────────────────────┘
```

---

### 7?? 나의 활동 (맨 하단)

```
┌─────────────────────────────────┐
│ ? 나의 활동                     │
│                                 │
│ 이번 주                         │
│ ? 출석: 5/7일                   │
│ ? 완료 할일: 8개                │
│ ? 채팅 메시지: 42개              │
│                                 │
│ [내 통계 자세히 →]              │
└─────────────────────────────────┘
```

---

## ? 데이터 로딩 및 실시간 업데이트

### React Query + WebSocket

```javascript
// 대시보드 데이터 로딩
const { data: dashboard, isLoading } = useQuery({
  queryKey: ['study-dashboard', studyId],
  queryFn: () => fetchStudyDashboard(studyId),
  staleTime: 0,
  refetchInterval: 30000 // 30초마다 갱신
})

// WebSocket 실시간 업데이트
useEffect(() => {
  if (!socket) return
  
  socket.emit('join_study', { studyId })
  
  // 새 공지
  socket.on('new_notice', () => {
    queryClient.invalidateQueries(['study-dashboard', studyId])
  })
  
  // 새 파일
  socket.on('new_file', () => {
    queryClient.invalidateQueries(['study-dashboard', studyId])
  })
  
  // 온라인 멤버 변경
  socket.on('online_members_update', (members) => {
    setOnlineMembers(members)
  })
  
  return () => {
    socket.emit('leave_study', { studyId })
    socket.off('new_notice')
    socket.off('new_file')
    socket.off('online_members_update')
  }
}, [socket, studyId])
```

---

## ? 반응형 설계

### Desktop (1920px)
```css
.dashboard-layout {
  display: grid;
  grid-template-columns: 240px 1fr 280px;
  gap: 20px;
}

.dashboard-grid {
  grid-template-columns: repeat(2, 1fr);
}
```

### Tablet (1024px)
```css
.dashboard-layout {
  grid-template-columns: 60px 1fr 240px;
}

.dashboard-grid {
  grid-template-columns: 1fr;
}
```

### Mobile (<768px)
```css
.dashboard-layout {
  display: flex;
  flex-direction: column;
}

.sidebar-widgets {
  order: 3;
  margin-top: 24px;
}
```

---

## ? 구현 체크리스트

### Phase 1: 레이아웃
- [ ] 2컬럼 레이아웃 (Content 70% + Widget 30%)
- [ ] 스터디 헤더 + 역할 배지
- [ ] 탭 네비게이션
- [ ] 우측 위젯 영역

### Phase 2: 활동 요약
- [ ] 이번 주 활동 카드
- [ ] 프로그레스 바 (출석률, 할일)
- [ ] 활동 통계

### Phase 3: 대시보드 그리드
- [ ] 2x2 그리드 레이아웃
- [ ] 최근 공지 (3개)
- [ ] 최근 파일 (3개)
- [ ] 다가오는 일정
- [ ] 급한 할일

### Phase 4: 우측 위젯 (전역)
- [ ] 스터디 현황
- [ ] 온라인 멤버 (WebSocket)
- [ ] 빠른 액션
- [ ] 고정 공지
- [ ] 급한 할일
- [ ] 다가오는 일정
- [ ] 나의 활동

### Phase 5: 실시간 기능
- [ ] WebSocket 연결
- [ ] 온라인 상태 업데이트
- [ ] 새 공지/파일 알림
- [ ] React Query 자동 갱신

### Phase 6: 최적화
- [ ] 로딩 스켈레톤
- [ ] 에러 처리
- [ ] 반응형 테스트
- [ ] 성능 측정

---

## ? UX 최적화 포인트

1. **한눈에 파악**: 모든 정보를 대시보드에 요약
2. **실시간 업데이트**: WebSocket으로 놓치지 않음
3. **빠른 이동**: 각 섹션에서 상세 페이지로 원클릭
4. **우측 위젯**: 어느 탭에서든 중요 정보 확인
5. **시각적 피드백**: 프로그레스 바, D-day로 직관적
6. **공간 활용**: 2컬럼 + 위젯으로 FHD 최대 활용

---

**다음 화면**: `06_my-study-chat.md` ~ 나머지 탭들 (채팅, 공지, 파일 등)
