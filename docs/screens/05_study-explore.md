# 05. 스터디 탐색 (Study Explore)

> **화면 ID**: `MAIN-02`  
> **라우트**: `/studies`  
> **레이아웃**: 좌측 네비게이션(15%) + 우측 콘텐츠(85%)  
> **렌더링**: SSR (SEO 최적화)

---

## 📐 화면 구조

```
┌────────┬───────────────────────────────────────────────────────┐
│        │  Header                                               │
│        ├───────────────────────────────────────────────────────┤
│        │                                                       │
│  Nav   │  스터디 탐색                    [+ 스터디 만들기]      │
│  Bar   │                                                       │
│        │  ┌─────────────────────────────────────────────────┐  │
│        │  │ Filters                                         │  │
│ 🏠     │  │ [전체▼] [프로그래밍▼] [정렬:최신순▼] 🔍검색     │  │
│ 🔍 탐색│  └─────────────────────────────────────────────────┘  │
│ 👥     │                                                       │
│ 📋     │  ┌────────────┐  ┌────────────┐  ┌────────────┐     │
│ 🔔     │  │📚          │  │💼          │  │🏃          │     │
│ 👤     │  │코딩테스트   │  │취업 준비   │  │운동 루틴   │     │
│        │  │            │  │            │  │            │     │
│        │  │12/20명     │  │8/15명      │  │5/10명      │     │
│        │  │OWNER: 김철수│  │OWNER: 이영희│  │OWNER: 박민수│   │
│        │  │            │  │            │  │            │     │
│        │  │[가입하기]   │  │[가입하기]   │  │[가입하기]   │     │
│        │  └────────────┘  └────────────┘  └────────────┘     │
│        │                                                       │
│        │  ┌────────────┐  ┌────────────┐  ┌────────────┐     │
│        │  │📖          │  │🎨          │  │💡          │     │
│        │  │영어 회화   │  │디자인 공부 │  │창업 스터디 │     │
│        │  │            │  │            │  │            │     │
│        │  │15/20명     │  │10/10명     │  │3/8명       │     │
│        │  │            │  │(정원 마감)  │  │            │     │
│        │  │[가입하기]   │  │[대기 중]   │  │[가입하기]   │     │
│        │  └────────────┘  └────────────┘  └────────────┘     │
│        │                                                       │
│        │                [더 보기] (페이지네이션)                │
│        │                                                       │
└────────┴───────────────────────────────────────────────────────┘
```

---

## 🎨 섹션별 상세 설계

### 1. 페이지 헤더
```
스터디 탐색                                      [+ 스터디 만들기]
```

**좌측**:
- "스터디 탐색" (text-2xl, Bold, gray-900)

**우측**:
- "스터디 만들기" 버튼 (Primary, Medium)
  - 아이콘: + (plus)
  - 클릭 → `/studies/create`

---

### 2. 필터 바
```
┌──────────────────────────────────────────────────────────────┐
│ [전체 ▼] [프로그래밍 ▼] [정렬: 최신순 ▼]        🔍 [검색]   │
└──────────────────────────────────────────────────────────────┘
```

**구성 요소**:

1. **카테고리 필터** (Dropdown)
   - 전체, 프로그래밍, 취업준비, 자격증, 어학, 운동, 독서, 기타
   - 기본값: "전체"
   - 선택 시 URL 쿼리 업데이트 → SSR 재렌더링

2. **서브 카테고리** (선택적, Dropdown)
   - 프로그래밍 선택 시: 웹 개발, 앱 개발, 알고리즘 등
   - 동적으로 표시/숨김

3. **정렬 옵션** (Dropdown)
   - 최신순 (기본)
   - 인기순 (멤버 수)
   - 이름순

4. **검색 입력**
   - Placeholder: "스터디 검색..."
   - 실시간 검색 (디바운스 500ms)
   - 또는 엔터 키로 검색

**스타일**:
- 배경: white
- 테두리: 1px solid gray-200
- 패딩: 16px
- 둥근 모서리: 12px
- 그림자: shadow-sm

---

### 3. 스터디 카드 그리드
```
┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐
│ 📚               │  │ 💼               │  │ 🏃               │
│ 코딩테스트 스터디 │  │ 취업 준비 스터디 │  │ 운동 루틴 스터디 │
│                  │  │                  │  │                  │
│ 매일 알고리즘... │  │ 함께 취업 준비... │  │ 아침 러닝 모임... │
│                  │  │                  │  │                  │
│ 12/20명 참여     │  │ 8/15명 참여      │  │ 5/10명 참여      │
│ OWNER: 김철수    │  │ OWNER: 이영희    │  │ OWNER: 박민수    │
│                  │  │                  │  │                  │
│ [가입하기]        │  │ [가입하기]        │  │ [가입하기]        │
└──────────────────┘  └──────────────────┘  └──────────────────┘
```

**그리드 레이아웃**:
- Desktop: 3컬럼 (갭 24px)
- Tablet: 2컬럼 (갭 20px)
- Mobile: 1컬럼 (갭 16px)

**카드 스타일**:
- 배경: white
- 테두리: 1px solid gray-200
- 둥근 모서리: 12px
- 패딩: 24px
- 그림자: shadow-sm
- Hover: shadow-md, 테두리 primary-200, transform: translateY(-4px)
- 트랜지션: 0.2s ease

**카드 내용**:

1. **카테고리 이모지** (좌측 상단, 48px)
   - 프로그래밍: 📚, 취업: 💼, 운동: 🏃, 어학: 📖 등

2. **스터디명** (text-lg, Bold, gray-900)
   - 최대 2줄, 초과 시 ... (ellipsis)
   - 클릭 시 상세 페이지

3. **설명** (text-sm, gray-600)
   - 최대 2줄 (약 80자)
   - 초과 시 ...

4. **멤버 정보** (text-sm, gray-700)
   - "12/20명 참여" (현재/최대)
   - 정원 마감 시: 빨간색 "(정원 마감)"

5. **그룹장 정보** (text-xs, gray-500)
   - "OWNER: 김철수"
   - 프로필 이미지 (선택적, 16px)

6. **태그** (선택적)
   - 최대 3개 표시
   - 배경: gray-100, 텍스트: gray-700
   - 패딩: 4px 8px, 둥근 모서리: 4px
   - 예: #알고리즘 #코테 #매일

7. **가입 버튼** (하단)
   - 정원 여유: "가입하기" (Primary)
   - 정원 마감: "대기 중" (Secondary, disabled)
   - 비공개: "비공개" (gray, disabled)

---

### 4. 페이지네이션
```
                    ← [1] 2 3 4 5 →
```

**스타일**:
- 중앙 정렬
- 현재 페이지: Primary-500 배경, white 텍스트
- 다른 페이지: gray-100 배경, gray-700 텍스트
- Hover: gray-200 배경
- 화살표: ← (이전), → (다음)
- 버튼 크기: 40px × 40px
- 간격: 8px

---

## 🔍 검색 및 필터링

### URL 쿼리 파라미터
```
/studies?category=programming&subcategory=web&sort=popular&keyword=react
```

### 필터 조합
- 카테고리 + 서브카테고리 + 정렬 + 키워드
- SSR에서 쿼리 파싱 → Prisma 쿼리 생성

### 검색 알고리즘
```sql
WHERE 
  (visibility = 'PUBLIC')
  AND (category = ? OR ? IS NULL)
  AND (name LIKE ? OR description LIKE ?)
ORDER BY 
  CASE 
    WHEN sort = 'popular' THEN memberCount DESC
    WHEN sort = 'name' THEN name ASC
    ELSE createdAt DESC
  END
LIMIT 12 OFFSET ?
```

---

## 🎬 인터랙션

### 로딩 상태
```
┌──────────────────┐  ┌──────────────────┐  ┌──────────────────┐
│ ▇▇▇▇▇▇▇▇▇▇▇▇     │  │ ▇▇▇▇▇▇▇▇▇▇▇▇     │  │ ▇▇▇▇▇▇▇▇▇▇▇▇     │
│ ▇▇▇▇▇▇▇▇         │  │ ▇▇▇▇▇▇▇▇         │  │ ▇▇▇▇▇▇▇▇         │
│ ▇▇▇▇▇▇▇▇▇▇       │  │ ▇▇▇▇▇▇▇▇▇▇       │  │ ▇▇▇▇▇▇▇▇▇▇       │
│ ▇▇▇▇             │  │ ▇▇▇▇             │  │ ▇▇▇▇             │
│ ▇▇▇▇▇▇▇▇         │  │ ▇▇▇▇▇▇▇▇         │  │ ▇▇▇▇▇▇▇▇         │
└──────────────────┘  └──────────────────┘  └──────────────────┘

Skeleton UI: 12개 카드 표시 (그리드 유지)
```

### 빈 상태 (검색 결과 없음)
```
┌────────────────────────────────────────┐
│                                        │
│           [일러스트 - 돋보기]            │
│                                        │
│       검색 결과가 없습니다               │
│     다른 키워드로 검색해보세요            │
│                                        │
│         [필터 초기화]                   │
│                                        │
└────────────────────────────────────────┘
```

### 가입 버튼 클릭
```
1. 클릭 → 로딩 스피너 (버튼 내부)
2. API 요청 (POST /api/v1/studies/[studyId]/join)
3. 성공 → Toast "가입 신청이 완료되었습니다!"
4. 카드 버튼 → "가입 대기 중" (Secondary, disabled)
5. 스터디 상세 페이지로 이동 (선택적)
```

---

## 📱 반응형 설계

### Desktop (1280px+)
- 네비게이션: 240px
- 카드: 3컬럼
- 필터 바: 수평 배치

### Tablet (768-1279px)
- 네비게이션: 축소 (아이콘만)
- 카드: 2컬럼
- 필터 바: 수평 배치 (좁아짐)

### Mobile (<768px)
- 네비게이션: 햄버거 메뉴
- 카드: 1컬럼
- 필터 바: 수직 배치 또는 모달
- 검색: 전체 너비

---

## 🎨 스타일 코드

```css
/* 스터디 카드 */
.study-card {
  background: white;
  border: 1px solid var(--gray-200);
  border-radius: 12px;
  padding: 24px;
  box-shadow: var(--shadow-sm);
  transition: all 0.2s ease;
  cursor: pointer;
}

.study-card:hover {
  box-shadow: var(--shadow-md);
  border-color: var(--primary-200);
  transform: translateY(-4px);
}

/* 카테고리 이모지 */
.study-emoji {
  font-size: 48px;
  margin-bottom: 16px;
}

/* 스터디명 */
.study-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--gray-900);
  margin-bottom: 8px;
  line-height: 1.4;
  
  /* 2줄 제한 */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 설명 */
.study-description {
  font-size: 14px;
  color: var(--gray-600);
  margin-bottom: 16px;
  line-height: 1.6;
  
  /* 2줄 제한 */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 멤버 정보 */
.study-members {
  font-size: 14px;
  color: var(--gray-700);
  margin-bottom: 4px;
}

/* 태그 */
.study-tag {
  display: inline-block;
  background: var(--gray-100);
  color: var(--gray-700);
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 12px;
  margin-right: 4px;
  margin-top: 8px;
}

/* 가입 버튼 */
.join-button {
  width: 100%;
  height: 40px;
  margin-top: 16px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 600;
}
```

---

## 📐 ASCII 스케치

```
┌──────┬──────────────────────────────────────────────────┐
│      │ Header                        [+ 스터디 만들기]  │
│      ├──────────────────────────────────────────────────┤
│      │                                                  │
│ 🏠   │ 스터디 탐색                                       │
│ 🔍   │                                                  │
│ 👥   │ ┌──────────────────────────────────────────────┐│
│ 📋   │ │ [전체▼] [프로그래밍▼] [최신순▼]  🔍검색     ││
│ 🔔   │ └──────────────────────────────────────────────┘│
│ 👤   │                                                  │
│      │ ┌─────────┐ ┌─────────┐ ┌─────────┐            │
│      │ │📚       │ │💼       │ │🏃       │            │
│      │ │코딩테스트│ │취업준비  │ │운동루틴 │            │
│      │ │         │ │         │ │         │            │
│      │ │12/20명  │ │8/15명   │ │5/10명   │            │
│      │ │[가입]    │ │[가입]    │ │[가입]    │            │
│      │ └─────────┘ └─────────┘ └─────────┘            │
│      │                                                  │
│      │ ┌─────────┐ ┌─────────┐ ┌─────────┐            │
│      │ │📖       │ │🎨       │ │💡       │            │
│      │ │영어회화  │ │디자인   │ │창업     │            │
│      │ │         │ │         │ │         │            │
│      │ │15/20명  │ │10/10명  │ │3/8명    │            │
│      │ │[가입]    │ │[대기중]  │ │[가입]    │            │
│      │ └─────────┘ └─────────┘ └─────────┘            │
│      │                                                  │
│      │            ← [1] 2 3 4 5 →                      │
│      │                                                  │
└──────┴──────────────────────────────────────────────────┘
```

---

## ✅ 완료 체크리스트

- [ ] 필터 바 구현 (카테고리, 정렬, 검색)
- [ ] 스터디 카드 그리드 레이아웃
- [ ] 카드 호버 애니메이션
- [ ] 가입 버튼 기능
- [ ] 페이지네이션
- [ ] 로딩 스켈레톤 UI
- [ ] 빈 상태 UI
- [ ] SSR 구현 (SEO 최적화)
- [ ] URL 쿼리 파라미터 처리
- [ ] 반응형 테스트

---

**다음 화면**: `06_study-create.md` (스터디 생성)
