# 화면 설계 - 05: 콘텐츠 모더레이션

> **파일**: 05-moderation.md
> **경로**: `/admin/moderation`
> **목적**: AI 또는 사용자에 의해 플래그(flag) 처리된 유해/부적절 의심 콘텐츠를 관리자가 검토하고 조치할 수 있는 중앙 집중식 작업 공간을 제공합니다.

---

## 1. 모더레이션 큐 페이지 (`/admin/moderation`)

신고 관리와는 별개로, 시스템이 자동으로 감지한(예: 혐오 발언, 금지어 포함) 콘텐츠나, 일반 신고 절차보다 가볍게 '검토 요청'된 콘텐츠들이 이 페이지에 모입니다.

### 1.1 레이아웃 및 구성 요소

```
+----------------------------------------------------------------------+
| AdminHeader (페이지 제목: "콘텐츠 모더레이션")                       |
+----------------------------------------------------------------------+
| TabNavigation (메시지, 파일, 게시글 등 콘텐츠 타입)                  |
+----------------------------------------------------------------------+
| FilterPanel (감지 사유, 날짜 등) | [새 금지어 추가 +] (SYSTEM_ADMIN)  |
+----------------------------------------------------------------------+
|                                                                      |
|  ModerationQueueTable (검토 대기 중인 콘텐츠 목록)                   |
|                                                                      |
|                                                                      |
+----------------------------------------------------------------------+
| Pagination (페이지 이동)                                             |
+----------------------------------------------------------------------+
```

-   **TabNavigation**: 검토할 콘텐츠를 종류(메시지, 파일 등)에 따라 필터링합니다.
-   **ModerationQueueTable**: 검토 대기 목록을 테이블 형태로 표시합니다.

### 1.2 ModerationQueueTable 상세

| 컬럼 | 설명 |
|---|---|
| **콘텐츠 미리보기** | 메시지의 일부, 이미지 썸네일 등 콘텐츠를 간략하게 표시 |
| **감지 사유** | `HATE_SPEECH`, `SPAM_KEYWORD` 등 시스템이 플래그 처리한 이유를 배지(badge) 형태로 표시 |
| **작성자** | 콘텐츠를 생성한 사용자 정보 (이름, 프로필 링크) |
| **생성 시간**| 콘텐츠가 생성된 시간 |
| **액션** | [콘텐츠 삭제], [문제 없음] 등 관리자가 수행할 액션 버튼 |

### 1.3 UX (사용자 흐름 및 인터랙션)

1.  **콘텐츠 검토**: 관리자는 테이블의 '콘텐츠 미리보기'를 통해 어떤 내용이 문제의 소지가 있는지 빠르게 확인합니다. 클릭 시 전체 내용을 볼 수 있는 모달이 나타납니다.
2.  **신속한 조치**:
    -   명백한 위반 사항(예: 광고 도배)의 경우, 관리자는 즉시 '콘텐츠 삭제' 버튼을 클릭합니다.
    -   API(`DELETE /api/admin/moderation/messages/:id`)가 호출되고, 성공 시 해당 행은 테이블에서 즉시 사라집니다(Optimistic UI).
3.  **오탐 처리**:
    -   AI가 잘못 탐지한 것으로 판단되면, '문제 없음' 버튼을 클릭합니다.
    -   API(`PATCH /api/admin/moderation/messages/:id/approve`)가 호출되고, 해당 콘텐츠의 `isFlagged` 상태가 `false`로 변경되어 큐에서 제거됩니다. 이 피드백은 향후 AI 모델의 정확도를 높이는 데 사용될 수 있습니다.
4.  **일괄 처리**: 테이블의 체크박스를 통해 여러 항목을 선택한 후, '선택 항목 모두 삭제' 또는 '선택 항목 모두 문제 없음 처리'와 같은 일괄 작업을 수행하여 업무 효율을 높입니다.

---

## 2. 금지어 관리 페이지 (`/admin/settings/filters`)

`SYSTEM_ADMIN`은 이 페이지에서 플랫폼에 적용될 키워드 필터 목록을 직접 관리합니다.

### 2.1 레이아웃 및 구성 요소

-   **페이지 제목**: "키워드 필터 관리"
-   **입력 폼**:
    -   **키워드 입력창**: 추가할 금지어를 입력합니다. (예: "불법 사이트")
    -   **매칭 방식**: 드롭다운 (정확히 일치, 일부 포함)
    -   **처리 방식**: 드롭다운 (자동 삭제, 검토 대기열로 보내기)
    -   **추가 버튼**
-   **필터 목록 테이블**: 현재 등록된 모든 키워드와 설정된 처리 방식을 보여주는 테이블. 각 행마다 '수정', '삭제' 버튼이 있습니다.

### 2.2 UX (사용자 흐름 및 인터랙션)

1.  **금지어 추가**: 관리자가 새 키워드와 처리 방식을 설정하고 '추가' 버튼을 누르면, 목록 하단에 즉시 새로운 항목이 추가됩니다.
2.  **금지어 수정**: '수정' 버튼을 클릭하면 해당 행이 편집 가능한 폼 형태로 변경되어, 관리자가 기존 설정을 쉽게 바꿀 수 있습니다.

---
**이전**: [04-reports.md](04-reports.md)
**다음**: [06-settings.md](06-settings.md)
