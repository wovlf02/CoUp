# 17. 관리자 대시보드 (Admin Dashboard)

> **화면 ID**: `ADMIN-01`  
> **라우트**: `/admin` ✅ 구현됨
> **파일**: `app/admin/page.jsx` ✅
> **레이아웃**: AdminLayout 사용
> **구조**: AdminLayout + adminPageWrapper + adminMainContent + rightWidget (3단 레이아웃)
> **렌더링**: CSR ('use client') ✅
> **권한**: SYSTEM_ADMIN (미들웨어 필요)
> **상태관리**: useState (period, modal states) ✅
> **모달**: ReportDetailModal, UserDetailModal, SuspendUserModal ✅

---

## 📐 실제 구현된 레이아웃 (3단 구조)

```
┌────────────┬────────────────────────────────────────────────┬──────────────┐
│  Admin Nav │        Main Content (70%)                      │ Right Widget │
│   (12%)    │                                                │   (18%)      │
│            │                                                │              │
│ 📊 대시보드 │  관리자 대시보드                    [새로고침] │ 📊 주요 통계 │
│ 👥 사용자  │                                                │              │
│ 📚 스터디  │ ┌─────┐ ┌─────┐ ┌─────┐ ┌──────┐           │ 1,234명     │
│ ⚠️ 신고   │ │1,234│ │ 156 │ │ 45  │ │  12  │           │ +12 (1주)   │
│ 📈 통계   │ │사용자│ │스터디│ │가입 │ │신고  │           │              │
│ ⚙️ 설정   │ └─────┘ └─────┘ └─────┘ └──────┘           │ 활성: 156개 │
│           │                                                │ 신규: 45명  │
│ 🏠 메인   │ 📈 사용자 증가 추이 [주간][월간][연간]         │ 신고: 12건  │
│ 🚪 로그아웃│                                                │              │
│           │ ┌────────────┐ ┌─────────────┐              │ 🚨 긴급 알림│
│           │ │최근 신고   │ │실시간 현황  │              │              │
│           │ │[3개 표시]  │ │[4개 상태카드]│              │ [긴급 신고] │
│           │ │            │ │시스템 상태  │              │ [3개까지]   │
│           │ └────────────┘ └─────────────┘              │              │
│           │                                                │ 🔄 시스템   │
│           │ 📊 스터디 활동 현황                           │              │
│           │                                                │ 🟢 정상     │
│           │                                                │ CPU: 45%    │
│           │                                                │ MEM: 62%    │
│           │                                                │              │
│           │                                                │ ⚡ 빠른 이동│
│           │                                                │ [사용자관리]│
│           │                                                │ [스터디관리]│
│           │                                                │ [신고관리]  │
└────────────┴────────────────────────────────────────────────┴──────────────┘
```

---

## ✅ 실제 구현 상태 (95% 완료)

### 1. 통계 카드 (StatCard 컴포넌트) ✅

**구현 완료**:
- ✅ 4개 카드: 전체 사용자, 활성 스터디, 신규 가입, 신고 건수
- ✅ adminStats mock 데이터 연결
- ✅ 증가/감소 아이콘 자동 표시 (🔺🔻➖)
- ✅ 클릭 시 해당 페이지로 이동 (router.push)
- ✅ hover 효과
- ✅ change 값 표시 (+12, +8 등)

**데이터**:
```javascript
{
  totalUsers: 1234, totalUsersChange: 12,
  activeStudies: 156, activeStudiesChange: 8,
  newSignupsToday: 45,
  pendingReports: 12
}
```

### 2. 사용자 증가 추이 차트 ✅

**구현 완료**:
- ✅ UserGrowthChart 컴포넌트 재사용
- ✅ 기간 선택 버튼 (주간/월간/연간)
- ✅ period state 관리
- ✅ active 스타일 토글

**⚠️ 제한사항**:
- period 변경이 차트에 반영 안됨 (state만 변경)

### 3. 최근 신고 내역 ✅

**구현 완료**:
- ✅ recentReports.map() 렌더링 (3개)
- ✅ 신고 타입별 아이콘 (⚠️🟠🟡)
- ✅ 우선순위별 스타일 (URGENT: 빨간 테두리)
- ✅ 상태별 스타일 (RESOLVED: 회색)
- ✅ formatTimeAgo() 함수
- ✅ "처리하기" 버튼 → ReportDetailModal 열기
- ✅ "상세보기" 버튼
- ✅ "더보기" 버튼 → /admin/reports 이동

**카드 정보**:
- 신고 타입 뱃지
- 대상명
- 신고자명
- 시간 (방금 전, N시간 전, N일 전)
- 상태 (미처리/처리완료)
- 액션 버튼

### 4. 실시간 현황 ✅

**구현 완료**:
- ✅ 4개 상태 카드
  - 활성 사용자: totalUsers - 54
  - 오늘 신규 가입: newSignupsToday
  - 진행중 스터디: activeStudies
  - 미처리 신고: pendingReports
- ✅ 시스템 상태 표시 (🟢 정상 운영)
- ✅ CPU/메모리/디스크 프로그레스 바
- ✅ systemStatus mock 데이터 연결
- ✅ 80% 초과 시 빨간색 표시 로직

### 5. 스터디 활동 현황 ✅

**구현 완료**:
- ✅ StudyActivityChart 컴포넌트 재사용
- ✅ studyActivitiesData 연결
- ✅ 6개 카테고리 바 차트

### 6. 모달 (완전 구현) ✅

**ReportDetailModal**:
- ✅ 신고 상세 정보 표시
- ✅ 신고자/대상 정보 그리드
- ✅ 증거 자료 (스크린샷, 메시지)
- ✅ 처리 옵션 라디오 (경고/정지/삭제/기각)
- ✅ 처리 메모 textarea
- ✅ 유효성 검사
- ✅ onProcess 핸들러

**UserDetailModal**:
- ✅ 사용자 상세 정보
- ✅ 프로필, 가입 정보, 활동 통계
- ✅ 이메일 발송 버튼 (alert)
- ✅ 계정 정지/해제 버튼
- ✅ onSuspend 핸들러

**SuspendUserModal**:
- ✅ 정지 기간 선택 (7일/30일/영구)
- ✅ 정지 사유 select
- ✅ 상세 사유 textarea
- ✅ 이메일 통보 체크박스
- ✅ 유효성 검사
- ✅ onConfirm 핸들러

### 7. 우측 위젯 (100% 완료) ✅

**주요 통계 위젯**:
- ✅ adminStats 데이터 연결 (동적)
- ✅ toLocaleString() 포맷팅
- ✅ 변화량 표시 (+12, 1주)

**긴급 알림 위젯**:
- ✅ URGENT 우선순위 필터링
- ✅ 최대 3개 표시
- ✅ 빨간 배경 스타일
- ✅ 없을 시 "긴급 알림이 없습니다"

**시스템 상태 위젯**:
- ✅ 정상/경고/장애 표시
- ✅ CPU/메모리/디스크 프로그레스 바
- ✅ 80% 초과 시 빨간색
- ✅ 동적 색상 변경

**빠른 이동 위젯**:
- ✅ 4개 버튼 (사용자/스터디/신고/통계)
- ✅ router.push() 네비게이션
- ✅ onMouseEnter/Leave hover

### 8. 이벤트 핸들러 ✅

- ✅ formatTimeAgo() - 시간 표시
- ✅ handleReportClick() - 신고 상세
- ✅ handleUserClick() - 사용자 상세
- ✅ handleProcessReport() - 신고 처리
- ✅ handleSuspendUser() - 정지 모달
- ✅ handleConfirmSuspend() - 정지 확인
- ✅ console.log + alert로 동작 확인

---

## ⚠️ 미구현 항목

### 기능 제한
- ⚠️ 기간 선택이 차트에 반영 안됨
- ⚠️ 모달 처리 후 실제 데이터 업데이트 안됨 (alert만)
- ⚠️ 이메일 발송 기능 미구현
- ⚠️ 신고 기각 로직 미구현

### 데이터 연동
- ⚠️ API 연동 없음 (모두 mock)
- ⚠️ 실시간 업데이트 없음
- ⚠️ 새로고침 시 전체 페이지 리로드

---

## 📊 구현 vs 설계 비교

| 설계 항목 | 구현 상태 | 비고 |
|---------|---------|------|
| 통계 카드 4개 | ✅ 완료 | StatCard 컴포넌트 |
| 사용자 증가 차트 | ✅ 완료 | UserGrowthChart |
| 최근 신고 | ✅ 완료 | 3개, 우선순위별 스타일 |
| 실시간 현황 | ✅ 완료 | 4개 상태 + 시스템 |
| 스터디 활동 | ✅ 완료 | StudyActivityChart |
| 신고 처리 모달 | ✅ 완료 | 완전 구현 |
| 사용자 모달 | ✅ 완료 | 완전 구현 |
| 계정 정지 모달 | ✅ 완료 | 완전 구현 |
| 우측 위젯 | ✅ 완료 | 4개 모두 동적 |
| API 연동 | ❌ 미구현 | mock만 |

---

## 💡 특징

**최고 완성도**:
- ✅ Admin 영역 중 가장 완성도 높음 (95%)
- ✅ 모달 3개 완전 구현
- ✅ 재사용 컴포넌트 (StatCard, 차트)
- ✅ 세밀한 이벤트 처리

**Alert 사용**:
- ⚠️ 실제 토스트 대신 alert() 사용
- ⚠️ console.log 디버깅 코드 있음

---

**다음 화면**: `18_admin-users.md` (사용자 관리)
