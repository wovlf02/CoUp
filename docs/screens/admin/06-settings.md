# 화면 설계 - 06: 시스템 설정

> **파일**: 06-settings.md
> **경로**: `/admin/settings`
> **권한**: `SYSTEM_ADMIN`
> **목적**: 최상위 관리자가 플랫폼의 전역적인 동작을 제어하고, 다른 관리자의 권한을 관리하며, 시스템의 핵심 데이터를 관리할 수 있는 통합된 인터페이스를 제공합니다.

---

## 1. 시스템 설정 메인 페이지 (`/admin/settings`)

### 1.1 레이아웃 및 구성 요소

이 페이지는 다양한 설정 항목들을 기능별로 그룹화하여 보여주는 폼(Form) 형태를 가집니다.

```
+----------------------------------------------------------------------+
| AdminHeader (페이지 제목: "시스템 설정")                             |
+----------------------------------------------------------------------+
| [저장] 버튼 (페이지 우측 상단에 고정)                                |
+----------------------------------------------------------------------+
|                                                                      |
| ▼ 사용자 설정 (섹션)                                                 |
|   - 신규 사용자 가입 허용: [토글 스위치 On/Off]                        |
|   - 가입 시 기본 역할: [드롭다운: USER]                              |
|                                                                      |
| ▼ 스터디 설정 (섹션)                                                 |
|   - 1인당 최대 스터디 생성 개수: [숫자 입력 필드]                    |
|                                                                      |
| ▼ 파일 업로드 설정 (섹션)                                            |
|   - 1회 업로드 최대 파일 크기(MB): [숫자 입력 필드]                  |
|                                                                      |
| ▼ 점검 모드 (섹션, 위험 영역으로 표시)                               |
|   - 서비스 점검 모드 활성화: [토글 스위치 On/Off]                      |
|   - 점검 안내 메시지: [텍스트 입력 필드]                             |
|                                                                      |
+----------------------------------------------------------------------+
```

-   **섹션화**: 관련된 설정들을 카드(Card)나 구분선으로 묶어 '사용자 설정', '파일 설정' 등 명확한 제목을 부여합니다.
-   **입력 컨트롤**: 각 설정의 타입에 맞는 적절한 UI 컨트롤(토글 스위치, 숫자 입력, 드롭다운 등)을 사용하여 직관적인 조작을 유도합니다.
-   **'저장' 버튼**: 페이지 상단에 항상 떠 있는 '저장' 버튼을 두어, 스크롤과 상관없이 언제든 변경사항을 저장할 수 있게 합니다.

### 1.2 UX (사용자 흐름 및 인터랙션)

1.  **설정 변경**: 관리자가 폼의 값을 변경하면, '저장' 버튼이 활성화되고 색상이 변경되어 저장할 내용이 있음을 시각적으로 알려줍니다.
2.  **저장**: '저장' 버튼을 클릭하면, 변경된 모든 설정 값을 하나의 API 요청(`PUT /api/admin/settings`)으로 서버에 전송합니다. 처리 중에는 버튼이 '저장 중...' 상태로 변경됩니다.
3.  **피드백**: 저장이 완료되면 "설정이 성공적으로 저장되었습니다."라는 토스트 알림을 띄워 작업이 완료되었음을 명확히 피드백합니다.
4.  **위험 액션 확인**: '점검 모드 활성화'와 같이 시스템에 큰 영향을 미치는 설정을 변경하고 저장하려고 하면, "점검 모드를 활성화하면 모든 일반 사용자의 접근이 차단됩니다. 계속하시겠습니까?" 와 같은 확인 모달을 띄워 실수를 방지합니다.

---

## 2. 관리자 관리 페이지 (`/admin/settings/admins`)

-   **레이아웃**: '사용자 관리' 페이지와 유사하게, 검색/필터 영역, 관리자 목록 테이블, 페이지네이션으로 구성됩니다.
-   **핵심 컴포넌트**:
    -   **[+ 새 관리자 임명] 버튼**: 클릭 시 사용자를 검색하고 역할을 지정하여 임명할 수 있는 모달(`AppointAdminModal`)을 엽니다.
    -   **AdminsTable**: 관리자 목록을 표시합니다. 일반 사용자 테이블과 달리 '역할' 컬럼이 중요하게 표시되며, 각 행 끝에 '역할 변경', '해임' 액션 버튼이 있습니다.
-   **UX**:
    -   '해임' 버튼 클릭 시, "이 관리자를 일반 사용자로 강등합니다. 계속하시겠습니까?" 라는 확인 모달을 통해 재차 확인합니다.

---

## 3. 감사 로그 페이지 (`/admin/settings/logs`)

-   **레이아웃**: 검색/필터 영역과 로그 목록 테이블로 구성됩니다. 무한 스크롤(Infinite Scroll)을 적용하여 오래된 로그도 쉽게 탐색할 수 있도록 합니다.
-   **핵심 컴포넌트**:
    -   **FilterPanel**: 관리자 이름(드롭다운), 액션 유형(드롭다운), 날짜 범위(Date Picker) 등으로 로그를 필터링합니다.
    -   **LogsTable**: 각 로그 항목을 시간, 관리자, 액션, 대상, 사유 등의 컬럼으로 보여줍니다.
-   **UX**:
    -   각 로그 행을 클릭하면 모달이 열리며, 해당 액션으로 인해 **데이터가 어떻게 변경되었는지(Before/After)**를 `JSON diff` 형태로 명확하게 보여주어, 문제 발생 시 원인을 빠르게 추적할 수 있도록 돕습니다.

---
**이전**: [05-moderation.md](05-moderation.md)
**다음**: [07-analytics.md](07-analytics.md)
