# 22. 관리자 - 시스템 설정 (Admin Settings)

> **화면 ID**: `ADMIN-06`  
> **라우트**: `/admin/settings` ✅ 구현됨
> **파일**: `app/admin/settings/page.jsx` ✅
> **레이아웃**: AdminLayout wide ✅
> **CSS**: page.module.css (별도) ✅
> **렌더링**: CSR ('use client') ✅
> **권한**: SYSTEM_ADMIN
> **상태관리**: useState (activeTab, settings) ✅
> **탭 구조**: 4개 탭 ✅

---

## ✅ 실제 구현 상태 (85% 완료)

### 1. 탭 네비게이션 (완전 구현) ✅

**4개 탭**:
1. ✅ 서비스 설정
2. ✅ 제한 설정
3. ✅ 관리자 계정
4. ✅ 백업 및 로그

**탭 전환**:
- ✅ activeTab state
- ✅ onClick으로 탭 변경
- ✅ active 스타일 토글
- ✅ 조건부 렌더링 (`{activeTab === 'service' && ...}`)

### 2. 서비스 설정 탭 ✅

**서비스 상태**:
- ✅ 라디오 버튼: 정상 운영 / 점검 모드
- ✅ settings.service.status 연결
- ⚠️ readOnly (실제 변경 불가)

**기능 활성화**:
- ✅ 4개 체크박스
  - 회원가입 허용
  - 스터디 생성 허용
  - 소셜 로그인 허용
  - 공개 스터디 탐색 허용 (미로그인)
- ✅ settings.service 데이터 연결
- ⚠️ readOnly

### 3. 제한 설정 탭 ✅

**스터디 제한**:
- ✅ 사용자당 최대 스터디 (5개)
- ✅ 스터디당 최대 멤버 (50명)

**파일 제한**:
- ✅ 파일 최대 크기 (50MB)
- ✅ 스터디당 저장공간 (1GB)

**메시지 제한**:
- ✅ 최대 글자 수 (2000자)
- ✅ 연속 전송 제한 (10회/분)

**폼 구조**:
- ✅ label + input + unit 세트
- ✅ defaultValue로 초기값
- ✅ .inputRow로 2개씩 배치

### 4. 관리자 계정 탭 ✅

**관리자 목록**:
- ✅ settings.admins.map() 렌더링 (2명)
- ✅ 관리자 카드: 👤 + 이메일 + 역할 + 추가일
- ✅ 수정/삭제 버튼
- ✅ 슈퍼 관리자는 삭제 버튼 없음 (조건부)
- ⚠️ 버튼 기능 미구현

**+ 관리자 추가**:
- ✅ 버튼 존재
- ⚠️ 기능 미구현

**역할 설명**:
- ✅ 슈퍼 관리자 (SUPER_ADMIN)
  - 모든 권한 보유
  - 시스템 설정 변경 가능
  - 다른 관리자 추가/삭제 가능
  - 최소 1명 필수
- ✅ 모더레이터 (MODERATOR)
  - 콘텐츠 관리 권한
  - 사용자/스터디 관리 (제한적)
  - 신고 처리
  - 시스템 설정 불가

### 5. 백업 및 로그 탭 ✅

**자동 백업 설정**:
- ✅ 자동 백업 활성화 체크박스
- ✅ 백업 주기 라디오 (매일/매주/매월 새벽 2시)
- ✅ 백업 보관 기간 input (30일)
- ⚠️ 실제 설정 변경 안됨

**수동 백업**:
- ✅ 수동 백업 시작 버튼
- ⚠️ 기능 미구현

**백업 파일 목록**:
- ✅ 2개 백업 파일 표시
  - 📦 backup_2025_11_17.zip (1.2GB)
  - 📦 backup_2025_11_10.zip (1.1GB)
- ✅ 각 파일: 다운로드/복원/삭제 버튼
- ⚠️ 버튼 기능 미구현

### 6. 우측 위젯 (100% 완료) ✅

**최근 변경 위젯**:
- ✅ 2025-11-17 10:30
- ✅ admin@coup.com
- ✅ 변경 항목 리스트
- ⚠️ 하드코딩

**설정 안내 위젯**:
- ✅ ℹ️ 변경사항은 저장 버튼 클릭 후 즉시 적용
- ✅ ⚠️ 서비스 상태 변경 시 모든 사용자에게 영향

**권한 안내 위젯**:
- ✅ 현재 역할: SYSTEM_ADMIN
- ✅ 수정 가능: ✅ 모든 설정

### 7. 헤더 ✅

- ✅ "시스템 설정" 제목
- ✅ "저장" 버튼
- ⚠️ 저장 기능 미구현

---

## ⚠️ 미구현 항목

- ⚠️ 저장 기능 (버튼만)
- ⚠️ 관리자 추가/수정/삭제
- ⚠️ 백업 다운로드/복원/삭제
- ⚠️ 수동 백업 시작
- ⚠️ 실제 input 값 변경 저장 안됨
- ⚠️ API 연동 없음

---

## 💡 특징

**탭 구조**:
- ✅ 4개 탭으로 설정 분리 (UX 우수)
- ✅ activeTab state로 깔끔한 전환

**wide 레이아웃**:
- ✅ AdminLayout에 wide prop 전달
- ✅ 넓은 화면 활용

**완벽한 폼 구조**:
- ✅ label + input + unit 세트
- ✅ .inputRow로 2개씩 배치
- ✅ 일관된 스타일

**역할 설명**:
- ✅ 슈퍼 관리자 vs 모더레이터 명확한 차이
- ✅ roleCard로 시각적 구분

**백업 UI**:
- ✅ 파일 목록 + 액션 버튼
- ✅ 파일명, 크기, 생성일 표시

**readOnly 많음**:
- ⚠️ 체크박스/라디오 대부분 readOnly
- ⚠️ 실제 설정 변경 불가

**하드코딩**:
- ⚠️ 최근 변경 내역 하드코딩

---

**참고**: Analytics 문서는 이미 업데이트됨 (`analytics.md`)
