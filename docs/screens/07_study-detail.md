# 07. 스터디 상세 - 개요 (Study Detail - Overview)

> **화면 ID**: `STUDY-01`  
> **라우트**: `/studies/[studyId]`  
> **레이아웃**: 좌측 네비게이션(15%) + 우측 콘텐츠(85%)  
> **렌더링**: Hybrid (SSR → CSR)

---

## 📐 화면 구조 개요

**이 페이지는 스터디 상세 페이지의 기본 레이아웃을 정의합니다.**

스터디 상세 페이지는 다음과 같이 구성됩니다:

1. **공통 레이아웃 (고정)** - 모든 탭에서 유지
   - 뒤로가기 버튼
   - 스터디 정보 헤더
   - 탭 네비게이션 바

2. **탭별 콘텐츠 영역 (가변)** - 탭에 따라 변경
   - [개요] → 현재 문서 (기본)
   - [채팅] → `08_study-chat.md`
   - [공지] → `09_study-notice.md`
   - [파일] → `10_study-files.md`
   - [캘린더] → `11_study-calendar.md`
   - [할일] → `12_study-tasks.md`
   - [화상 스터디] → `13_study-video-call.md` (전체 화면)
   - [설정] → `14_study-settings.md` (관리자만)

---

## 📐 전체 화면 구조

```
┌────────┬───────────────────────────────────────────────────────┐
│        │  Header                                               │
│        ├───────────────────────────────────────────────────────┤
│        │  ┌─────────────────────────────────────────────────┐  │
│        │  │  [공통 레이아웃 - 모든 탭에서 고정]              │  │
│  Nav   │  │                                                 │  │
│  Bar   │  │  ← 스터디 목록으로                               │  │
│        │  │                                                 │  │
│ 🏠     │  │  ┌───────────────────────────────────────────┐  │  │
│ 🔍     │  │  │ 📚 코딩테스트 마스터 스터디               │  │  │
│ 👥     │  │  │ OWNER: 김철수  |  12/20명  |  프로그래밍  │  │  │
│ 📋     │  │  │                             [가입하기]    │  │  │
│ 🔔     │  │  └───────────────────────────────────────────┘  │  │
│ 👤     │  │                                                 │  │
│        │  │  ┌───────────────────────────────────────────┐  │  │
│        │  │  │ [개요] [채팅] [공지] [파일] [캘린더] ... │  │  │
│        │  │  └───────────────────────────────────────────┘  │  │
│        │  └─────────────────────────────────────────────────┘  │
│        │  ┌─────────────────────────────────────────────────┐  │
│        │  │  [탭별 콘텐츠 영역 - 탭에 따라 변경]            │  │
│        │  │                                                 │  │
│        │  │  (아래 섹션 참조)                               │  │
│        │  │                                                 │  │
│        │  └─────────────────────────────────────────────────┘  │
└────────┴───────────────────────────────────────────────────────┘
```

---

## 🎨 공통 레이아웃 (모든 탭 고정)

### 1. 상단 뒤로가기 버튼
```
← 스터디 목록으로
```

**뒤로가기 버튼**:
- 클릭 → `/studies`
- 모든 스터디 탭에서 표시
- 화상 통화 탭에서는 제외

---

### 2. 스터디 헤더 카드
```
┌───────────────────────────────────────────────────────────┐
│ 📚 코딩테스트 마스터 스터디                                │
│                                                           │
│ OWNER: 김철수  |  12/20명  |  프로그래밍                  │
│                                                [가입하기] │
└───────────────────────────────────────────────────────────┘
```

**좌측**:
1. **카테고리 이모지** (48px)
2. **스터디명** (text-2xl, Bold, gray-900)
3. **메타 정보** (text-sm, gray-600)
   - 그룹장 이름
   - 멤버 수 (현재/최대)
   - 카테고리

**우측**:
- **가입하기 버튼** (Primary) - 비회원인 경우
- **채팅하기 버튼** (Primary) - 이미 멤버인 경우
- **설정 버튼** (Secondary) - 관리자인 경우

---

### 3. 탭 네비게이션 (고정)
```
┌──────────────────────────────────────────────────────────┐
│ [개요] [채팅] [공지] [파일] [캘린더] [할일] [설정]       │
└──────────────────────────────────────────────────────────┘
```

**탭 목록**:
1. **개요** → `/studies/[id]` (현재 페이지)
2. **채팅** → `/studies/[id]/chat`
3. **공지** → `/studies/[id]/notices`
4. **파일** → `/studies/[id]/files`
5. **캘린더** → `/studies/[id]/calendar`
6. **할 일** → `/studies/[id]/tasks`
7. **화상 스터디** → `/studies/[id]/video-call` (전체 화면 모드)
8. **설정** → `/studies/[id]/settings` (관리자만)

**스타일**:
- Active: primary-500 텍스트, 하단 2px 테두리
- Hover: gray-100 배경
- Default: gray-600 텍스트

---

## 🎨 탭별 콘텐츠 영역 (변경되는 부분)

### [개요] 탭 콘텐츠 (현재 페이지)

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│  ┌────────────────┐  ┌────────────────┐               │
│  │ 스터디 소개     │  │ 스터디원 (12명) │               │
│  │                │  │                │               │
│  │ 매일 아침...   │  │ 👤 김철수      │               │
│  │                │  │ 👤 이영희      │               │
│  │ #알고리즘      │  │ 👤 박민수      │               │
│  │                │  │                │               │
│  │ 생성일: 11.01  │  │ [전체 보기]    │               │
│  └────────────────┘  └────────────────┘               │
│                                                         │
│  ┌──────────────────────────────────────────────────┐  │
│  │ 최근 활동                                        │  │
│  │                                                  │  │
│  │ • [공지] 이번 주 일정 (2시간 전)                 │  │
│  │ • [파일] 알고리즘 풀이.pdf (5시간 전)            │  │
│  │ • [할일] 박민수님이 할 일 완료 (1일 전)          │  │
│  └──────────────────────────────────────────────────┘  │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

#### 좌측: 스터디 소개
```
┌─────────────────────────────────┐
│ 스터디 소개                      │
│                                 │
│ 매일 아침 알고리즘 문제를 풀고  │
│ 서로의 풀이를 공유합니다.        │
│ 함께 실력을 키워나가요!          │
│                                 │
│ #알고리즘 #코딩테스트 #매일      │
│                                 │
│ 생성일: 2025년 11월 1일          │
│ 마지막 활동: 1시간 전            │
└─────────────────────────────────┘
```

**내용**:
1. 제목: "스터디 소개" (text-lg, Bold)
2. 소개 텍스트 (text-base, gray-700, 줄바꿈 유지)
3. 태그 (primary-100 배경, primary-700 텍스트)
4. 메타 정보 (text-sm, gray-500)

#### 우측: 스터디원 목록
```
┌─────────────────────────────────┐
│ 스터디원 (12명)         [전체보기] │
│                                 │
│ 👤 김철수                        │
│    OWNER                        │
│                                 │
│ 👤 이영희                        │
│    ADMIN                        │
│                                 │
│ 👤 박민수                        │
│    MEMBER                       │
│                                 │
│ 👤 최지훈                        │
│    MEMBER                       │
│                                 │
│ + 8명 더보기                     │
└─────────────────────────────────┘
```

**내용**:
1. 제목 + 인원 수
2. **전체 보기** 링크 → 모달 또는 별도 페이지
3. 멤버 아이템 (최대 4명 표시)
   - 프로필 이미지 (40px)
   - 이름 (text-base, gray-900)
   - 역할 배지 (OWNER/ADMIN/MEMBER)
4. "+ N명 더보기" 버튼

#### 최근 활동
```
┌──────────────────────────────────────────────────────────┐
│ 최근 활동                                                │
│                                                          │
│ • [공지] 김철수님이 "이번 주 일정" 공지를 작성했습니다    │
│   2시간 전                                               │
│                                                          │
│ • [파일] 이영희님이 "알고리즘 풀이.pdf"를 업로드했습니다  │
│   5시간 전                                               │
│                                                          │
│ • [할일] 박민수님이 "백준 1234번" 할 일을 완료했습니다   │
│   1일 전                                                 │
│                                                          │
│ [더 보기]                                                │
└──────────────────────────────────────────────────────────┘
```

**활동 아이템**:
1. 타입 배지 ([공지], [파일], [할일], [채팅])
2. 활동 설명 (누가, 무엇을)
3. 시간 (상대 시간)

**최대 5개 표시** → [더 보기] 클릭 시 전체 활동 페이지

---

## 📱 반응형 설계

### Desktop (1280px+)
- 2컬럼 레이아웃 (70% + 30%)
- 소개 좌측, 스터디원 우측

### Tablet (768-1279px)
- 2컬럼 레이아웃 (65% + 35%)

### Mobile (<768px)
- 1컬럼 레이아웃 (수직 배치)
- 소개 → 스터디원 → 최근 활동 순서

---

## 🎬 인터랙션

### 가입 버튼 클릭 (비회원)
```
1. 클릭 → 확인 다이얼로그
   "코딩테스트 마스터 스터디에 가입하시겠습니까?"
2. 확인 → API 요청 (POST /api/v1/studies/[id]/join)
3. 성공
   - Toast: "가입 신청이 완료되었습니다!"
   - 버튼 → "가입 대기 중" (자동 승인 시 즉시 "채팅하기")
4. 실패
   - Toast: 에러 메시지
```

### 스터디원 클릭
- 클릭 → 멤버 프로필 모달 또는 마이페이지

### 태그 클릭
- 클릭 → `/studies?tag=알고리즘` (해당 태그로 필터링)

### 탭 클릭
- 클릭 → 해당 탭 라우트로 이동
- **공통 레이아웃은 유지**, 콘텐츠 영역만 변경

---

## 📐 ASCII 스케치

```
┌──────┬──────────────────────────────────────────────────┐
│      │ ┌──────────────────────────────────────────────┐ │
│ 🏠   │ │ [공통 레이아웃 - 고정]                        │ │
│ 🔍   │ │ ← 스터디 목록으로                             │ │
│ 👥   │ │                                              │ │
│ 📋   │ │ ┌──────────────────────────────────────────┐ │ │
│ 🔔   │ │ │ 📚 코딩테스트 마스터      [가입하기]     │ │ │
│ 👤   │ │ │ OWNER: 김철수 | 12/20명                 │ │ │
│      │ │ └──────────────────────────────────────────┘ │ │
│      │ │                                              │ │
│      │ │ ┌──────────────────────────────────────────┐ │ │
│      │ │ │ [개요] [채팅] [공지] [파일] [캘린더]     │ │ │
│      │ │ └──────────────────────────────────────────┘ │ │
│      │ └──────────────────────────────────────────────┘ │
│      │ ┌──────────────────────────────────────────────┐ │
│      │ │ [탭별 콘텐츠 - 변경됨]                        │ │
│      │ │                                              │ │
│      │ │ ┌────────────┐  ┌────────────┐             │ │
│      │ │ │ 스터디 소개 │  │ 스터디원   │             │ │
│      │ │ │ 매일...    │  │ 👤 김철수  │             │ │
│      │ │ │ #알고리즘  │  │ 👤 이영희  │             │ │
│      │ │ └────────────┘  └────────────┘             │ │
│      │ │                                              │ │
│      │ │ ┌──────────────────────────────────────────┐ │ │
│      │ │ │ 최근 활동                                │ │ │
│      │ │ │ • [공지] 이번 주 일정 (2시간 전)         │ │ │
│      │ │ └──────────────────────────────────────────┘ │ │
│      │ └──────────────────────────────────────────────┘ │
└──────┴──────────────────────────────────────────────────┘
```

---

## 🔧 구현 참고사항

### 레이아웃 컴포넌트 구조
```
/studies/[studyId]/layout.jsx (공통 레이아웃)
  ├─ 뒤로가기 버튼
  ├─ 스터디 헤더 카드
  ├─ 탭 네비게이션
  └─ {children} ← 탭별 콘텐츠가 여기에 렌더링

/studies/[studyId]/page.jsx (개요 탭)
/studies/[studyId]/chat/page.jsx (채팅 탭)
/studies/[studyId]/notices/page.jsx (공지 탭)
...
```

---

## ✅ 완료 체크리스트

- [ ] 공통 레이아웃 컴포넌트 (layout.jsx)
- [ ] 스터디 헤더 카드
- [ ] 탭 네비게이션 (Active 상태 표시)
- [ ] 스터디 소개 섹션
- [ ] 스터디원 목록 (최대 4명)
- [ ] 최근 활동 타임라인 (최대 5개)
- [ ] 가입 버튼 기능
- [ ] 멤버/비회원에 따른 버튼 변경
- [ ] 반응형 레이아웃
- [ ] SSR 데이터 로딩
- [ ] CSR 실시간 업데이트

---

**다음 화면**: `08_study-chat.md` (채팅 탭 콘텐츠), `09~16` (기타 스터디 탭), `17~22` (관리자 화면)
