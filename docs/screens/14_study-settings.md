# 14. 스터디 설정 (Study Settings)

> **화면 ID**: `STUDY-08`  
> **라우트**: `/studies/[studyId]/settings`  
> **레이아웃**: 좌측 네비게이션(15%) + 우측 콘텐츠(85%)  
> **렌더링**: CSR  
> **권한**: OWNER, ADMIN

---

## 📐 화면 구조

```
┌────────┬───────────────────────────────────────────────────────┐
│        │  📚 코딩테스트 마스터 스터디                           │
│  Nav   │  ┌──────────────────────────────────────────────────┐ │
│  Bar   │  │ [개요] [채팅] [공지] [파일] [캘린더] [할일] [설정]│ │
│        │  └──────────────────────────────────────────────────┘ │
│ 🏠     │                                                       │
│ 🔍     │  스터디 설정                                           │
│ 👥     │                                                       │
│ 📋     │  ┌─────────────────────────────────────────────────┐  │
│ 🔔     │  │ 1. 기본 정보                                     │  │
│ 👤     │  │                                                 │  │
│        │  │ 스터디 이름                                      │  │
│        │  │ [코딩테스트 마스터 스터디___________________]   │  │
│        │  │                                                 │  │
│        │  │ 스터디 소개                                      │  │
│        │  │ [매일 아침 알고리즘 문제를 풀고_____________]   │  │
│        │  │ [___________________________________________]   │  │
│        │  │                                                 │  │
│        │  │ 카테고리                                         │  │
│        │  │ [프로그래밍 ▼] [알고리즘/코테 ▼]               │  │
│        │  └─────────────────────────────────────────────────┘  │
│        │                                                       │
│        │  ┌─────────────────────────────────────────────────┐  │
│        │  │ 2. 모집 설정                                     │  │
│        │  │                                                 │  │
│        │  │ 모집 인원: [-] [20] [+]                         │  │
│        │  │ 공개 설정: (•) 공개  ( ) 비공개                 │  │
│        │  │ [✓] 자동 승인                                   │  │
│        │  └─────────────────────────────────────────────────┘  │
│        │                                                       │
│        │  ┌─────────────────────────────────────────────────┐  │
│        │  │ 3. 멤버 관리                                     │  │
│        │  │                                                 │  │
│        │  │ • 김철수 (OWNER)                                │  │
│        │  │ • 이영희 (ADMIN)                   [강퇴] [권한]│  │
│        │  │ • 박민수 (MEMBER)                  [강퇴] [권한]│  │
│        │  └─────────────────────────────────────────────────┘  │
│        │                                                       │
│        │  ┌─────────────────────────────────────────────────┐  │
│        │  │ 4. 위험 구역                                     │  │
│        │  │                                                 │  │
│        │  │ [스터디 삭제]                                    │  │
│        │  │ ⚠️ 삭제 시 모든 데이터가 영구 삭제됩니다.       │  │
│        │  └─────────────────────────────────────────────────┘  │
│        │                                                       │
│        │                                    [취소]  [저장하기] │
│        │                                                       │
└────────┴───────────────────────────────────────────────────────┘
```

---

## 🎨 섹션별 상세 설계

### 1. 기본 정보
```
┌─────────────────────────────────────────────────────────┐
│ 1. 기본 정보                                             │
│                                                         │
│ 스터디 이름 *                                            │
│ ┌───────────────────────────────────────────────────────┐│
│ │ 코딩테스트 마스터 스터디                               ││
│ └───────────────────────────────────────────────────────┘│
│                                                         │
│ 스터디 소개 *                                            │
│ ┌───────────────────────────────────────────────────────┐│
│ │ 매일 아침 알고리즘 문제를 풀고                         ││
│ │ 서로의 풀이를 공유합니다.                              ││
│ └───────────────────────────────────────────────────────┘│
│                                                         │
│ 카테고리 *                                               │
│ [프로그래밍 ▼]  [알고리즘/코테 ▼]                       │
│                                                         │
│ 태그 (선택)                                              │
│ #알고리즘 × #코딩테스트 × #매일  [+ 추가]                │
└─────────────────────────────────────────────────────────┘
```

**필드**: 스터디 생성과 동일

---

### 2. 모집 설정
```
┌─────────────────────────────────────────────────────────┐
│ 2. 모집 설정                                             │
│                                                         │
│ 모집 인원 *                                              │
│ [-] [20] [+] 명  (현재: 12명)                           │
│                                                         │
│ 공개 설정 *                                              │
│ (•) 전체 공개                                            │
│ ( ) 비공개 (초대만)                                      │
│                                                         │
│ 자동 승인                                                │
│ [✓] 가입 신청 시 자동으로 승인합니다                      │
└─────────────────────────────────────────────────────────┘
```

**검증**: 현재 멤버 수보다 작게 설정 불가

---

### 3. 멤버 관리
```
┌─────────────────────────────────────────────────────────┐
│ 3. 멤버 관리 (12명)                                      │
│                                                         │
│ 👤 김철수                                               │
│    OWNER · 2025.11.01 가입                              │
│                                                         │
│ 👤 이영희                                               │
│    ADMIN · 2025.11.02 가입          [권한 변경] [강퇴]  │
│                                                         │
│ 👤 박민수                                               │
│    MEMBER · 2025.11.03 가입         [권한 변경] [강퇴]  │
│                                                         │
│ ... (나머지 멤버)                                        │
└─────────────────────────────────────────────────────────┘
```

**OWNER (그룹장)**:
- 삭제/강퇴 불가
- 권한 변경 불가

**ADMIN (관리자)**:
- 권한 변경: MEMBER ↔ ADMIN
- 강퇴 가능

**MEMBER (일반)**:
- 권한 변경: MEMBER → ADMIN
- 강퇴 가능

**액션 버튼**:
- **권한 변경**: 드롭다운 (ADMIN/MEMBER)
- **강퇴**: 확인 다이얼로그 → 멤버 제거

---

### 4. 위험 구역
```
┌─────────────────────────────────────────────────────────┐
│ 4. 위험 구역                                             │
│                                                         │
│ ┌───────────────────────────────────────────────────────┐│
│ │ [스터디 삭제]                                         ││
│ │ ⚠️ 스터디를 삭제하면 모든 데이터(채팅, 파일 등)가      ││
│ │    영구적으로 삭제됩니다. 이 작업은 되돌릴 수 없습니다.││
│ └───────────────────────────────────────────────────────┘│
└─────────────────────────────────────────────────────────┘
```

**스터디 삭제** (OWNER만):
1. 버튼 클릭
2. 확인 다이얼로그:
   ```
   정말로 "코딩테스트 마스터 스터디"를 삭제하시겠습니까?
   
   이 작업은 되돌릴 수 없으며, 다음 데이터가 영구 삭제됩니다:
   - 모든 채팅 메시지
   - 공지사항
   - 파일
   - 캘린더 일정
   - 할 일
   
   삭제하려면 스터디 이름을 입력하세요:
   [_____________________________]
   
   [취소]  [삭제하기]
   ```
3. 스터디명 일치 확인
4. 삭제 → 스터디 목록으로 리다이렉트

---

## 🎬 인터랙션

### 설정 저장
```javascript
const handleSave = async (data) => {
  await api.patch(`/api/v1/studies/${studyId}`, {
    name: data.name,
    description: data.description,
    category: data.category,
    maxMembers: data.maxMembers,
    visibility: data.visibility,
    autoApprove: data.autoApprove
  })
  
  toast.success('설정이 저장되었습니다!')
  router.push(`/studies/${studyId}`)
}
```

### 멤버 권한 변경
```javascript
const handleChangeRole = async (memberId, newRole) => {
  await api.patch(`/api/v1/studies/${studyId}/members/${memberId}`, {
    role: newRole
  })
  
  toast.success('권한이 변경되었습니다!')
  refetch()
}
```

### 멤버 강퇴
```javascript
const handleKick = async (memberId) => {
  if (!confirm('정말 이 멤버를 강퇴하시겠습니까?')) return
  
  await api.delete(`/api/v1/studies/${studyId}/members/${memberId}`)
  
  toast.success('멤버가 강퇴되었습니다!')
  refetch()
}
```

---

## 📐 ASCII 스케치

```
┌──────┬──────────────────────────────────────────────────┐
│      │ 📚 코딩테스트 스터디                              │
│ 🏠   │ [개요] [채팅] [공지] [파일] [캘린더] [할일] [설정]│
│ 🔍   │                                                  │
│ 👥   │ 스터디 설정                                       │
│ 📋   │                                                  │
│ 🔔   │ ┌──────────────────────────────────────────────┐│
│ 👤   │ │ 1. 기본 정보                                 ││
│      │ │ 스터디 이름: [________________]              ││
│      │ └──────────────────────────────────────────────┘│
│      │                                                  │
│      │ ┌──────────────────────────────────────────────┐│
│      │ │ 2. 모집 설정                                 ││
│      │ │ 모집 인원: [-] [20] [+]                      ││
│      │ └──────────────────────────────────────────────┘│
│      │                                                  │
│      │ ┌──────────────────────────────────────────────┐│
│      │ │ 3. 멤버 관리                                 ││
│      │ │ • 이영희 (ADMIN)       [권한] [강퇴]        ││
│      │ └──────────────────────────────────────────────┘│
│      │                                                  │
│      │ ┌──────────────────────────────────────────────┐│
│      │ │ 4. 위험 구역                                 ││
│      │ │ [스터디 삭제]  ⚠️ 영구 삭제됩니다            ││
│      │ └──────────────────────────────────────────────┘│
│      │                                                  │
│      │                        [취소]  [저장하기]        │
└──────┴──────────────────────────────────────────────────┘
```

---

## ✅ 완료 체크리스트

- [ ] 기본 정보 수정 폼
- [ ] 모집 설정 변경
- [ ] 멤버 목록 표시
- [ ] 멤버 권한 변경 (OWNER만)
- [ ] 멤버 강퇴 (관리자)
- [ ] 스터디 삭제 (OWNER만)
- [ ] 권한 체크 (OWNER, ADMIN만 접근)
- [ ] 변경사항 검증

---

**다음 화면**: `15_my-page.md` (마이페이지)
