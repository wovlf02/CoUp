# Profile ì˜ì—­ ì°¸ì¡° ë¬¸ì„œ

**ì‘ì„±ì¼**: 2025-12-01  
**Phase**: 1 - ë¶„ì„ ë° ê³„íš

---

## ğŸ“‹ ê¸°ì¡´ ì˜ˆì™¸ ë¬¸ì„œ

### Profile ì˜ˆì™¸ ë¬¸ì„œ (docs/exception/profile/)
1. **README.md** - Profile ì˜ˆì™¸ ê°€ì´ë“œ
2. **01-profile-edit-exceptions.md** - í”„ë¡œí•„ ìˆ˜ì • ì˜ˆì™¸ (ìƒì„¸)
3. **02-avatar-exceptions.md** - ì•„ë°”íƒ€ ì˜ˆì™¸
4. **03-account-deletion-exceptions.md** - ê³„ì • ì‚­ì œ ì˜ˆì™¸
5. **99-best-practices.md** - ëª¨ë²” ì‚¬ë¡€
6. **INDEX.md** - ì˜ˆì™¸ ìƒ‰ì¸
7. **COMPLETION-REPORT.md** - ë¬¸ì„œí™” ì™„ë£Œ ë³´ê³ ì„œ

---

## ğŸ“š ì™„ë£Œëœ ì˜ì—­ ì°¸ê³ 

### Chat ì˜ì—­ (ê°€ì¥ ìµœê·¼, ì°¸ê³  ìš°ì„ )
- `docs/exception/implement/chat/CHAT-EXCEPTION-COMPLETE.md` - ìµœì¢… ì™„ë£Œ ë³´ê³ ì„œ
- `docs/exception/implement/chat/INTEGRATION-TEST-SCENARIOS.md` - í†µí•© í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- `docs/exception/implement/chat/E2E-TEST-GUIDE.md` - E2E í…ŒìŠ¤íŠ¸
- `docs/exception/implement/chat/PHASE*-COMPLETE.md` - Phaseë³„ ë³´ê³ ì„œ

**ì°¸ê³  í¬ì¸íŠ¸**:
- Exception í´ë˜ìŠ¤ ì„¤ê³„ íŒ¨í„´
- Socket ì—ëŸ¬ ì²˜ë¦¬ (Profileì€ HTTPë§Œ)
- ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (Profileì€ ë¯¸ì ìš©)
- ìë™ ì¬ì—°ê²° (Profileì€ ë¯¸ì ìš©)

### My-Studies ì˜ì—­
- `docs/exception/implement/my-studies/MY-STUDIES-FINAL-REPORT.md` - ì™„ë£Œ ë³´ê³ ì„œ
- `docs/exception/implement/my-studies/USAGE-GUIDE.md` - ì‚¬ìš© ê°€ì´ë“œ
- `docs/exception/implement/my-studies/VALIDATION-FUNCTIONS.md` - ê²€ì¦ í•¨ìˆ˜ ì˜ˆì œ

**ì°¸ê³  í¬ì¸íŠ¸**:
- ìœ íš¨ì„± ê²€ì¦ í•¨ìˆ˜ íŒ¨í„´
- API ë¼ìš°íŠ¸ ì—ëŸ¬ ì²˜ë¦¬
- ì»´í¬ë„ŒíŠ¸ inline ì—ëŸ¬ í‘œì‹œ

### Dashboard ì˜ì—­
- `docs/exception/implement/dashboard/` - 30ê°œ íŒŒì¼
- Dashboard ì˜ˆì™¸ ì²˜ë¦¬ íŒ¨í„´

**ì°¸ê³  í¬ì¸íŠ¸**:
- ëŒ€ì‹œë³´ë“œ ìœ„ì ¯ ì—ëŸ¬ ì²˜ë¦¬
- ë°ì´í„° ë¡œë”© ìƒíƒœ ê´€ë¦¬

---

## ğŸ› ï¸ ê¸°ìˆ  ë¬¸ì„œ

### Next.js
- **App Router**: https://nextjs.org/docs/app
- **API Routes**: https://nextjs.org/docs/app/building-your-application/routing/route-handlers
- **Error Handling**: https://nextjs.org/docs/app/building-your-application/routing/error-handling

### ì¸ì¦
- **NextAuth.js**: https://next-auth.js.org/
- **Session Management**: https://next-auth.js.org/configuration/options#session

### ë°ì´í„°ë² ì´ìŠ¤
- **Prisma ORM**: https://www.prisma.io/docs
- **Prisma Client**: https://www.prisma.io/docs/concepts/components/prisma-client
- **Transactions**: https://www.prisma.io/docs/concepts/components/prisma-client/transactions

### ê²€ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Zod**: https://zod.dev/ (ìŠ¤í‚¤ë§ˆ ê²€ì¦)
- **validator.js**: https://github.com/validatorjs/validator.js (ë¬¸ìì—´ ê²€ì¦)
- **zxcvbn**: https://github.com/dropbox/zxcvbn (ë¹„ë°€ë²ˆí˜¸ ê°•ë„)

### ì´ë¯¸ì§€ ì²˜ë¦¬
- **Sharp**: https://sharp.pixelplumbing.com/ (ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•, ë³€í™˜)
- **Sharp ì˜ˆì œ**: https://sharp.pixelplumbing.com/api-resize

### ë³´ì•ˆ
- **bcryptjs**: https://github.com/dcodeIO/bcrypt.js (ë¹„ë°€ë²ˆí˜¸ í•´ì‹±)
- **OWASP XSS Prevention**: https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html
- **OWASP SQL Injection Prevention**: https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html

### Rate Limiting (ì„ íƒì )
- **ioredis**: https://github.com/luin/ioredis (Redis í´ë¼ì´ì–¸íŠ¸)
- **Rate Limiting Strategies**: https://redis.io/docs/manual/patterns/distributed-locks/

---

## ğŸ“– ìœ ì‚¬ íŒ¨í„´ ì°¸ì¡°

### 1. Exception í´ë˜ìŠ¤ íŒ¨í„´ (Chat ì°¸ì¡°)
```javascript
// chat/ChatMessageException.js
class ChatMessageException extends Error {
  constructor(code, message, statusCode, context) {
    // ...
  }
  
  static emptyContent(context) {
    return new ChatMessageException(
      'CHAT_MESSAGE_EMPTY_CONTENT',
      'ë©”ì‹œì§€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”',
      400,
      context
    )
  }
}

// ğŸ‘‰ Profileì— ì ìš©
class ProfileException extends Error {
  static requiredFieldMissing(context) {
    return new ProfileException(
      'PROFILE-001',
      `${context.field}ëŠ” í•„ìˆ˜ í•­ëª©ì…ë‹ˆë‹¤`,
      400,
      context
    )
  }
}
```

### 2. ìœ íš¨ì„± ê²€ì¦ íŒ¨í„´ (My-Studies ì°¸ì¡°)
```javascript
// my-studies/validators.js
export function validateStudyTitle(title) {
  if (!title || title.trim().length === 0) {
    return { valid: false, error: 'TITLE_REQUIRED' }
  }
  
  if (title.length < 2 || title.length > 100) {
    return { valid: false, error: 'TITLE_LENGTH_INVALID' }
  }
  
  return { valid: true, error: null }
}

// ğŸ‘‰ Profileì— ì ìš©
export function validateName(name) {
  if (!name || name.trim().length === 0) {
    return { valid: false, error: 'NAME_REQUIRED' }
  }
  
  if (name.length < 2 || name.length > 50) {
    return { valid: false, error: 'NAME_LENGTH_INVALID' }
  }
  
  return { valid: true, error: null }
}
```

### 3. API ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´ (Chat ì°¸ì¡°)
```javascript
// chat/route.js
export async function POST(request) {
  try {
    const body = await request.json()
    
    // ê²€ì¦
    if (!body.content) {
      throw ChatMessageException.emptyContent({ studyId })
    }
    
    // ì‘ì—… ìˆ˜í–‰
    const message = await createMessage(body)
    
    logChatInfo('Message sent successfully', {
      studyId,
      messageId: message.id
    })
    
    return NextResponse.json({
      success: true,
      data: message
    })
    
  } catch (error) {
    logChatError(error, { studyId, action: 'send_message' })
    
    if (error instanceof ChatMessageException) {
      return NextResponse.json(
        error.toResponse(),
        { status: error.statusCode }
      )
    }
    
    return NextResponse.json({
      success: false,
      error: { code: 'UNKNOWN_ERROR', message: '...' }
    }, { status: 500 })
  }
}

// ğŸ‘‰ Profileì— ì ìš© (ë™ì¼ íŒ¨í„´)
```

### 4. ì»´í¬ë„ŒíŠ¸ ì—ëŸ¬ í‘œì‹œ íŒ¨í„´ (My-Studies ì°¸ì¡°)
```javascript
// my-studies/StudyForm.jsx
const [errors, setErrors] = useState({})

const validate = () => {
  const newErrors = {}
  
  if (!formData.title) {
    newErrors.title = 'ì œëª©ì€ í•„ìˆ˜ì…ë‹ˆë‹¤'
  }
  
  setErrors(newErrors)
  return Object.keys(newErrors).length === 0
}

// JSX
{errors.title && (
  <span className={styles.error}>{errors.title}</span>
)}

// ğŸ‘‰ Profileì— ì ìš© (ë™ì¼ íŒ¨í„´)
```

---

## ğŸ”— ì™¸ë¶€ ë¦¬ì†ŒìŠ¤

### ë¹„ë°€ë²ˆí˜¸ ë³´ì•ˆ
- [NIST Password Guidelines](https://pages.nist.gov/800-63-3/sp800-63b.html)
- [OWASP Password Storage Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html)

### ì´ë¯¸ì§€ ìµœì í™”
- [Web.dev Image Optimization](https://web.dev/fast/#optimize-your-images)
- [Next.js Image Component](https://nextjs.org/docs/pages/api-reference/components/image)

### GDPR ë° ê°œì¸ì •ë³´
- [GDPR Right to Erasure (Article 17)](https://gdpr-info.eu/art-17-gdpr/)
- [GDPR Data Portability (Article 20)](https://gdpr-info.eu/art-20-gdpr/)

---

## ğŸ“ ì°¸ì¡° ì½”ë“œ ì˜ˆì œ

### Zod ìŠ¤í‚¤ë§ˆ (Password API í˜„ì¬ ì‚¬ìš© ì¤‘)
```javascript
import { z } from "zod"

const passwordSchema = z.object({
  currentPassword: z.string().min(1),
  newPassword: z.string().min(8),
})

const validatedData = passwordSchema.parse(body)
```

### bcrypt ì‚¬ìš© (Password API í˜„ì¬ ì‚¬ìš© ì¤‘)
```javascript
import bcrypt from "bcryptjs"

// í•´ì‹±
const hashedPassword = await bcrypt.hash(password, 10)

// ë¹„êµ
const isValid = await bcrypt.compare(inputPassword, storedHash)
```

### Prisma íŠ¸ëœì­ì…˜ (ê³„ì • ì‚­ì œ ì‹œ í•„ìš”)
```javascript
await prisma.$transaction([
  prisma.user.update({
    where: { id: userId },
    data: { status: 'DELETED', accountDeletedAt: new Date() }
  }),
  prisma.studyMember.deleteMany({
    where: { userId, role: { not: 'OWNER' } }
  }),
  prisma.notification.deleteMany({
    where: { userId }
  })
])
```

---

## ğŸ¯ ë‹¤ìŒ ì‘ì—…

Phase 2 ì‹œì‘ ì‹œ ì°¸ì¡°í•  íŒŒì¼:
1. `EXCEPTION-DESIGN.md` - Exception í´ë˜ìŠ¤ êµ¬ì¡°
2. `PHASE-PLAN.md` - Phase 2 ìƒì„¸ ê³„íš
3. Chat ì˜ì—­ ì™„ë£Œ ë³´ê³ ì„œ - íŒ¨í„´ ì°¸ì¡°

---

**ì‘ì„±ì**: GitHub Copilot  
**ë²„ì „**: 1.0.0

