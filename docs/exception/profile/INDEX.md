# í”„ë¡œí•„ ì˜ˆì™¸ ì²˜ë¦¬ ìƒ‰ì¸

**ì‘ì„±ì¼**: 2025-11-29  
**ì¹´í…Œê³ ë¦¬**: Profile Management  
**ëª©ì **: ë¹ ë¥¸ ë¬¸ì œ í•´ê²°ì„ ìœ„í•œ ì™„ì „í•œ ìƒ‰ì¸

---

## ğŸ“‹ ëª©ì°¨

1. [ì¦ìƒë³„ ì°¾ê¸°](#ì¦ìƒë³„-ì°¾ê¸°)
2. [ì¹´í…Œê³ ë¦¬ë³„ ì°¾ê¸°](#ì¹´í…Œê³ ë¦¬ë³„-ì°¾ê¸°)
3. [HTTP ìƒíƒœ ì½”ë“œë³„ ì°¾ê¸°](#http-ìƒíƒœ-ì½”ë“œë³„-ì°¾ê¸°)
4. [ì»´í¬ë„ŒíŠ¸ë³„ ì°¾ê¸°](#ì»´í¬ë„ŒíŠ¸ë³„-ì°¾ê¸°)
5. [ë¹ ë¥¸ í•´ê²° ê°€ì´ë“œ](#ë¹ ë¥¸-í•´ê²°-ê°€ì´ë“œ)

---

## ì¦ìƒë³„ ì°¾ê¸°

ì‚¬ìš©ìê°€ ë³´ê³ í•˜ëŠ” ì¦ìƒìœ¼ë¡œ ë¬¸ì œë¥¼ ì°¾ìŠµë‹ˆë‹¤.

### í”„ë¡œí•„ ì¡°íšŒ ê´€ë ¨

| ì¦ìƒ | ê°€ëŠ¥í•œ ì›ì¸ | í•´ê²° ë¬¸ì„œ | ìš°ì„ ìˆœìœ„ |
|------|-------------|-----------|----------|
| "í”„ë¡œí•„ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" | ì„¸ì…˜ ë§Œë£Œ, DB ì˜¤ë¥˜ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#í”„ë¡œí•„-ì¡°íšŒ-ì‹¤íŒ¨) | ğŸ”´ ë†’ìŒ |
| "ì‚¬ìš©ì ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤" | ìœ íš¨í•˜ì§€ ì•Šì€ ì‚¬ìš©ì ID | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ì‚¬ìš©ì-ì—†ìŒ) | ğŸ”´ ë†’ìŒ |
| "í†µê³„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" | í†µê³„ API ì‹¤íŒ¨ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#í†µê³„-ì¡°íšŒ-ì‹¤íŒ¨) | ğŸŸ¡ ì¤‘ê°„ |
| "ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤" | íƒ€ì¸ í”„ë¡œí•„ ì ‘ê·¼ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ê¶Œí•œ-ê²€ì¦) | ğŸŸ¡ ì¤‘ê°„ |
| ë¡œë”©ì´ ëë‚˜ì§€ ì•ŠìŒ | ë¬´í•œ ë¡œë”© | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ë¬´í•œ-ë¡œë”©) | ğŸŸ¡ ì¤‘ê°„ |

### í”„ë¡œí•„ ìˆ˜ì • ê´€ë ¨

| ì¦ìƒ | ê°€ëŠ¥í•œ ì›ì¸ | í•´ê²° ë¬¸ì„œ | ìš°ì„ ìˆœìœ„ |
|------|-------------|-----------|----------|
| "ì´ë¦„ì€ 2-50ìì—¬ì•¼ í•©ë‹ˆë‹¤" | ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ì´ë¦„-ê²€ì¦) | ğŸŸ¢ ë‚®ìŒ |
| "ìê¸°ì†Œê°œëŠ” 200ì ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤" | ê¸€ì ìˆ˜ ì´ˆê³¼ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ìê¸°ì†Œê°œ-ê²€ì¦) | ğŸŸ¢ ë‚®ìŒ |
| "í”„ë¡œí•„ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" | ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜, DB ì‹¤íŒ¨ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ìˆ˜ì •-ì‹¤íŒ¨) | ğŸ”´ ë†’ìŒ |
| "ì´ë©”ì¼ì´ ì´ë¯¸ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤" | ì¤‘ë³µ ì´ë©”ì¼ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ì¤‘ë³µ-ì´ë©”ì¼) | ğŸŸ¡ ì¤‘ê°„ |
| ìˆ˜ì • í›„ ë°˜ì˜ ì•ˆ ë¨ | ìºì‹œ ë¬´íš¨í™” ì‹¤íŒ¨ | [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ìºì‹œ-ë™ê¸°í™”) | ğŸŸ¡ ì¤‘ê°„ |

### ì•„ë°”íƒ€ ì—…ë¡œë“œ ê´€ë ¨

| ì¦ìƒ | ê°€ëŠ¥í•œ ì›ì¸ | í•´ê²° ë¬¸ì„œ | ìš°ì„ ìˆœìœ„ |
|------|-------------|-----------|----------|
| "íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤" | 5MB ì´ˆê³¼ | [02-avatar-exceptions.md](./02-avatar-exceptions.md#íŒŒì¼-í¬ê¸°-ì´ˆê³¼) | ğŸŸ¢ ë‚®ìŒ |
| "ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤" | ë¹„ì´ë¯¸ì§€ íŒŒì¼ | [02-avatar-exceptions.md](./02-avatar-exceptions.md#íŒŒì¼-í˜•ì‹-ì˜¤ë¥˜) | ğŸŸ¢ ë‚®ìŒ |
| "ì•„ë°”íƒ€ ì—…ë¡œë“œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" | ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ | [02-avatar-exceptions.md](./02-avatar-exceptions.md#ì—…ë¡œë“œ-ì‹¤íŒ¨) | ğŸŸ¡ ì¤‘ê°„ |
| ì•„ë°”íƒ€ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ | URL ì˜¤ë¥˜, CORS | [02-avatar-exceptions.md](./02-avatar-exceptions.md#ì•„ë°”íƒ€-í‘œì‹œ-ì‹¤íŒ¨) | ğŸŸ¡ ì¤‘ê°„ |
| í¬ë¡­ ê¸°ëŠ¥ì´ ì‘ë™ ì•ˆ í•¨ | ë¼ì´ë¸ŒëŸ¬ë¦¬ ì˜¤ë¥˜ | [02-avatar-exceptions.md](./02-avatar-exceptions.md#í¬ë¡­-ì˜¤ë¥˜) | ğŸŸ¢ ë‚®ìŒ |

### ê³„ì • ì‚­ì œ ê´€ë ¨

| ì¦ìƒ | ê°€ëŠ¥í•œ ì›ì¸ | í•´ê²° ë¬¸ì„œ | ìš°ì„ ìˆœìœ„ |
|------|-------------|-----------|----------|
| "OWNER ìŠ¤í„°ë””ê°€ ìˆìŠµë‹ˆë‹¤" | ì†Œìœ ì ê¶Œí•œ ì–‘ë„ í•„ìš” | [03-account-deletion-exceptions.md](./03-account-deletion-exceptions.md#owner-ìŠ¤í„°ë””-ì¡´ì¬) | ğŸ”´ ë†’ìŒ |
| "ê³„ì • ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤" | DB íŠ¸ëœì­ì…˜ ì‹¤íŒ¨ | [03-account-deletion-exceptions.md](./03-account-deletion-exceptions.md#ì‚­ì œ-ì‹¤íŒ¨) | ğŸ”´ ë†’ìŒ |
| ì‚­ì œ í›„ ë¡œê·¸ì•„ì›ƒ ì•ˆ ë¨ | ì„¸ì…˜ í´ë¦¬ì–´ ì‹¤íŒ¨ | [03-account-deletion-exceptions.md](./03-account-deletion-exceptions.md#ì„¸ì…˜-ì •ë¦¬) | ğŸŸ¡ ì¤‘ê°„ |
| ë°ì´í„°ê°€ ë‚¨ì•„ìˆìŒ | ì—°ê´€ ë°ì´í„° ë¯¸ì‚­ì œ | [03-account-deletion-exceptions.md](./03-account-deletion-exceptions.md#ë°ì´í„°-ì •ë¦¬) | ğŸ”´ ë†’ìŒ |

---

## ì¹´í…Œê³ ë¦¬ë³„ ì°¾ê¸°

### 1. ë°ì´í„° ì¡°íšŒ ì˜ˆì™¸

**í”„ë¡œí•„ ì¡°íšŒ**:
- [ì‚¬ìš©ì ì—†ìŒ](./01-profile-edit-exceptions.md#ì‚¬ìš©ì-ì—†ìŒ)
- [ì„¸ì…˜ ë§Œë£Œ](./01-profile-edit-exceptions.md#ì„¸ì…˜-ë§Œë£Œ)
- [DB ì—°ê²° ì˜¤ë¥˜](./01-profile-edit-exceptions.md#db-ì—°ê²°-ì˜¤ë¥˜)
- [ê¶Œí•œ ì—†ìŒ](./01-profile-edit-exceptions.md#ê¶Œí•œ-ê²€ì¦)

**í†µê³„ ì¡°íšŒ**:
- [í†µê³„ API ì‹¤íŒ¨](./01-profile-edit-exceptions.md#í†µê³„-ì¡°íšŒ-ì‹¤íŒ¨)
- [ë°ì´í„° ì—†ìŒ](./01-profile-edit-exceptions.md#í†µê³„-ë°ì´í„°-ì—†ìŒ)
- [ê³„ì‚° ì˜¤ë¥˜](./01-profile-edit-exceptions.md#í†µê³„-ê³„ì‚°-ì˜¤ë¥˜)

### 2. ë°ì´í„° ìˆ˜ì • ì˜ˆì™¸

**í”„ë¡œí•„ ìˆ˜ì •**:
- [ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìœ íš¨ì„±-ê²€ì‚¬)
- [ì¤‘ë³µ ë°ì´í„°](./01-profile-edit-exceptions.md#ì¤‘ë³µ-ì´ë©”ì¼)
- [ì—…ë°ì´íŠ¸ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìˆ˜ì •-ì‹¤íŒ¨)
- [ìºì‹œ ë™ê¸°í™”](./01-profile-edit-exceptions.md#ìºì‹œ-ë™ê¸°í™”)

### 3. íŒŒì¼ ì—…ë¡œë“œ ì˜ˆì™¸

**ì•„ë°”íƒ€ ì—…ë¡œë“œ**:
- [íŒŒì¼ í¬ê¸° ì´ˆê³¼](./02-avatar-exceptions.md#íŒŒì¼-í¬ê¸°-ì´ˆê³¼)
- [íŒŒì¼ í˜•ì‹ ì˜¤ë¥˜](./02-avatar-exceptions.md#íŒŒì¼-í˜•ì‹-ì˜¤ë¥˜)
- [ì—…ë¡œë“œ ì‹¤íŒ¨](./02-avatar-exceptions.md#ì—…ë¡œë“œ-ì‹¤íŒ¨)
- [ì´ë¯¸ì§€ ì²˜ë¦¬ ì˜¤ë¥˜](./02-avatar-exceptions.md#ì´ë¯¸ì§€-ì²˜ë¦¬-ì˜¤ë¥˜)

### 4. ê³„ì • ê´€ë¦¬ ì˜ˆì™¸

**ê³„ì • ì‚­ì œ**:
- [OWNER ìŠ¤í„°ë”” ì¡´ì¬](./03-account-deletion-exceptions.md#owner-ìŠ¤í„°ë””-ì¡´ì¬)
- [ì‚­ì œ ì‹¤íŒ¨](./03-account-deletion-exceptions.md#ì‚­ì œ-ì‹¤íŒ¨)
- [ë°ì´í„° ì •ë¦¬](./03-account-deletion-exceptions.md#ë°ì´í„°-ì •ë¦¬)
- [ì„¸ì…˜ ì •ë¦¬](./03-account-deletion-exceptions.md#ì„¸ì…˜-ì •ë¦¬)

---

## HTTP ìƒíƒœ ì½”ë“œë³„ ì°¾ê¸°

### 4xx í´ë¼ì´ì–¸íŠ¸ ì˜¤ë¥˜

#### 400 Bad Request
- [ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìœ íš¨ì„±-ê²€ì‚¬)
- [ì˜ëª»ëœ ì…ë ¥](./01-profile-edit-exceptions.md#ì˜ëª»ëœ-ì…ë ¥)
- [íŒŒì¼ í¬ê¸° ì´ˆê³¼](./02-avatar-exceptions.md#íŒŒì¼-í¬ê¸°-ì´ˆê³¼)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 400) {
  // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
  toast.error(error.response?.data?.error || 'ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤')
}
```

#### 401 Unauthorized
- [ì„¸ì…˜ ë§Œë£Œ](./01-profile-edit-exceptions.md#ì„¸ì…˜-ë§Œë£Œ)
- [ì¸ì¦ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ì¸ì¦-ì‹¤íŒ¨)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 401) {
  // ì¬ë¡œê·¸ì¸ í•„ìš”
  signOut({ callbackUrl: '/auth/signin' })
}
```

#### 403 Forbidden
- [ê¶Œí•œ ì—†ìŒ](./01-profile-edit-exceptions.md#ê¶Œí•œ-ê²€ì¦)
- [íƒ€ì¸ í”„ë¡œí•„ ìˆ˜ì • ì‹œë„](./01-profile-edit-exceptions.md#ê¶Œí•œ-ì—†ìŒ)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 403) {
  toast.error('ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤')
  router.back()
}
```

#### 404 Not Found
- [ì‚¬ìš©ì ì—†ìŒ](./01-profile-edit-exceptions.md#ì‚¬ìš©ì-ì—†ìŒ)
- [ì‚­ì œëœ ê³„ì •](./03-account-deletion-exceptions.md#ì‚­ì œëœ-ê³„ì •)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 404) {
  toast.error('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤')
  router.push('/dashboard')
}
```

#### 409 Conflict
- [ì¤‘ë³µ ì´ë©”ì¼](./01-profile-edit-exceptions.md#ì¤‘ë³µ-ì´ë©”ì¼)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 409) {
  toast.error('ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤')
}
```

#### 413 Payload Too Large
- [íŒŒì¼ í¬ê¸° ì´ˆê³¼](./02-avatar-exceptions.md#íŒŒì¼-í¬ê¸°-ì´ˆê³¼)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 413) {
  toast.error('íŒŒì¼ í¬ê¸°ê°€ ë„ˆë¬´ í½ë‹ˆë‹¤ (ìµœëŒ€ 5MB)')
}
```

### 5xx ì„œë²„ ì˜¤ë¥˜

#### 500 Internal Server Error
- [DB ì—°ê²° ì˜¤ë¥˜](./01-profile-edit-exceptions.md#db-ì—°ê²°-ì˜¤ë¥˜)
- [ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜](./01-profile-edit-exceptions.md#ì„œë²„-ì˜¤ë¥˜)

**í•´ê²° ë°©ë²•**:
```javascript
if (error.status === 500) {
  toast.error('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.')
  // ë¡œê¹…
  console.error('Server error:', error)
}
```

---

## ì»´í¬ë„ŒíŠ¸ë³„ ì°¾ê¸°

### í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸

#### src/app/me/page.jsx
- [í”„ë¡œí•„ í˜ì´ì§€ ë¡œë”© ì‹¤íŒ¨](./01-profile-edit-exceptions.md#í”„ë¡œí•„-ì¡°íšŒ-ì‹¤íŒ¨)
- [ì‚¬ìš©ì ì—†ìŒ](./01-profile-edit-exceptions.md#ì‚¬ìš©ì-ì—†ìŒ)
- [í†µê³„ ë¡œë”© ì‹¤íŒ¨](./01-profile-edit-exceptions.md#í†µê³„-ì¡°íšŒ-ì‹¤íŒ¨)

### UI ì»´í¬ë„ŒíŠ¸

#### ProfileSection.jsx
- [ì•„ë°”íƒ€ í‘œì‹œ ì‹¤íŒ¨](./02-avatar-exceptions.md#ì•„ë°”íƒ€-í‘œì‹œ-ì‹¤íŒ¨)
- [í”„ë¡œí•„ ì •ë³´ ëˆ„ë½](./01-profile-edit-exceptions.md#í”„ë¡œí•„-ì •ë³´-ëˆ„ë½)

#### ProfileEditForm.jsx
- [ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìœ íš¨ì„±-ê²€ì‚¬)
- [ìˆ˜ì • ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìˆ˜ì •-ì‹¤íŒ¨)
- [ì„¸ì…˜ ê°±ì‹  ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ì„¸ì…˜-ê°±ì‹ )

#### ActivityStats.jsx
- [í†µê³„ ê³„ì‚° ì˜¤ë¥˜](./01-profile-edit-exceptions.md#í†µê³„-ê³„ì‚°-ì˜¤ë¥˜)
- [ë°ì´í„° ì—†ìŒ](./01-profile-edit-exceptions.md#í†µê³„-ë°ì´í„°-ì—†ìŒ)

#### DeleteAccountModal.jsx
- [OWNER ìŠ¤í„°ë”” ì¡´ì¬](./03-account-deletion-exceptions.md#owner-ìŠ¤í„°ë””-ì¡´ì¬)
- [ì‚­ì œ ì‹¤íŒ¨](./03-account-deletion-exceptions.md#ì‚­ì œ-ì‹¤íŒ¨)

### API ë¼ìš°íŠ¸

#### /api/users/me - GET
- [ì‚¬ìš©ì ì¡°íšŒ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#í”„ë¡œí•„-ì¡°íšŒ-ì‹¤íŒ¨)
- [DB ì—°ê²° ì˜¤ë¥˜](./01-profile-edit-exceptions.md#db-ì—°ê²°-ì˜¤ë¥˜)

#### /api/users/me - PATCH
- [í”„ë¡œí•„ ìˆ˜ì • ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìˆ˜ì •-ì‹¤íŒ¨)
- [ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#ìœ íš¨ì„±-ê²€ì‚¬)

#### /api/users/me - DELETE
- [ê³„ì • ì‚­ì œ ì‹¤íŒ¨](./03-account-deletion-exceptions.md#ì‚­ì œ-ì‹¤íŒ¨)
- [OWNER ìŠ¤í„°ë”” ì¡´ì¬](./03-account-deletion-exceptions.md#owner-ìŠ¤í„°ë””-ì¡´ì¬)

#### /api/users/me/stats - GET
- [í†µê³„ ì¡°íšŒ ì‹¤íŒ¨](./01-profile-edit-exceptions.md#í†µê³„-ì¡°íšŒ-ì‹¤íŒ¨)

---

## ë¹ ë¥¸ í•´ê²° ê°€ì´ë“œ

### ğŸš¨ ê¸´ê¸‰ ë¬¸ì œ (5ë¶„ ì´ë‚´ í•´ê²°)

#### 1. í”„ë¡œí•„ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤

**ì¦‰ì‹œ í™•ì¸**:
```bash
# 1. ì„¸ì…˜ í™•ì¸
- ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ > Application > Cookies
- next-auth.session-token ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

# 2. API ì‘ë‹µ í™•ì¸
- Network íƒ­ì—ì„œ /api/users/me ìš”ì²­ í™•ì¸
- ìƒíƒœ ì½”ë“œ ë° ì‘ë‹µ í™•ì¸

# 3. ì½˜ì†” ì—ëŸ¬ í™•ì¸
- Console íƒ­ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
```

**ì¦‰ì‹œ í•´ê²°**:
```javascript
// ì„¸ì…˜ ë§Œë£Œ ì‹œ
signOut({ callbackUrl: '/auth/signin' })

// ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ
// ì¬ì‹œë„ ë²„íŠ¼ ì œê³µ
<button onClick={() => refetch()}>ë‹¤ì‹œ ì‹œë„</button>
```

#### 2. í”„ë¡œí•„ ìˆ˜ì •ì´ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤

**ì¦‰ì‹œ í™•ì¸**:
```javascript
// 1. ì…ë ¥ê°’ ê²€ì¦
console.log('Form data:', formData)

// 2. API ìš”ì²­ í™•ì¸
console.log('Update request:', {
  url: '/api/users/me',
  method: 'PATCH',
  body: formData
})

// 3. ì‘ë‹µ í™•ì¸
console.log('Update response:', response)
```

**ì¦‰ì‹œ í•´ê²°**:
```javascript
// í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ ì¶”ê°€
if (formData.name.length < 2) {
  toast.error('ì´ë¦„ì€ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤')
  return
}

// ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 
try {
  await updateProfile.mutateAsync(formData)
  toast.success('í”„ë¡œí•„ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤')
} catch (error) {
  console.error('Update error:', error)
  toast.error(error.response?.data?.error || 'ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤')
}
```

#### 3. ì•„ë°”íƒ€ ì—…ë¡œë“œê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤

**ì¦‰ì‹œ í™•ì¸**:
```javascript
// 1. íŒŒì¼ ì •ë³´ í™•ì¸
console.log('File info:', {
  name: file.name,
  size: file.size,
  type: file.type
})

// 2. í¬ê¸° í™•ì¸
if (file.size > 5 * 1024 * 1024) {
  console.error('File too large:', file.size)
}

// 3. í˜•ì‹ í™•ì¸
if (!file.type.startsWith('image/')) {
  console.error('Invalid file type:', file.type)
}
```

**ì¦‰ì‹œ í•´ê²°**:
```javascript
// íŒŒì¼ ê²€ì¦
const validateFile = (file) => {
  if (file.size > 5 * 1024 * 1024) {
    toast.error('íŒŒì¼ í¬ê¸°ëŠ” 5MB ì´í•˜ì—¬ì•¼ í•©ë‹ˆë‹¤')
    return false
  }
  
  if (!file.type.startsWith('image/')) {
    toast.error('ì´ë¯¸ì§€ íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤')
    return false
  }
  
  return true
}

if (!validateFile(file)) return
```

### âš¡ ì¼ë°˜ ë¬¸ì œ (30ë¶„ ì´ë‚´ í•´ê²°)

#### 1. í†µê³„ê°€ í‘œì‹œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤

**ë¬¸ì„œ**: [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#í†µê³„-ì¡°íšŒ-ì‹¤íŒ¨)

**ë¹ ë¥¸ í•´ê²°**:
```javascript
const { data, isLoading, error } = useUserStats()

if (isLoading) return <StatsSkeleton />
if (error) return <div>í†µê³„ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</div>
if (!data?.stats) return <div>í†µê³„ê°€ ì—†ìŠµë‹ˆë‹¤</div>

return <ActivityStats stats={data.stats} />
```

#### 2. ê³„ì • ì‚­ì œê°€ ì‹¤íŒ¨í•©ë‹ˆë‹¤

**ë¬¸ì„œ**: [03-account-deletion-exceptions.md](./03-account-deletion-exceptions.md#ì‚­ì œ-ì‹¤íŒ¨)

**ë¹ ë¥¸ í•´ê²°**:
```javascript
// OWNER ìŠ¤í„°ë”” í™•ì¸
const hasOwnerStudies = await checkOwnerStudies(userId)
if (hasOwnerStudies) {
  toast.error('OWNERì¸ ìŠ¤í„°ë””ì˜ ì†Œìœ ê¶Œì„ ë¨¼ì € ì–‘ë„í•´ì£¼ì„¸ìš”')
  return
}

// ê³„ì • ì‚­ì œ
await deleteAccount()
await signOut({ callbackUrl: '/' })
```

### ğŸ”§ ë³µì¡í•œ ë¬¸ì œ (1ì‹œê°„ ì´ë‚´ í•´ê²°)

#### 1. í”„ë¡œí•„ ìˆ˜ì • í›„ ë°˜ì˜ì´ ì•ˆ ë©ë‹ˆë‹¤

**ë¬¸ì„œ**: [01-profile-edit-exceptions.md](./01-profile-edit-exceptions.md#ìºì‹œ-ë™ê¸°í™”)

**ìƒì„¸ í•´ê²°**:
```javascript
// React Query ìºì‹œ ë¬´íš¨í™”
const updateProfile = useMutation({
  mutationFn: (data) => api.patch('/api/users/me', data),
  onSuccess: () => {
    // ìºì‹œ ë¬´íš¨í™”
    queryClient.invalidateQueries(['users', 'me'])
    
    // NextAuth ì„¸ì…˜ ê°±ì‹ 
    updateSession({
      name: formData.name
    })
  }
})
```

#### 2. ì•„ë°”íƒ€ í¬ë¡­ ê¸°ëŠ¥ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤

**ë¬¸ì„œ**: [02-avatar-exceptions.md](./02-avatar-exceptions.md#í¬ë¡­-ì˜¤ë¥˜)

**ìƒì„¸ í•´ê²°**:
[02-avatar-exceptions.md](./02-avatar-exceptions.md#í¬ë¡­-ì˜¤ë¥˜) ì°¸ì¡°

---

## ì„±ëŠ¥ ìµœì í™” ì°¸ì¡°

### React Query ì„¤ì •

```javascript
// í”„ë¡œí•„ ì¡°íšŒ ìµœì í™”
const { data: userData } = useMe({
  staleTime: 5 * 60 * 1000,  // 5ë¶„
  cacheTime: 10 * 60 * 1000, // 10ë¶„
  refetchOnWindowFocus: false
})

// í†µê³„ ì¡°íšŒ ìµœì í™”
const { data: statsData } = useUserStats({
  staleTime: 2 * 60 * 1000,  // 2ë¶„
  cacheTime: 5 * 60 * 1000   // 5ë¶„
})
```

### ë‚™ê´€ì  ì—…ë°ì´íŠ¸

```javascript
const updateProfile = useMutation({
  mutationFn: (data) => api.patch('/api/users/me', data),
  onMutate: async (newData) => {
    await queryClient.cancelQueries(['users', 'me'])
    const previousData = queryClient.getQueryData(['users', 'me'])
    
    queryClient.setQueryData(['users', 'me'], (old) => ({
      ...old,
      user: { ...old.user, ...newData }
    }))
    
    return { previousData }
  },
  onError: (err, newData, context) => {
    queryClient.setQueryData(['users', 'me'], context.previousData)
  }
})
```

---

## ê´€ë ¨ ë¬¸ì„œ

- **[í”„ë¡œí•„ ê°œìš”](./README.md)**: í”„ë¡œí•„ ì‹œìŠ¤í…œ ì „ì²´ ê°œìš”
- **[í”„ë¡œí•„ ìˆ˜ì • ì˜ˆì™¸](./01-profile-edit-exceptions.md)**: í”„ë¡œí•„ ìˆ˜ì • ê´€ë ¨ ì˜ˆì™¸
- **[ì•„ë°”íƒ€ ì˜ˆì™¸](./02-avatar-exceptions.md)**: ì•„ë°”íƒ€ ì—…ë¡œë“œ ì˜ˆì™¸
- **[ê³„ì • ì‚­ì œ ì˜ˆì™¸](./03-account-deletion-exceptions.md)**: ê³„ì • ì‚­ì œ ê´€ë ¨ ì˜ˆì™¸
- **[ëª¨ë²” ì‚¬ë¡€](./99-best-practices.md)**: í”„ë¡œí•„ ê´€ë¦¬ ëª¨ë²” ì‚¬ë¡€

---

## ë„ì›€ì´ í•„ìš”í•˜ì‹ ê°€ìš”?

**ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‚˜ìš”?**
1. ì¦ìƒë³„ ì°¾ê¸°ì—ì„œ ê²€ìƒ‰
2. ì¹´í…Œê³ ë¦¬ë³„ ì°¾ê¸°ì—ì„œ íƒìƒ‰
3. HTTP ìƒíƒœ ì½”ë“œë¡œ í™•ì¸

**ì—¬ì „íˆ í•´ê²°ë˜ì§€ ì•Šë‚˜ìš”?**
- ğŸ“§ **ì´ë©”ì¼**: support@coup.com
- ğŸ’¬ **ìŠ¬ë™**: #coup-support
- ğŸ› **ë²„ê·¸ ë¦¬í¬íŠ¸**: [GitHub Issues](https://github.com/coup/coup/issues)

---

**ë‹¤ìŒ ë¬¸ì„œ**: [í”„ë¡œí•„ ìˆ˜ì • ì˜ˆì™¸ (01-profile-edit-exceptions.md)](./01-profile-edit-exceptions.md)  
**ì´ì „ ë¬¸ì„œ**: [í”„ë¡œí•„ ê°œìš” (README.md)](./README.md)  
**ìƒìœ„ ë¬¸ì„œ**: [ì˜ˆì™¸ ì²˜ë¦¬ ë©”ì¸](../README.md)

