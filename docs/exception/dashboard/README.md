# ëŒ€ì‹œë³´ë“œ ì˜ˆì™¸ ì²˜ë¦¬ ë¬¸ì„œ

CoUp í”„ë¡œì íŠ¸ì˜ ëŒ€ì‹œë³´ë“œ ì‹œìŠ¤í…œì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ëª¨ë“  ì˜ˆì™¸ ìƒí™©ê³¼ ì²˜ë¦¬ ë°©ë²•ì„ ë¬¸ì„œí™”í•©ë‹ˆë‹¤.

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [ë¬¸ì„œ êµ¬ì¡°](#ë¬¸ì„œ-êµ¬ì¡°)
3. [ì˜ˆì™¸ ì²˜ë¦¬ ì›ì¹™](#ì˜ˆì™¸-ì²˜ë¦¬-ì›ì¹™)
4. [ë¬¸ì„œ ëª©ë¡](#ë¬¸ì„œ-ëª©ë¡)
5. [ë¹ ë¥¸ ì°¸ì¡°](#ë¹ ë¥¸-ì°¸ì¡°)

---

## ê°œìš”

### ëŒ€ì‹œë³´ë“œ ì‹œìŠ¤í…œ êµ¬ì„±

CoUpì˜ ëŒ€ì‹œë³´ë“œëŠ” ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ í›„ ê°€ì¥ ë¨¼ì € ë³´ê²Œ ë˜ëŠ” í˜ì´ì§€ë¡œ, ì‚¬ìš©ìì˜ í™œë™ í˜„í™©ì„ í•œëˆˆì— ë³´ì—¬ì¤ë‹ˆë‹¤:

- **React Query** - ë°ì´í„° í˜ì¹­ ë° ìºì‹±
- **Server Components + Client Components** - í•˜ì´ë¸Œë¦¬ë“œ ë Œë”ë§
- **ì‹¤ì‹œê°„ ìœ„ì ¯** - ë™ì  ë°ì´í„° ì—…ë°ì´íŠ¸
- **Prisma ORM** - ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬

### ì£¼ìš” ê¸°ëŠ¥

1. **í†µê³„ ì¹´ë“œ** âœ…
   - í™œì„± ìŠ¤í„°ë”” ìˆ˜
   - ì§„í–‰ ì¤‘ì¸ í• ì¼ ìˆ˜
   - ì½ì§€ ì•Šì€ ì•Œë¦¼ ìˆ˜
   - ì´ë²ˆ ë‹¬ ì™„ë£Œ ìˆ˜

2. **ë‚´ ìŠ¤í„°ë”” ì„¹ì…˜** âœ…
   - ìµœê·¼ ê°€ì…í•œ ìŠ¤í„°ë”” ëª©ë¡ (ìµœëŒ€ 6ê°œ)
   - ìŠ¤í„°ë””ë³„ ë©¤ë²„ ìˆ˜ ë° ì—­í•  í‘œì‹œ
   - ë¹ˆ ìƒíƒœ ì²˜ë¦¬

3. **ìµœê·¼ í™œë™** âœ…
   - ìµœê·¼ 5ê°œ ì•Œë¦¼
   - ì½ìŒ/ì•ˆ ì½ìŒ ìƒíƒœ
   - ì‹œê°„ í‘œì‹œ

4. **ë‹¤ê°€ì˜¤ëŠ” ì¼ì •** âœ…
   - 3ì¼ ì´ë‚´ ì¼ì •
   - D-day í‘œì‹œ
   - ìŠ¤í„°ë””ë³„ êµ¬ë¶„

5. **ì‹¤ì‹œê°„ ìœ„ì ¯** ğŸš§
   - StudyStatus: ì¶œì„ë¥ , í• ì¼ ì™„ë£Œìœ¨
   - OnlineMembers: í˜„ì¬ ì˜¨ë¼ì¸ ë©¤ë²„
   - QuickActions: ë¹ ë¥¸ ì•¡ì…˜
   - UrgentTasks: ê¸´ê¸‰ í• ì¼
   - PinnedNotice: ê³ ì • ê³µì§€

---

## ë¬¸ì„œ êµ¬ì¡°

```
docs/exception/dashboard/
â”œâ”€â”€ README.md                           # ì´ ë¬¸ì„œ
â”œâ”€â”€ INDEX.md                            # ì¦ìƒë³„/ì¹´í…Œê³ ë¦¬ë³„ ìƒ‰ì¸
â”œâ”€â”€ 01-data-loading-exceptions.md       # ë°ì´í„° ë¡œë”© ì˜ˆì™¸
â”œâ”€â”€ 02-widget-exceptions.md             # ìœ„ì ¯ ê´€ë ¨ ì˜ˆì™¸
â”œâ”€â”€ 03-real-time-sync-exceptions.md     # ì‹¤ì‹œê°„ ë™ê¸°í™” ì˜ˆì™¸
â”œâ”€â”€ 04-empty-states.md                  # ë¹ˆ ìƒíƒœ ì²˜ë¦¬
â”œâ”€â”€ 05-performance-optimization.md      # ì„±ëŠ¥ ìµœì í™”
â”œâ”€â”€ 99-best-practices.md                # ëª¨ë²” ì‚¬ë¡€
â””â”€â”€ COMPLETION-REPORT.md                # ì™„ë£Œ ë³´ê³ ì„œ
```

---

## ì˜ˆì™¸ ì²˜ë¦¬ ì›ì¹™

### 1. ì‚¬ìš©ì ì¹œí™”ì  UI

âŒ **ë‚˜ìœ ì˜ˆ**:
```jsx
if (error) {
  return <div>Error: {error.message}</div>
}
```

âœ… **ì¢‹ì€ ì˜ˆ**:
```jsx
if (error) {
  return (
    <ErrorState 
      title="ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
      description="ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”"
      onRetry={() => refetch()}
    />
  )
}
```

### 2. ì ì§„ì  ë¡œë”© (Progressive Loading)

**ì „ì²´ í˜ì´ì§€ë¥¼ ì°¨ë‹¨í•˜ì§€ ì•ŠìŒ**:

âŒ **ë‚˜ìœ ì˜ˆ**:
```jsx
// í•˜ë‚˜ë¼ë„ ì‹¤íŒ¨í•˜ë©´ ì „ì²´ í˜ì´ì§€ ì—ëŸ¬
const { data: dashboardData } = useDashboard()
if (!dashboardData) return <Error />
```

âœ… **ì¢‹ì€ ì˜ˆ**:
```jsx
// ê° ì„¹ì…˜ë³„ ë…ë¦½ì  ë¡œë”©
const { data: stats } = useStats()
const { data: studies } = useMyStudies()
const { data: activities } = useActivities()

// ì¼ë¶€ë§Œ ì‹¤íŒ¨í•´ë„ ë‚˜ë¨¸ì§€ëŠ” í‘œì‹œ
return (
  <>
    {stats ? <StatsCards data={stats} /> : <StatsSkeleton />}
    {studies ? <StudiesList data={studies} /> : <StudiesSkeleton />}
    {activities ? <ActivitiesList data={activities} /> : <ActivitiesSkeleton />}
  </>
)
```

### 3. ë‚™ê´€ì  UI (Optimistic UI)

**ì¦‰ê°ì ì¸ í”¼ë“œë°± ì œê³µ**:

```jsx
const { mutate: markAsRead } = useMutation({
  mutationFn: (id) => api.post(`/api/notifications/${id}/read`),
  // ë‚™ê´€ì  ì—…ë°ì´íŠ¸
  onMutate: async (id) => {
    // ì´ì „ ë°ì´í„° ë°±ì—…
    await queryClient.cancelQueries(['dashboard'])
    const previousData = queryClient.getQueryData(['dashboard'])
    
    // ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸
    queryClient.setQueryData(['dashboard'], (old) => ({
      ...old,
      recentActivities: old.recentActivities.map(activity =>
        activity.id === id ? { ...activity, isRead: true } : activity
      )
    }))
    
    return { previousData }
  },
  // ì‹¤íŒ¨ ì‹œ ë¡¤ë°±
  onError: (err, id, context) => {
    queryClient.setQueryData(['dashboard'], context.previousData)
  }
})
```

### 4. ìŠ¤ì¼ˆë ˆí†¤ UI

**ë¹ˆ í™”ë©´ ëŒ€ì‹  ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤ ì‚¬ìš©**:

```jsx
if (isLoading) {
  return <DashboardSkeleton />  // âœ… êµ¬ì¡°ë¥¼ ìœ ì§€í•˜ë©° ë¡œë”© í‘œì‹œ
}

// âŒ ì´ë ‡ê²Œ í•˜ì§€ ë§ˆì„¸ìš”
if (isLoading) {
  return <div>Loading...</div>  // ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë ˆì´ì•„ì›ƒ ë³€í™”
}
```

---

## ë¬¸ì„œ ëª©ë¡

### í•µì‹¬ ë¬¸ì„œ

- **[INDEX.md](./INDEX.md)** - ì¦ìƒë³„/ì¹´í…Œê³ ë¦¬ë³„ ë¹ ë¥¸ ì°¾ê¸°
- **[01-data-loading-exceptions.md](./01-data-loading-exceptions.md)** - API ìš”ì²­ ì‹¤íŒ¨, íƒ€ì„ì•„ì›ƒ, ë¶€ë¶„ ë¡œë”©
- **[02-widget-exceptions.md](./02-widget-exceptions.md)** - ìœ„ì ¯ë³„ ì˜ˆì™¸ ì²˜ë¦¬
- **[03-real-time-sync-exceptions.md](./03-real-time-sync-exceptions.md)** - React Query ìºì‹±, WebSocket
- **[04-empty-states.md](./04-empty-states.md)** - ë¹ˆ ìƒíƒœ UI/UX
- **[05-performance-optimization.md](./05-performance-optimization.md)** - ë Œë”ë§ ìµœì í™”, ë©”ëª¨ë¦¬ ê´€ë¦¬

### ì°¸ê³  ë¬¸ì„œ

- **[99-best-practices.md](./99-best-practices.md)** - ëŒ€ì‹œë³´ë“œ ëª¨ë²” ì‚¬ë¡€
- **[COMPLETION-REPORT.md](./COMPLETION-REPORT.md)** - Phase 1 ì™„ë£Œ ë³´ê³ ì„œ

---

## ë¹ ë¥¸ ì°¸ì¡°

### ğŸ”´ ê¸´ê¸‰ ë¬¸ì œ í•´ê²°

| ì¦ìƒ | ì›ì¸ | í•´ê²° ë¬¸ì„œ |
|------|------|----------|
| "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" | API ìš”ì²­ ì‹¤íŒ¨ | [01-data-loading-exceptions.md](./01-data-loading-exceptions.md#api-ìš”ì²­-ì‹¤íŒ¨) |
| í†µê³„ ì¹´ë“œê°€ 0ìœ¼ë¡œ í‘œì‹œë¨ | ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì˜¤ë¥˜ | [01-data-loading-exceptions.md](./01-data-loading-exceptions.md#ë¶€ë¶„-ë°ì´í„°-ë¡œë”©) |
| ìœ„ì ¯ì´ ë¡œë”©ë˜ì§€ ì•ŠìŒ | ìœ„ì ¯ ë°ì´í„° ëˆ„ë½ | [02-widget-exceptions.md](./02-widget-exceptions.md) |
| í˜ì´ì§€ê°€ ê³„ì† ë¡œë”© ì¤‘ | ë¬´í•œ ë¡œë”© ë£¨í”„ | [01-data-loading-exceptions.md](./01-data-loading-exceptions.md#ë¬´í•œ-ë¡œë”©) |
| ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ì•ˆ ë¨ | ìºì‹œ ë¬´íš¨í™” ì‹¤íŒ¨ | [03-real-time-sync-exceptions.md](./03-real-time-sync-exceptions.md#ìºì‹œ-ë™ê¸°í™”) |

### âš ï¸ ì¼ë°˜ì ì¸ ë¬¸ì œ

| ì¦ìƒ | ì›ì¸ | í•´ê²° ë¬¸ì„œ |
|------|------|----------|
| ìŠ¤í„°ë”” ëª©ë¡ì´ ë¹„ì–´ìˆìŒ | ì‹ ê·œ ì‚¬ìš©ì | [04-empty-states.md](./04-empty-states.md#ìŠ¤í„°ë””-ì—†ìŒ) |
| ë¡œë”©ì´ ëŠë¦¼ | ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ | [05-performance-optimization.md](./05-performance-optimization.md#ë Œë”ë§-ìµœì í™”) |
| ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€ | ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ | [05-performance-optimization.md](./05-performance-optimization.md#ë©”ëª¨ë¦¬-ê´€ë¦¬) |
| Stale ë°ì´í„° í‘œì‹œ | ìºì‹œ ì„¤ì • ë¬¸ì œ | [03-real-time-sync-exceptions.md](./03-real-time-sync-exceptions.md#stale-ë°ì´í„°) |

### ğŸ“š ì¹´í…Œê³ ë¦¬ë³„ ì°¾ê¸°

- **API ê´€ë ¨**: [01-data-loading-exceptions.md](./01-data-loading-exceptions.md)
- **UI ê´€ë ¨**: [02-widget-exceptions.md](./02-widget-exceptions.md), [04-empty-states.md](./04-empty-states.md)
- **ì„±ëŠ¥ ê´€ë ¨**: [05-performance-optimization.md](./05-performance-optimization.md)
- **ì‹¤ì‹œê°„ ê´€ë ¨**: [03-real-time-sync-exceptions.md](./03-real-time-sync-exceptions.md)

---

## ì•„í‚¤í…ì²˜

### ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Dashboard Page â”‚ (Server Component)
â”‚  page.jsx       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ getSession()
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DashboardClient        â”‚ (Client Component)
â”‚  DashboardClient.jsx    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ useDashboard()
         â”‚ useMe()
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  React Query            â”‚
â”‚  useApi.js              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ GET /api/dashboard
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Route              â”‚
â”‚  /api/dashboard/route.jsâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ Prisma queries
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database               â”‚
â”‚  PostgreSQL             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```
DashboardClient
â”œâ”€â”€ DashboardSkeleton (ë¡œë”© ìƒíƒœ)
â”œâ”€â”€ EmptyState (ë¹ˆ ìƒíƒœ)
â”œâ”€â”€ StatsCards (í†µê³„ ì¹´ë“œ)
â”œâ”€â”€ MyStudies (ë‚´ ìŠ¤í„°ë””)
â”‚   â””â”€â”€ EmptyState (ìŠ¤í„°ë”” ì—†ìŒ)
â”œâ”€â”€ RecentActivities (ìµœê·¼ í™œë™)
â”‚   â””â”€â”€ EmptyState (í™œë™ ì—†ìŒ)
â”œâ”€â”€ UpcomingEvents (ë‹¤ê°€ì˜¤ëŠ” ì¼ì •)
â””â”€â”€ Widgets (ìœ„ì ¯ë“¤)
    â”œâ”€â”€ StudyStatus
    â”œâ”€â”€ OnlineMembers
    â”œâ”€â”€ QuickActions
    â”œâ”€â”€ UrgentTasks
    â””â”€â”€ PinnedNotice
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### GET /api/dashboard

**ìš”ì²­**:
```http
GET /api/dashboard
Authorization: Bearer <session-token>
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "success": true,
  "data": {
    "stats": {
      "activeStudies": 3,
      "pendingTasks": 5,
      "unreadNotifications": 12,
      "completedThisMonth": 8
    },
    "myStudies": [
      {
        "id": 1,
        "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
        "emoji": "ğŸ’»",
        "category": "ì½”ë”©",
        "role": "MEMBER",
        "memberCount": 5,
        "joinedAt": "2025-11-01T00:00:00.000Z"
      }
    ],
    "recentActivities": [
      {
        "id": 1,
        "type": "TASK_ASSIGNED",
        "message": "ìƒˆë¡œìš´ í• ì¼ì´ ë°°ì •ë˜ì—ˆìŠµë‹ˆë‹¤",
        "studyName": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
        "studyEmoji": "ğŸ’»",
        "isRead": false,
        "createdAt": "2025-11-29T08:00:00.000Z"
      }
    ],
    "upcomingEvents": [
      {
        "id": 1,
        "title": "ì£¼ê°„ ë¯¸íŒ…",
        "date": "2025-11-30T10:00:00.000Z",
        "studyName": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
        "studyEmoji": "ğŸ’»"
      }
    ]
  }
}
```

**ì‘ë‹µ (ì‹¤íŒ¨)**:
```json
{
  "error": "ëŒ€ì‹œë³´ë“œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
}
```

---

## ì£¼ìš” íŒŒì¼

### ì„œë²„ ì»´í¬ë„ŒíŠ¸
- `coup/src/app/dashboard/page.jsx` - ëŒ€ì‹œë³´ë“œ ë©”ì¸ í˜ì´ì§€

### í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
- `coup/src/components/dashboard/DashboardClient.jsx` - ë©”ì¸ í´ë¼ì´ì–¸íŠ¸
- `coup/src/components/dashboard/DashboardSkeleton.jsx` - ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
- `coup/src/components/dashboard/EmptyState.jsx` - ë¹ˆ ìƒíƒœ

### ìœ„ì ¯
- `coup/src/components/dashboard/widgets/StudyStatus.jsx`
- `coup/src/components/dashboard/widgets/OnlineMembers.jsx`
- `coup/src/components/dashboard/widgets/QuickActions.jsx`
- `coup/src/components/dashboard/widgets/UrgentTasks.jsx`
- `coup/src/components/dashboard/widgets/PinnedNotice.jsx`

### API
- `coup/src/app/api/dashboard/route.js` - ëŒ€ì‹œë³´ë“œ API

### Hooks
- `coup/src/lib/hooks/useApi.js` - React Query í›…

---

## ê´€ë ¨ ë¬¸ì„œ

- [ì¸ì¦ ì˜ˆì™¸ ì²˜ë¦¬](../auth/README.md) - ë¡œê·¸ì¸/ì„¸ì…˜ ê´€ë ¨
- [ìŠ¤í„°ë”” ê´€ë¦¬ ì˜ˆì™¸ ì²˜ë¦¬](../studies/README.md) - ìŠ¤í„°ë”” CRUD
- [í• ì¼ ê´€ë¦¬ ì˜ˆì™¸ ì²˜ë¦¬](../tasks/README.md) - í• ì¼ ê´€ë¦¬

---

## ë¬¸ì„œ ì‘ì„± ê¸°ì¤€

- âœ… ì‹¤ì œ ì½”ë“œ ê¸°ë°˜ ì˜ˆì œ
- âœ… Before/After ë¹„êµ
- âœ… ì‹¤í–‰ ê°€ëŠ¥í•œ í•´ê²° ë°©ë²•
- âœ… ë””ë²„ê¹… ìŠ¤í¬ë¦½íŠ¸ ì œê³µ
- âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ í¬í•¨

---

**ì‘ì„±ì¼**: 2025-11-29  
**ë²„ì „**: 1.0.0  
**ì‘ì„±ì**: CoUp ê°œë°œíŒ€

