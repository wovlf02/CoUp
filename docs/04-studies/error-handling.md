# ìŠ¤í„°ë”” ì—ëŸ¬ ì²˜ë¦¬ ê°€ì´ë“œ

## ê°œìš”

ìŠ¤í„°ë”” ë„ë©”ì¸ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ ìœ í˜•ê³¼ ì²˜ë¦¬ ë°©ë²•ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

---

## ì—ëŸ¬ ì²˜ë¦¬ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì—ëŸ¬ ì²˜ë¦¬ í”Œë¡œìš°                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   API í˜¸ì¶œ  â”‚      â”‚    Error Handler    â”‚      â”‚   Toast ì•Œë¦¼    â”‚ â”‚
â”‚  â”‚             â”‚â”€â”€â”€â”€â”€â–¶â”‚                     â”‚â”€â”€â”€â”€â”€â–¶â”‚                 â”‚ â”‚
â”‚  â”‚ useJoinStudyâ”‚      â”‚ handleStudyError()  â”‚      â”‚ showErrorToast()â”‚ â”‚
â”‚  â”‚ mutateAsync â”‚      â”‚                     â”‚      â”‚                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚                                      â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â”‚             â”‚             â”‚                        â”‚
â”‚                    â–¼             â–¼             â–¼                        â”‚
â”‚           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚           â”‚ í•„ë“œ ì—ëŸ¬ â”‚  â”‚ íƒ€ì… ì—ëŸ¬ â”‚  â”‚  ì¼ë°˜ ì—ëŸ¬    â”‚              â”‚
â”‚           â”‚           â”‚  â”‚           â”‚  â”‚               â”‚              â”‚
â”‚           â”‚ setErrors â”‚  â”‚ íŠ¹ìˆ˜ ì²˜ë¦¬ â”‚  â”‚ showStudy     â”‚              â”‚
â”‚           â”‚ ({ name })â”‚  â”‚ (redirect)â”‚  â”‚ ErrorToast()  â”‚              â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì—ëŸ¬ ìœ í˜•

### HTTP ì—ëŸ¬ ì½”ë“œ

| HTTP ì½”ë“œ | ì„¤ëª… | ì¼ë°˜ ì›ì¸ |
|-----------|------|-----------|
| 400 | Bad Request | ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨, ì¤‘ë³µ, ì œí•œ ì´ˆê³¼ |
| 401 | Unauthorized | ë¯¸ë¡œê·¸ì¸ |
| 403 | Forbidden | ê¶Œí•œ ë¶€ì¡±, ê°•í‡´ëœ ë©¤ë²„ |
| 404 | Not Found | ìŠ¤í„°ë””/ë©¤ë²„ ì—†ìŒ |
| 500 | Internal Error | ì„œë²„ ì˜¤ë¥˜ |

### ë¹„ì¦ˆë‹ˆìŠ¤ ì—ëŸ¬ íƒ€ì…

| íƒ€ì… | ì„¤ëª… | ê¶Œì¥ ì¡°ì¹˜ |
|------|------|-----------|
| `UNAUTHORIZED` | ë¡œê·¸ì¸ í•„ìš” | ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ |
| `NOT_FOUND` | ìŠ¤í„°ë””/ë©¤ë²„ ì—†ìŒ | 404 í˜ì´ì§€ ë˜ëŠ” ëª©ë¡ìœ¼ë¡œ |
| `ALREADY_MEMBER` | ì´ë¯¸ ë©¤ë²„ | ìŠ¤í„°ë”” í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ |
| `KICKED_MEMBER` | ê°•í‡´ëœ ë©¤ë²„ | ë©”ì‹œì§€ í‘œì‹œ, ëª©ë¡ìœ¼ë¡œ |
| `APPLICATION_ALREADY_EXISTS` | ì´ë¯¸ ì‹ ì²­í•¨ | ë©”ì‹œì§€ í‘œì‹œ |
| `STUDY_FULL` | ì •ì› ì´ˆê³¼ | ë©”ì‹œì§€ í‘œì‹œ, í”„ë¦¬ë·°ë¡œ |
| `NOT_RECRUITING` | ëª¨ì§‘ ë§ˆê° | ë©”ì‹œì§€ í‘œì‹œ |
| `PERMISSION_DENIED` | ê¶Œí•œ ë¶€ì¡± | ë©”ì‹œì§€ í‘œì‹œ |
| `VALIDATION_ERROR` | ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ | í•„ë“œ ì—ëŸ¬ í‘œì‹œ |

---

## ì—ëŸ¬ í•¸ë“¤ëŸ¬

### handleStudyError

ìŠ¤í„°ë”” ì—ëŸ¬ë¥¼ íŒŒì‹±í•˜ì—¬ ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

**íŒŒì¼ ìœ„ì¹˜:** `src/lib/error-handlers/study-error-handler.js`

```javascript
export function handleStudyError(error) {
  // API ì‘ë‹µì—ì„œ ì—ëŸ¬ ì •ë³´ ì¶”ì¶œ
  const response = error?.response?.data || error
  const type = response?.type || 'UNKNOWN'
  const message = response?.error || response?.message || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤'
  const field = response?.field || null
  
  return { message, field, type }
}
```

### isUserInputError

ì‚¬ìš©ì ì…ë ¥ ê´€ë ¨ ì—ëŸ¬ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

```javascript
export function isUserInputError(type) {
  const inputErrors = [
    'VALIDATION_ERROR',
    'ALREADY_MEMBER',
    'APPLICATION_ALREADY_EXISTS',
    'STUDY_FULL',
    'NOT_RECRUITING'
  ]
  return inputErrors.includes(type)
}
```

---

## Toast í—¬í¼

**íŒŒì¼ ìœ„ì¹˜:** `src/lib/error-handlers/toast-helper.js`

### showSuccessToast

ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ

```javascript
showSuccessToast('ğŸ‰ ìŠ¤í„°ë””ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!')
```

### showErrorToast

ì¼ë°˜ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

```javascript
showErrorToast('ìŠ¤í„°ë””ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤')
```

### showWarningToast

ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ

```javascript
showWarningToast('í˜„ì¬ ëª¨ì§‘ ì¤‘ì´ ì•„ë‹™ë‹ˆë‹¤')
```

### showStudyErrorToast

ìŠ¤í„°ë”” ì—ëŸ¬ ì „ìš© í† ìŠ¤íŠ¸

```javascript
showStudyErrorToast(error)  // ì—ëŸ¬ ê°ì²´ì—ì„œ ë©”ì‹œì§€ ìë™ ì¶”ì¶œ
```

---

## ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´

### ìŠ¤í„°ë”” ìƒì„± ì—ëŸ¬

```javascript
const handleSubmit = async (e) => {
  e.preventDefault()
  setErrors({})

  try {
    const result = await createStudy.mutateAsync(studyData)
    showSuccessToast('ğŸ‰ ìŠ¤í„°ë””ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!')
    router.push(`/my-studies/${result.data.id}`)
  } catch (error) {
    console.error('ìŠ¤í„°ë”” ìƒì„± ì‹¤íŒ¨:', error)

    const { message, field, type } = handleStudyError(error)

    // í•„ë“œë³„ ì—ëŸ¬ì¸ ê²½ìš°
    if (field) {
      setErrors({ [field]: message })
      showErrorToast(message)
    }
    // ì‚¬ìš©ì ì…ë ¥ ì—ëŸ¬ì¸ ê²½ìš°
    else if (isUserInputError(type)) {
      showErrorToast(message)
    }
    // ê¸°íƒ€ ì—ëŸ¬
    else {
      showStudyErrorToast(error)
    }
  } finally {
    setIsSubmitting(false)
  }
}
```

### ìŠ¤í„°ë”” ê°€ì… ì—ëŸ¬

```javascript
const handleSubmit = async () => {
  try {
    await joinStudy.mutateAsync({ id: studyId, data: formData })

    if (study.autoApprove) {
      showSuccessToast('ğŸ‰ ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!')
      router.push(`/my-studies/${studyId}`)
    } else {
      showSuccessToast('ê°€ì… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìŠ¹ì¸ì„ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.')
      router.push('/studies')
    }
  } catch (error) {
    const { message, type } = handleStudyError(error)

    // ì´ë¯¸ ë©¤ë²„ì¸ ê²½ìš° â†’ ìŠ¤í„°ë”” í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    if (type === 'ALREADY_MEMBER') {
      showErrorToast(message)
      setTimeout(() => router.push(`/my-studies/${studyId}`), 2000)
    }
    // ì •ì› ì´ˆê³¼ â†’ í”„ë¦¬ë·° í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    else if (type === 'STUDY_FULL') {
      showErrorToast(message)
      setTimeout(() => router.push(`/studies/${studyId}`), 2000)
    }
    // ì´ë¯¸ ì‹ ì²­í•¨ â†’ ëª©ë¡ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
    else if (type === 'APPLICATION_ALREADY_EXISTS') {
      showWarningToast(message)
      setTimeout(() => router.push('/studies'), 2000)
    }
    // ê¸°íƒ€ ì—ëŸ¬
    else {
      showStudyErrorToast(error)
    }
  } finally {
    setIsSubmitting(false)
  }
}
```

### ìŠ¤í„°ë”” íƒˆí‡´ ì—ëŸ¬

```javascript
const handleLeave = async () => {
  try {
    await leaveStudy.mutateAsync(studyId)
    showSuccessToast('ìŠ¤í„°ë””ì—ì„œ íƒˆí‡´í–ˆìŠµë‹ˆë‹¤')
    router.push('/my-studies')
  } catch (error) {
    const { message, type } = handleStudyError(error)

    if (type === 'OWNER_CANNOT_LEAVE') {
      showErrorToast('ìŠ¤í„°ë””ì¥ì€ íƒˆí‡´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ê¶Œí•œì„ ìœ„ì„í•´ì£¼ì„¸ìš”.')
    } else {
      showStudyErrorToast(error)
    }
  }
}
```

### ê¶Œí•œ ìœ„ì„ ì—ëŸ¬

```javascript
const handleTransfer = async (targetUserId) => {
  try {
    await transferOwnership.mutateAsync({ studyId, targetUserId })
    showSuccessToast('ê¶Œí•œì´ ìœ„ì„ë˜ì—ˆìŠµë‹ˆë‹¤')
    router.push(`/my-studies/${studyId}`)
  } catch (error) {
    const { message, type } = handleStudyError(error)

    if (type === 'NOT_ADMIN') {
      showErrorToast('ADMIN ê¶Œí•œì„ ê°€ì§„ ë©¤ë²„ì—ê²Œë§Œ ìœ„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤')
    } else if (type === 'SELF_TRANSFER') {
      showErrorToast('ìê¸° ìì‹ ì—ê²Œ ìœ„ì„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤')
    } else {
      showStudyErrorToast(error)
    }
  }
}
```

---

## API ì—ëŸ¬ ì‘ë‹µ í˜•ì‹

### í‘œì¤€ ì—ëŸ¬ ì‘ë‹µ

```json
{
  "success": false,
  "error": "ì—ëŸ¬ ë©”ì‹œì§€",
  "type": "ERROR_TYPE",
  "field": "fieldName"  // ì„ íƒì 
}
```

### ì˜ˆì‹œ: ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨

```json
{
  "success": false,
  "error": "ìŠ¤í„°ë”” ì´ë¦„ì€ ìµœì†Œ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤",
  "type": "VALIDATION_ERROR",
  "field": "name"
}
```

### ì˜ˆì‹œ: ì •ì› ì´ˆê³¼

```json
{
  "success": false,
  "error": "ìŠ¤í„°ë”” ì •ì›ì´ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤",
  "type": "STUDY_FULL"
}
```

---

## í´ë¼ì´ì–¸íŠ¸ ìœ íš¨ì„± ê²€ì¦

### í•„ë“œë³„ ê²€ì¦ ê·œì¹™

| í•„ë“œ | ê·œì¹™ | ì—ëŸ¬ ë©”ì‹œì§€ |
|------|------|-------------|
| name | í•„ìˆ˜, 2-50ì | "ìŠ¤í„°ë”” ì´ë¦„ì€ 2-50ì ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| description | í•„ìˆ˜, 10-2000ì | "ìŠ¤í„°ë”” ì„¤ëª…ì€ 10-2000ì ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”" |
| category | í•„ìˆ˜ | "ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”" |
| subCategory | í•„ìˆ˜ | "ì„¸ë¶€ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”" |
| maxMembers | 2-100 | "ìµœëŒ€ ì¸ì›ì€ 2-100ëª… ì‚¬ì´ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”" |
| tags | ìµœëŒ€ 10ê°œ | "íƒœê·¸ëŠ” ìµœëŒ€ 10ê°œê¹Œì§€ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤" |

### í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ í•¨ìˆ˜

```javascript
const validateField = (fieldName, value) => {
  const newErrors = { ...errors }

  switch (fieldName) {
    case 'name':
      if (!value) {
        newErrors.name = 'ìŠ¤í„°ë”” ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'
      } else if (value.length < 2) {
        newErrors.name = 'ìŠ¤í„°ë”” ì´ë¦„ì€ ìµœì†Œ 2ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤'
      } else if (value.length > 50) {
        newErrors.name = 'ìŠ¤í„°ë”” ì´ë¦„ì€ ìµœëŒ€ 50ìê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤'
      } else {
        delete newErrors.name
      }
      break

    case 'description':
      if (!value) {
        newErrors.description = 'ìŠ¤í„°ë”” ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”'
      } else if (value.length < 10) {
        newErrors.description = 'ìŠ¤í„°ë”” ì„¤ëª…ì€ ìµœì†Œ 10ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”'
      } else if (value.length > 2000) {
        newErrors.description = 'ìŠ¤í„°ë”” ì„¤ëª…ì€ ìµœëŒ€ 2000ìê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤'
      } else {
        delete newErrors.description
      }
      break

    case 'maxMembers':
      if (value < 2) {
        newErrors.maxMembers = 'ìµœì†Œ 2ëª… ì´ìƒìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”'
      } else if (value > 100) {
        newErrors.maxMembers = 'ìµœëŒ€ 100ëª…ê¹Œì§€ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤'
      } else {
        delete newErrors.maxMembers
      }
      break

    case 'tags':
      if (value.length > 10) {
        newErrors.tags = 'íƒœê·¸ëŠ” ìµœëŒ€ 10ê°œê¹Œì§€ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤'
      } else {
        delete newErrors.tags
      }
      break
  }

  setErrors(newErrors)
}
```

---

## ì—ëŸ¬ UI íŒ¨í„´

### í•„ë“œ ì—ëŸ¬ í‘œì‹œ

```jsx
<div className={styles.formGroup}>
  <label className={styles.label}>
    ìŠ¤í„°ë”” ì´ë¦„ <span className={styles.required}>*</span>
  </label>
  <input
    type="text"
    value={formData.name}
    onChange={(e) => {
      setFormData({ ...formData, name: e.target.value })
      validateField('name', e.target.value)
    }}
    className={`${styles.input} ${errors.name ? styles.inputError : ''}`}
  />
  {errors.name ? (
    <span className={styles.errorText}>{errors.name}</span>
  ) : (
    <span className={styles.hint}>2-50ì ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”</span>
  )}
</div>
```

### ì—ëŸ¬ ìŠ¤íƒ€ì¼

```css
.input {
  border: 1px solid #ddd;
  padding: 12px;
  border-radius: 8px;
}

.inputError {
  border-color: #ef4444;
  background-color: #fef2f2;
}

.errorText {
  color: #ef4444;
  font-size: 12px;
  margin-top: 4px;
}

.hint {
  color: #6b7280;
  font-size: 12px;
  margin-top: 4px;
}
```

---

## ì„œë²„ ì¸¡ ì˜ˆì™¸ í´ë˜ìŠ¤

**íŒŒì¼ ìœ„ì¹˜:** `src/lib/exceptions/study.js`

### StudyMemberException

```javascript
class StudyMemberException extends BaseException {
  static alreadyMember(studyId, userId) {
    return new StudyMemberException(
      'ALREADY_MEMBER',
      'ì´ë¯¸ ì´ ìŠ¤í„°ë””ì˜ ë©¤ë²„ì…ë‹ˆë‹¤',
      400,
      { studyId, userId }
    )
  }

  static kickedMember(studyId, userId) {
    return new StudyMemberException(
      'KICKED_MEMBER',
      'ê°•í‡´ëœ ìŠ¤í„°ë””ì—ëŠ” ë‹¤ì‹œ ê°€ì…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤',
      403,
      { studyId, userId }
    )
  }

  static invalidRole(role, validRoles) {
    return new StudyMemberException(
      'INVALID_ROLE',
      `ìœ íš¨í•˜ì§€ ì•Šì€ ì—­í• ì…ë‹ˆë‹¤. í—ˆìš©: ${validRoles.join(', ')}`,
      400,
      { role, validRoles }
    )
  }
}
```

### StudyApplicationException

```javascript
class StudyApplicationException extends BaseException {
  static studyFull(studyId, currentMembers, maxMembers) {
    return new StudyApplicationException(
      'STUDY_FULL',
      'ìŠ¤í„°ë”” ì •ì›ì´ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤',
      400,
      { studyId, currentMembers, maxMembers }
    )
  }

  static notRecruiting(studyId) {
    return new StudyApplicationException(
      'NOT_RECRUITING',
      'í˜„ì¬ ë©¤ë²„ë¥¼ ëª¨ì§‘í•˜ì§€ ì•ŠëŠ” ìŠ¤í„°ë””ì…ë‹ˆë‹¤',
      400,
      { studyId }
    )
  }

  static applicationAlreadyExists(studyId, userId) {
    return new StudyApplicationException(
      'APPLICATION_ALREADY_EXISTS',
      'ì´ë¯¸ ê°€ì… ì‹ ì²­ ì¤‘ì…ë‹ˆë‹¤',
      400,
      { studyId, userId }
    )
  }
}
```

### StudyPermissionException

```javascript
class StudyPermissionException extends BaseException {
  static insufficientRole(requiredRole, currentRole) {
    return new StudyPermissionException(
      'PERMISSION_DENIED',
      `${requiredRole} ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤`,
      403,
      { requiredRole, currentRole }
    )
  }

  static ownerCannotLeave(studyId) {
    return new StudyPermissionException(
      'OWNER_CANNOT_LEAVE',
      'ìŠ¤í„°ë””ì¥ì€ íƒˆí‡´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ê¶Œí•œì„ ìœ„ì„í•´ì£¼ì„¸ìš”.',
      400,
      { studyId }
    )
  }
}
```

---

## ë¡œê¹…

### StudyLogger

**íŒŒì¼ ìœ„ì¹˜:** `src/lib/logging/studyLogger.js`

```javascript
class StudyLogger {
  static info(message, data) {
    console.log(`[Study] ${message}`, data)
  }

  static error(message, error, data) {
    console.error(`[Study Error] ${message}`, { error, ...data })
  }

  static logMemberJoin(studyId, userId, autoApproved) {
    this.info('Member joined', { studyId, userId, autoApproved })
  }

  static logMemberLeave(studyId, userId) {
    this.info('Member left', { studyId, userId })
  }

  static logOwnershipTransfer(studyId, fromUserId, toUserId) {
    this.info('Ownership transferred', { studyId, fromUserId, toUserId })
  }
}
```

