# ìŠ¤í„°ë”” API ë ˆí¼ëŸ°ìŠ¤

## ê°œìš”

ëª¨ë“  ìŠ¤í„°ë”” ê´€ë ¨ APIëŠ” `/api/studies/*` ê²½ë¡œì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

---

## API êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        /api/studies/* API êµ¬ì¡°                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    ìŠ¤í„°ë”” ê¸°ë³¸ CRUD                              â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚ GET /       â”‚ â”‚ POST /      â”‚ â”‚ GET /[id]   â”‚                â”‚    â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚ â”‚             â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ ëª©ë¡ ì¡°íšŒ   â”‚ â”‚ ìŠ¤í„°ë”” ìƒì„± â”‚ â”‚ ìƒì„¸ ì¡°íšŒ   â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ ì¸ì¦: âŒ    â”‚ â”‚ ì¸ì¦: âœ…    â”‚ â”‚ ì¸ì¦: âŒ    â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚    â”‚
â”‚  â”‚  â”‚ PATCH /[id] â”‚ â”‚ DELETE /[id]â”‚                                â”‚    â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚                                â”‚    â”‚
â”‚  â”‚  â”‚ ìŠ¤í„°ë”” ìˆ˜ì • â”‚ â”‚ ìŠ¤í„°ë”” ì‚­ì œ â”‚                                â”‚    â”‚
â”‚  â”‚  â”‚ ê¶Œí•œ: OWNER â”‚ â”‚ ê¶Œí•œ: OWNER â”‚                                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    ë©¤ë²„ ê´€ë ¨ API                                 â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚    â”‚
â”‚  â”‚  â”‚ POST /[id]/join  â”‚ â”‚ POST /[id]/leave â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚ â”‚                  â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚ ê°€ì… ì‹ ì²­        â”‚ â”‚ ìŠ¤í„°ë”” íƒˆí‡´      â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚ ì¸ì¦: âœ…         â”‚ â”‚ ê¶Œí•œ: MEMBER+    â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚ â”‚ (OWNER ì œì™¸)     â”‚                      â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚    â”‚
â”‚  â”‚  â”‚ GET /[id]/membersâ”‚ â”‚ POST /[id]/inviteâ”‚                      â”‚    â”‚
â”‚  â”‚  â”‚                  â”‚ â”‚                  â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚ ë©¤ë²„ ëª©ë¡        â”‚ â”‚ ì´ˆëŒ€ ì½”ë“œ ìƒì„±   â”‚                      â”‚    â”‚
â”‚  â”‚  â”‚ ê¶Œí•œ: MEMBER+    â”‚ â”‚ ê¶Œí•œ: ADMIN+     â”‚                      â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚  â”‚ POST /[id]/transfer-        â”‚ â”‚ POST /[id]/check-member  â”‚   â”‚    â”‚
â”‚  â”‚  â”‚           ownership         â”‚ â”‚                          â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ OWNER ê¶Œí•œ ìœ„ì„             â”‚ â”‚ ë©¤ë²„ì‹­ í™•ì¸              â”‚   â”‚    â”‚
â”‚  â”‚  â”‚ ê¶Œí•œ: OWNER                 â”‚ â”‚ ì¸ì¦: âœ…                 â”‚   â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    ìŠ¤í„°ë”” ê¸°ëŠ¥ API                               â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚ /[id]/      â”‚ â”‚ /[id]/files â”‚ â”‚ /[id]/      â”‚                â”‚    â”‚
â”‚  â”‚  â”‚   notices   â”‚ â”‚             â”‚ â”‚   calendar  â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ ê³µì§€ì‚¬í•­    â”‚ â”‚ íŒŒì¼ ê´€ë¦¬   â”‚ â”‚ ì¼ì • ê´€ë¦¬   â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚    â”‚
â”‚  â”‚  â”‚ /[id]/tasks â”‚ â”‚ /[id]/chat  â”‚                                â”‚    â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚                                â”‚    â”‚
â”‚  â”‚  â”‚ í• ì¼ ê´€ë¦¬   â”‚ â”‚ ì±„íŒ…        â”‚                                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

### ìŠ¤í„°ë”” ê¸°ë³¸

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ | ê¶Œí•œ |
|--------|----------|------|------|------|
| GET | `/api/studies` | ìŠ¤í„°ë”” ëª©ë¡ ì¡°íšŒ | âŒ | - |
| POST | `/api/studies` | ìŠ¤í„°ë”” ìƒì„± | âœ… | - |
| GET | `/api/studies/[id]` | ìŠ¤í„°ë”” ìƒì„¸ ì¡°íšŒ | âŒ | - |
| PATCH | `/api/studies/[id]` | ìŠ¤í„°ë”” ìˆ˜ì • | âœ… | OWNER |
| DELETE | `/api/studies/[id]` | ìŠ¤í„°ë”” ì‚­ì œ | âœ… | OWNER |

### ë©¤ë²„ ê´€ë¦¬

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ | ê¶Œí•œ |
|--------|----------|------|------|------|
| POST | `/api/studies/[id]/join` | ìŠ¤í„°ë”” ê°€ì… | âœ… | - |
| POST | `/api/studies/[id]/leave` | ìŠ¤í„°ë”” íƒˆí‡´ | âœ… | MEMBER+ |
| GET | `/api/studies/[id]/members` | ë©¤ë²„ ëª©ë¡ | âœ… | MEMBER+ |
| POST | `/api/studies/[id]/members` | ë©¤ë²„ ì´ˆëŒ€ | âœ… | ADMIN+ |
| POST | `/api/studies/[id]/invite` | ì´ˆëŒ€ ì½”ë“œ ìƒì„± | âœ… | ADMIN+ |
| POST | `/api/studies/[id]/transfer-ownership` | ê¶Œí•œ ìœ„ì„ | âœ… | OWNER |
| POST | `/api/studies/[id]/check-member` | ë©¤ë²„ì‹­ í™•ì¸ | âœ… | - |

### ìŠ¤í„°ë”” ê¸°ëŠ¥

| Method | Endpoint | ì„¤ëª… | ì¸ì¦ | ê¶Œí•œ |
|--------|----------|------|------|------|
| GET/POST | `/api/studies/[id]/notices` | ê³µì§€ì‚¬í•­ | âœ… | MEMBER+/ADMIN+ |
| GET/POST | `/api/studies/[id]/files` | íŒŒì¼ ê´€ë¦¬ | âœ… | MEMBER+ |
| GET/POST | `/api/studies/[id]/calendar` | ì¼ì • ê´€ë¦¬ | âœ… | MEMBER+/ADMIN+ |
| GET/POST | `/api/studies/[id]/tasks` | í• ì¼ ê´€ë¦¬ | âœ… | MEMBER+ |
| GET/POST | `/api/studies/[id]/chat` | ì±„íŒ… | âœ… | MEMBER+ |

---

## GET /api/studies

ê³µê°œ ìŠ¤í„°ë”” ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

### ìš”ì²­

**Query Parameters:**

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|----------|------|------|------|--------|
| page | number | âŒ | í˜ì´ì§€ ë²ˆí˜¸ | 1 |
| limit | number | âŒ | í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ | 10 |
| category | string | âŒ | ì¹´í…Œê³ ë¦¬ í•„í„° | - |
| search | string | âŒ | ê²€ìƒ‰ì–´ (ì´ë¦„, ì„¤ëª…, íƒœê·¸) | - |
| recruiting | string | âŒ | ëª¨ì§‘ ìƒíƒœ ('all', 'recruiting', 'closed') | 'all' |

**ì˜ˆì‹œ:**
```
GET /api/studies?page=1&limit=20&category=í”„ë¡œê·¸ë˜ë°&recruiting=recruiting
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "id": "clxxxxxxxxxx",
      "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
      "emoji": "ğŸ’»",
      "description": "ë§¤ì£¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ì–´ë´…ë‹ˆë‹¤",
      "category": "í”„ë¡œê·¸ë˜ë°",
      "subCategory": "ì•Œê³ ë¦¬ì¦˜",
      "maxMembers": 20,
      "isPublic": true,
      "isRecruiting": true,
      "rating": 4.5,
      "tags": ["ì•Œê³ ë¦¬ì¦˜", "ì½”ë”©í…ŒìŠ¤íŠ¸", "Python"],
      "createdAt": "2025-01-01T00:00:00.000Z",
      "currentMembers": 12,
      "owner": {
        "id": "clxxxxxxxxxx",
        "name": "í™ê¸¸ë™",
        "avatar": "https://..."
      }
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 150,
    "totalPages": 8
  }
}
```

### í•„í„°ë§ ë¡œì§

```javascript
// ê¸°ë³¸ ì¡°ê±´: ê³µê°œ ìŠ¤í„°ë””ë§Œ
const where = { isPublic: true }

// ì¹´í…Œê³ ë¦¬ í•„í„°
if (category && category !== 'ì „ì²´') {
  where.category = category
}

// ëª¨ì§‘ ìƒíƒœ í•„í„°
if (recruiting === 'recruiting') {
  where.isRecruiting = true
  // + ì¸ì›ë§ˆê° ìŠ¤í„°ë”” ì œì™¸ (currentMembers < maxMembers)
} else if (recruiting === 'closed') {
  where.isRecruiting = false
  // + ì¸ì›ë§ˆê° ìŠ¤í„°ë””ë„ í¬í•¨
}

// ê²€ìƒ‰ì–´ í•„í„°
if (search) {
  where.OR = [
    { name: { contains: search, mode: 'insensitive' } },
    { description: { contains: search, mode: 'insensitive' } },
    { tags: { hasSome: [search] } }
  ]
}
```

---

## POST /api/studies

ìƒˆ ìŠ¤í„°ë””ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

### ìš”ì²­

**Headers:**
```
Content-Type: application/json
Cookie: next-auth.session-token=...
```

**Body:**
```json
{
  "name": "ì•Œê³ ë¦¬ì¦˜ ë§ˆìŠ¤í„° ìŠ¤í„°ë””",
  "emoji": "ğŸ’»",
  "category": "ê°œë°œ",
  "subCategory": "ì•Œê³ ë¦¬ì¦˜",
  "description": "ë§¤ì£¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í•¨ê»˜ í’€ì–´ë³´ëŠ” ìŠ¤í„°ë””ì…ë‹ˆë‹¤.",
  "tags": ["ì•Œê³ ë¦¬ì¦˜", "ì½”ë”©í…ŒìŠ¤íŠ¸", "Python"],
  "maxMembers": 20,
  "isPublic": true,
  "autoApprove": true
}
```

### ìœ íš¨ì„± ê²€ì¦

| í•„ë“œ | ê·œì¹™ |
|------|------|
| name | í•„ìˆ˜, 2-50ì |
| emoji | í•„ìˆ˜ |
| category | í•„ìˆ˜ |
| subCategory | í•„ìˆ˜ |
| description | í•„ìˆ˜, 10-2000ì |
| tags | ì„ íƒ, ìµœëŒ€ 10ê°œ |
| maxMembers | 2-100ëª… |
| isPublic | boolean (ê¸°ë³¸: true) |
| autoApprove | boolean (ê¸°ë³¸: true) |

### ì‘ë‹µ

**ì„±ê³µ (201 Created):**
```json
{
  "success": true,
  "data": {
    "id": "clxxxxxxxxxx",
    "name": "ì•Œê³ ë¦¬ì¦˜ ë§ˆìŠ¤í„° ìŠ¤í„°ë””",
    "emoji": "ğŸ’»",
    "category": "ê°œë°œ",
    "subCategory": "ì•Œê³ ë¦¬ì¦˜",
    "description": "ë§¤ì£¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í•¨ê»˜ í’€ì–´ë³´ëŠ” ìŠ¤í„°ë””ì…ë‹ˆë‹¤.",
    "tags": ["ì•Œê³ ë¦¬ì¦˜", "ì½”ë”©í…ŒìŠ¤íŠ¸", "Python"],
    "maxMembers": 20,
    "isPublic": true,
    "autoApprove": true,
    "isRecruiting": true,
    "inviteCode": "xxxxxxxx",
    "createdAt": "2025-01-01T00:00:00.000Z"
  }
}
```

**ì‹¤íŒ¨ - ìœ íš¨ì„± ê²€ì¦ (400 Bad Request):**
```json
{
  "error": "Missing required fields",
  "message": "name, category, emoji í•„ë“œê°€ í•„ìˆ˜ì…ë‹ˆë‹¤"
}
```

### ìƒì„± í”„ë¡œì„¸ìŠ¤

```javascript
// 1. Study ìƒì„±
const study = await prisma.study.create({
  data: {
    name,
    description,
    category,
    capacity: maxMembers || 10,
    emoji,
    tags: tags || [],
    ownerId: session.user.id,
    status: 'RECRUITING'
  }
})

// 2. OWNER ë©¤ë²„ì‹­ ìë™ ìƒì„±
await prisma.studyMember.create({
  data: {
    studyId: study.id,
    userId: session.user.id,
    role: 'OWNER',
    status: 'ACTIVE'
  }
})
```

---

## GET /api/studies/[id]

ìŠ¤í„°ë”” ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

### ìš”ì²­

```
GET /api/studies/clxxxxxxxxxx
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "clxxxxxxxxxx",
    "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
    "emoji": "ğŸ’»",
    "description": "ë§¤ì£¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ì–´ë´…ë‹ˆë‹¤",
    "category": "í”„ë¡œê·¸ë˜ë°",
    "subCategory": "ì•Œê³ ë¦¬ì¦˜",
    "maxMembers": 20,
    "isPublic": true,
    "autoApprove": true,
    "isRecruiting": true,
    "rating": 4.5,
    "tags": ["ì•Œê³ ë¦¬ì¦˜", "ì½”ë”©í…ŒìŠ¤íŠ¸"],
    "inviteCode": "xxxxxxxx",
    "createdAt": "2025-01-01T00:00:00.000Z",
    "currentMembers": 12,
    "members": [
      {
        "id": "clxxxxxxxxxx",
        "userId": "clxxxxxxxxxx",
        "role": "OWNER",
        "status": "ACTIVE",
        "joinedAt": "2025-01-01T00:00:00.000Z",
        "user": {
          "id": "clxxxxxxxxxx",
          "name": "í™ê¸¸ë™",
          "email": "hong@example.com",
          "avatar": "https://..."
        }
      }
    ],
    "myRole": "OWNER",
    "myJoinedAt": "2025-01-01T00:00:00.000Z",
    "myMembershipStatus": "ACTIVE"
  }
}
```

**ì‹¤íŒ¨ - ìŠ¤í„°ë”” ì—†ìŒ (404 Not Found):**
```json
{
  "error": "Study not found"
}
```

### í˜„ì¬ ì‚¬ìš©ì ì •ë³´

ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ê²½ìš°, í•´ë‹¹ ìŠ¤í„°ë””ì—ì„œì˜ ì—­í• ê³¼ ìƒíƒœê°€ í•¨ê»˜ ë°˜í™˜ë©ë‹ˆë‹¤:

| í•„ë“œ | ì„¤ëª… |
|------|------|
| `myRole` | í˜„ì¬ ì‚¬ìš©ìì˜ ì—­í•  (OWNER, ADMIN, MEMBER, null) |
| `myJoinedAt` | ê°€ì…ì¼ |
| `myMembershipStatus` | ë©¤ë²„ì‹­ ìƒíƒœ (ACTIVE, PENDING, LEFT, KICKED) |

---

## PATCH /api/studies/[id]

ìŠ¤í„°ë”” ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤. **OWNERë§Œ ê°€ëŠ¥**í•©ë‹ˆë‹¤.

### ìš”ì²­

**Headers:**
```
Content-Type: application/json
Cookie: next-auth.session-token=...
```

**Body:** (ìˆ˜ì •í•  í•„ë“œë§Œ)
```json
{
  "name": "ìƒˆë¡œìš´ ìŠ¤í„°ë”” ì´ë¦„",
  "description": "ìˆ˜ì •ëœ ì„¤ëª…",
  "isRecruiting": false
}
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "data": {
    "id": "clxxxxxxxxxx",
    "name": "ìƒˆë¡œìš´ ìŠ¤í„°ë”” ì´ë¦„",
    ...
  }
}
```

**ì‹¤íŒ¨ - ê¶Œí•œ ì—†ìŒ (403 Forbidden):**
```json
{
  "error": "OWNER ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤"
}
```

---

## DELETE /api/studies/[id]

ìŠ¤í„°ë””ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. **OWNERë§Œ ê°€ëŠ¥**í•©ë‹ˆë‹¤.

### ìš”ì²­

```
DELETE /api/studies/clxxxxxxxxxx
Cookie: next-auth.session-token=...
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "message": "Study deleted successfully"
}
```

---

## POST /api/studies/[id]/join

ìŠ¤í„°ë””ì— ê°€ì…ì„ ì‹ ì²­í•©ë‹ˆë‹¤.

### ìš”ì²­

**Headers:**
```
Content-Type: application/json
Cookie: next-auth.session-token=...
```

**Body:** (ì„ íƒ)
```json
{
  "introduction": "ì•ˆë…•í•˜ì„¸ìš”, ì—´ì‹¬íˆ í•˜ê² ìŠµë‹ˆë‹¤!",
  "purpose": "ì½”ë”©í…ŒìŠ¤íŠ¸ ì¤€ë¹„",
  "level": "ì¤‘ê¸‰"
}
```

### ì‘ë‹µ

**ì„±ê³µ - ìë™ ìŠ¹ì¸ (201 Created):**
```json
{
  "success": true,
  "message": "ìŠ¤í„°ë””ì— ê°€ì…ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "studyId": "clxxxxxxxxxx",
    "userId": "clxxxxxxxxxx",
    "role": "MEMBER",
    "status": "ACTIVE",
    "autoApproved": true
  }
}
```

**ì„±ê³µ - ìŠ¹ì¸ ëŒ€ê¸° (201 Created):**
```json
{
  "success": true,
  "message": "ê°€ì… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ìŠ¹ì¸ì„ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.",
  "data": {
    "id": "clxxxxxxxxxx",
    "status": "PENDING",
    "autoApproved": false
  }
}
```

### ì—ëŸ¬ ì‘ë‹µ

**ì´ë¯¸ ë©¤ë²„ (400 Bad Request):**
```json
{
  "success": false,
  "error": "ì´ë¯¸ ì´ ìŠ¤í„°ë””ì˜ ë©¤ë²„ì…ë‹ˆë‹¤",
  "type": "ALREADY_MEMBER"
}
```

**ê°•í‡´ëœ ë©¤ë²„ (403 Forbidden):**
```json
{
  "success": false,
  "error": "ê°•í‡´ëœ ìŠ¤í„°ë””ì—ëŠ” ë‹¤ì‹œ ê°€ì…í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤",
  "type": "KICKED_MEMBER"
}
```

**ì •ì› ì´ˆê³¼ (400 Bad Request):**
```json
{
  "success": false,
  "error": "ìŠ¤í„°ë”” ì •ì›ì´ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤",
  "type": "STUDY_FULL"
}
```

**ëª¨ì§‘ ë§ˆê° (400 Bad Request):**
```json
{
  "success": false,
  "error": "í˜„ì¬ ë©¤ë²„ë¥¼ ëª¨ì§‘í•˜ì§€ ì•ŠëŠ” ìŠ¤í„°ë””ì…ë‹ˆë‹¤",
  "type": "NOT_RECRUITING"
}
```

### ê°€ì… í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°ì°¨íŠ¸

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    ê°€ì… ìš”ì²­    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ì„¸ì…˜ í™•ì¸      â”‚
                    â”‚  ë¡œê·¸ì¸ ì—¬ë¶€    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ ACTIVE ë©¤ë²„?   â”‚ â”‚ KICKED?   â”‚ â”‚ PENDING?    â”‚
    â”‚                â”‚ â”‚           â”‚ â”‚             â”‚
    â”‚ â†’ ALREADY_     â”‚ â”‚ â†’ KICKED_ â”‚ â”‚ â†’ ALREADY_  â”‚
    â”‚   MEMBER       â”‚ â”‚   MEMBER  â”‚ â”‚   EXISTS    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚              â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  LEFT ìƒíƒœ?     â”‚
                    â”‚  (ì¬ê°€ì… ê°€ëŠ¥)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ì •ì› í™•ì¸      â”‚
                    â”‚  currentMembers â”‚
                    â”‚  < maxMembers   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  ëª¨ì§‘ ì¤‘ í™•ì¸   â”‚
                    â”‚  isRecruiting   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”       â”‚              â”‚
    â”‚ autoApprove    â”‚       â”‚              â”‚
    â”‚    = true      â”‚       â”‚              â”‚
    â”‚                â”‚       â”‚              â”‚
    â”‚  â†’ ACTIVE      â”‚       â”‚              â”‚
    â”‚    (ì¦‰ì‹œ ê°€ì…) â”‚       â”‚              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚              â”‚
                             â”‚              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚       autoApprove = false   â”‚
              â”‚                             â”‚
              â”‚       â†’ PENDING             â”‚
              â”‚         (ìŠ¹ì¸ ëŒ€ê¸°)         â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## POST /api/studies/[id]/leave

ìŠ¤í„°ë””ì—ì„œ íƒˆí‡´í•©ë‹ˆë‹¤. **OWNERëŠ” íƒˆí‡´í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤**.

### ìš”ì²­

```
POST /api/studies/clxxxxxxxxxx/leave
Cookie: next-auth.session-token=...
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "message": "Left study successfully"
}
```

**ì‹¤íŒ¨ - OWNER íƒˆí‡´ ë¶ˆê°€ (400 Bad Request):**
```json
{
  "error": "Owner cannot leave study"
}
```

---

## GET /api/studies/[id]/members

ìŠ¤í„°ë”” ë©¤ë²„ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

### ìš”ì²­

**Query Parameters:**

| íŒŒë¼ë¯¸í„° | íƒ€ì… | ì„¤ëª… | ê¸°ë³¸ê°’ |
|----------|------|------|--------|
| page | number | í˜ì´ì§€ ë²ˆí˜¸ | 1 |
| limit | number | í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ (ìµœëŒ€ 50) | 50 |
| role | string | ì—­í•  í•„í„° (OWNER, ADMIN, MEMBER) | - |
| status | string | ìƒíƒœ í•„í„° | ACTIVE |

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "data": [
    {
      "id": "clxxxxxxxxxx",
      "userId": "clxxxxxxxxxx",
      "role": "OWNER",
      "status": "ACTIVE",
      "joinedAt": "2025-01-01T00:00:00.000Z",
      "user": {
        "id": "clxxxxxxxxxx",
        "name": "í™ê¸¸ë™",
        "email": "hong@example.com",
        "avatar": "https://..."
      }
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 12,
    "totalPages": 1
  }
}
```

---

## POST /api/studies/[id]/invite

ìŠ¤í„°ë”” ì´ˆëŒ€ ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. **ADMIN+ ê¶Œí•œ í•„ìš”**

### ìš”ì²­

**Body:**
```json
{
  "expiresIn": 168,
  "maxUses": 10
}
```

| í•„ë“œ | íƒ€ì… | ì„¤ëª… | ê¸°ë³¸ê°’ | ì œí•œ |
|------|------|------|--------|------|
| expiresIn | number | ë§Œë£Œ ì‹œê°„ (ì‹œê°„ ë‹¨ìœ„) | 168 (7ì¼) | 1-720 |
| maxUses | number | ìµœëŒ€ ì‚¬ìš© íšŸìˆ˜ | 10 | 1-100 |

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "data": {
    "inviteCode": "xxxxxxxx",
    "expiresAt": "2025-01-08T00:00:00.000Z",
    "maxUses": 10,
    "availableSlots": 8
  }
}
```

---

## POST /api/studies/[id]/transfer-ownership

OWNER ê¶Œí•œì„ ë‹¤ë¥¸ ADMINì—ê²Œ ìœ„ì„í•©ë‹ˆë‹¤. **OWNERë§Œ ê°€ëŠ¥**

### ìš”ì²­

**Body:**
```json
{
  "targetUserId": "clxxxxxxxxxx"
}
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "message": "í™ê¸¸ë™ë‹˜ì—ê²Œ ìŠ¤í„°ë””ì¥ ê¶Œí•œì´ ìœ„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "newOwner": {
      "userId": "clxxxxxxxxxx",
      "name": "í™ê¸¸ë™",
      "role": "OWNER"
    },
    "previousOwner": {
      "userId": "clxxxxxxxxxx",
      "role": "ADMIN"
    }
  }
}
```

### ì—ëŸ¬ ì‘ë‹µ

**ìê¸° ìì‹ ì—ê²Œ ìœ„ì„ ë¶ˆê°€ (400):**
```json
{
  "error": "ìê¸° ìì‹ ì—ê²Œ ê¶Œí•œì„ ìœ„ì„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

**ADMINì´ ì•„ë‹Œ ë©¤ë²„ (400):**
```json
{
  "error": "ADMIN ê¶Œí•œì„ ê°€ì§„ ë©¤ë²„ì—ê²Œë§Œ OWNER ê¶Œí•œì„ ìœ„ì„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
}
```

---

## POST /api/studies/[id]/check-member

ì‹œê·¸ë„ë§ ì„œë²„ì—ì„œ ìŠ¤í„°ë”” ë©¤ë²„ì‹­ì„ í™•ì¸í•©ë‹ˆë‹¤.

### ìš”ì²­

**Body:**
```json
{
  "userId": "clxxxxxxxxxx"
}
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**
```json
{
  "success": true,
  "member": {
    "id": "clxxxxxxxxxx",
    "role": "MEMBER",
    "status": "ACTIVE"
  },
  "study": {
    "id": "clxxxxxxxxxx",
    "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
    "status": "ACTIVE"
  }
}
```

**ì‹¤íŒ¨ - ë©¤ë²„ ì•„ë‹˜ (403 Forbidden):**
```json
{
  "error": "Not a member of this study"
}
```

---

## ê³µí†µ ì—ëŸ¬ ì½”ë“œ

| HTTP ì½”ë“œ | ì—ëŸ¬ íƒ€ì… | ì„¤ëª… |
|-----------|-----------|------|
| 400 | VALIDATION_ERROR | ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ |
| 400 | ALREADY_MEMBER | ì´ë¯¸ ë©¤ë²„ |
| 400 | APPLICATION_ALREADY_EXISTS | ì´ë¯¸ ê°€ì… ì‹ ì²­í•¨ |
| 400 | STUDY_FULL | ì •ì› ì´ˆê³¼ |
| 400 | NOT_RECRUITING | ëª¨ì§‘ ë§ˆê° |
| 401 | UNAUTHORIZED | ë¡œê·¸ì¸ í•„ìš” |
| 403 | PERMISSION_DENIED | ê¶Œí•œ ë¶€ì¡± |
| 403 | KICKED_MEMBER | ê°•í‡´ëœ ë©¤ë²„ |
| 404 | NOT_FOUND | ìŠ¤í„°ë””/ë©¤ë²„ ì—†ìŒ |
| 500 | INTERNAL_ERROR | ì„œë²„ ì˜¤ë¥˜ |

