# Production 기능 명세: 03. 게이미피케이션 (동기부여 시스템)

## 1. 개요

- 사용자의 학습 활동 데이터를 기반으로 시각적인 피드백과 보상을 제공하여, 학습에 대한 동기를 부여하고 꾸준한 참여를 유도한다.
- 건전한 경쟁과 성취 경험을 통해 사용자가 스터디 활동에 몰입하게 만든다.

## 2. 사용자 스토리 (User Stories)

### 2.1. 학습 대시보드

- **US-1.1**: 사용자는 마이페이지의 '대시보드' 탭에서 자신의 전체 학습 활동 통계를 한눈에 볼 수 있다.
- **US-1.2**: 대시보드에는 다음과 같은 정보가 시각화(그래프, 차트)되어 표시된다.
  - **총 학습 시간**: 화상 스터디 참여 시간, 타이머 측정 시간 등을 합산.
  - **목표 달성률**: 사용자가 설정한 주간/월간 학습 목표 대비 달성률.
  - **출석률**: 참여 중인 모든 스터디의 평균 출석률.
  - **과제 수행률**: 칸반 보드에서 'Done'으로 이동한 카드 비율.
- **US-1.3 (잔디 심기)**: GitHub의 Commit 그래프처럼, 사용자가 하루 동안 일정 시간 이상 학습하면 해당 날짜의 칸이 채워지는 '학습 잔디'가 표시된다.

### 2.2. 포인트 및 레벨 시스템

- **US-2.1**: 사용자는 다음과 같은 활동을 완료할 때마다 플랫폼 포인트(가칭: CP, Coup Point)를 획득한다.
  - 일일 첫 로그인
  - 스터디 출석
  - 과제 완료
  - 학습 목표 달성
  - 획득 포인트는 활동의 난이도나 중요도에 따라 차등 지급된다.
- **US-2.2**: 누적된 포인트에 따라 사용자의 레벨이 상승한다.
- **US-2.3**: 획득한 포인트는 향후 플랫폼 내에서 아이템(프로필 꾸미기, 이모티콘 등)을 구매하는 데 사용할 수 있다. (향후 확장)

### 2.3. 배지 (업적) 시스템

- **US-3.1**: 사용자는 특정 조건을 만족하면 '배지'를 획득할 수 있다.
- **US-3.2**: 배지의 종류는 다음과 같다.
  - **활동 배지**: "스터디 100시간 참여", "게시글 50개 작성"
  - **연속 배지**: "7일 연속 출석", "30일 연속 학습 잔디 채우기"
  - **탐험 배지**: "첫 스터디 그룹 가입", "5개 이상의 스터디 참여"
  - **리더십 배지**: "스터디 그룹장 되기", "스터디 멤버 10명 이상 모집"
- **US-3.3**: 획득한 배지는 프로필 페이지에 전시하여 다른 사용자들에게 자신의 성취를 보여줄 수 있다.

### 2.4. 랭킹 시스템

- **US-4.1**: 사용자는 '랭킹' 페이지에서 다른 사용자들의 순위를 확인할 수 있다.
- **US-4.2**: 랭킹은 주간/월간/전체 누적 학습 시간, 획득 포인트 등을 기준으로 산정된다.
- **US-4.3**: 랭킹은 전체 사용자 대상의 '명예의 전당'과, 내가 속한 스터디 그룹 내에서의 '그룹 내 랭킹'으로 구분하여 볼 수 있다.
- **US-4.4**: 상위 랭커에게는 특별한 배지나 프로필 효과 등 추가적인 보상이 주어질 수 있다.

## 3. 기술 아키텍처

- **데이터 집계**: 사용자의 다양한 활동 로그(학습 시간, 출석, 과제 완료 등)를 효율적으로 집계하고 통계를 내기 위해 별도의 로그 서버 또는 분석용 데이터베이스(OLAP) 도입을 고려할 수 있다. 초기에는 비즈니스 서버에서 스케줄링된 배치(Batch) 작업으로 처리한다.
- **실시간 랭킹**: 대규모 사용자의 랭킹을 실시간으로 처리하기 위해 **Redis의 Sorted Set** 자료구조를 활용한다. 사용자의 점수가 변경될 때마다 Sorted Set에 업데이트하여, 빠르고 효율적으로 순위를 조회할 수 있다.
