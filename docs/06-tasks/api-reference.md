# í• ì¼ API ë ˆí¼ëŸ°ìŠ¤

## ê°œìš”

ëª¨ë“  í• ì¼ ê´€ë ¨ APIëŠ” `/api/tasks/*` ë° `/api/studies/[id]/tasks/*` ê²½ë¡œì— ìœ„ì¹˜í•©ë‹ˆë‹¤.

---

## API êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í• ì¼ API êµ¬ì¡°                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    /api/tasks/* (ê°œì¸ í• ì¼)                      â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚ GET /       â”‚ â”‚ POST /      â”‚ â”‚ GET /[id]   â”‚                â”‚    â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚ â”‚             â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ ëª©ë¡ ì¡°íšŒ   â”‚ â”‚ í• ì¼ ìƒì„±   â”‚ â”‚ ìƒì„¸ ì¡°íšŒ   â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ + í•„í„°/ì •ë ¬ â”‚ â”‚             â”‚ â”‚             â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚    â”‚
â”‚  â”‚  â”‚ PATCH /[id] â”‚ â”‚DELETE /[id] â”‚ â”‚ PATCH /[id] â”‚                â”‚    â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚ â”‚    /toggle  â”‚                â”‚    â”‚
â”‚  â”‚  â”‚ í• ì¼ ìˆ˜ì •   â”‚ â”‚ í• ì¼ ì‚­ì œ   â”‚ â”‚ ì™„ë£Œ í† ê¸€   â”‚                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚    â”‚
â”‚  â”‚  â”‚ GET /stats  â”‚                                                â”‚    â”‚
â”‚  â”‚  â”‚             â”‚                                                â”‚    â”‚
â”‚  â”‚  â”‚ í• ì¼ í†µê³„   â”‚                                                â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                 /api/studies/[id]/tasks/* (ìŠ¤í„°ë”” í• ì¼)          â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚
â”‚  â”‚  â”‚ GET /       â”‚ â”‚ POST /      â”‚ â”‚ PATCH /[taskId]             â”‚â”‚    â”‚
â”‚  â”‚  â”‚             â”‚ â”‚             â”‚ â”‚                             â”‚â”‚    â”‚
â”‚  â”‚  â”‚ ëª©ë¡ ì¡°íšŒ   â”‚ â”‚ í• ì¼ ìƒì„±   â”‚ â”‚ í• ì¼ ìˆ˜ì •                   â”‚â”‚    â”‚
â”‚  â”‚  â”‚ MEMBER+     â”‚ â”‚ ADMIN+      â”‚ â”‚ ADMIN+                      â”‚â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚
â”‚  â”‚  â”‚ DELETE /[taskId]            â”‚ â”‚ PATCH /[taskId]/status      â”‚â”‚    â”‚
â”‚  â”‚  â”‚                             â”‚ â”‚                             â”‚â”‚    â”‚
â”‚  â”‚  â”‚ í• ì¼ ì‚­ì œ                   â”‚ â”‚ ìƒíƒœ ë³€ê²½                   â”‚â”‚    â”‚
â”‚  â”‚  â”‚ ADMIN+                      â”‚ â”‚ ADMIN+                      â”‚â”‚    â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## GET /api/tasks

í˜„ì¬ ì‚¬ìš©ìì˜ í• ì¼ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.

### ìš”ì²­

**Query Parameters:**

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|----------|------|------|------|--------|
| studyId | string | âŒ | ìŠ¤í„°ë”” í•„í„° | - |
| status | string | âŒ | ìƒíƒœ í•„í„° | all |
| completed | string | âŒ | ì™„ë£Œ ì—¬ë¶€ ('true'/'false') | - |
| sortBy | string | âŒ | ì •ë ¬ ê¸°ì¤€ | deadline |
| page | number | âŒ | í˜ì´ì§€ ë²ˆí˜¸ | 1 |
| limit | number | âŒ | í˜ì´ì§€ë‹¹ ê°œìˆ˜ | 20 |

**status ì˜µì…˜:**
- `all`: ì „ì²´
- `incomplete`: ë¯¸ì™„ë£Œë§Œ
- `completed`: ì™„ë£Œë§Œ
- `TODO`, `IN_PROGRESS`, `REVIEW`, `DONE`: íŠ¹ì • ìƒíƒœ

**sortBy ì˜µì…˜:**
- `deadline`: ë§ˆê°ì¼ìˆœ (ê¸°ë³¸)
- `priority`: ìš°ì„ ìˆœìœ„ìˆœ
- `createdAt`: ìµœì‹ ìˆœ

**ì˜ˆì‹œ:**
```
GET /api/tasks?studyId=clxxx&status=incomplete&sortBy=deadline
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "data": [
    {
      "id": "clxxxxxxxxxx",
      "userId": "clxxxxxxxxxx",
      "studyId": "clxxxxxxxxxx",
      "title": "ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ê¸°",
      "description": "BFS/DFS 3ë¬¸ì œ",
      "status": "TODO",
      "priority": "HIGH",
      "dueDate": "2025-01-20T09:00:00.000Z",
      "completed": false,
      "completedAt": null,
      "createdAt": "2025-01-15T00:00:00.000Z",
      "updatedAt": "2025-01-15T00:00:00.000Z",
      "study": {
        "id": "clxxxxxxxxxx",
        "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
        "emoji": "ğŸ’»"
      }
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 15,
    "totalPages": 1
  }
}
```

---

## POST /api/tasks

ìƒˆ í• ì¼ì„ ìƒì„±í•©ë‹ˆë‹¤.

### ìš”ì²­

**Body:**

```json
{
  "title": "ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ê¸°",
  "description": "BFS/DFS 3ë¬¸ì œ",
  "studyId": "clxxxxxxxxxx",
  "status": "TODO",
  "priority": "HIGH",
  "dueDate": "2025-01-20"
}
```

| í•„ë“œ | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| title | string | âœ… | ì œëª© |
| description | string | âŒ | ì„¤ëª… |
| studyId | string | âŒ | ê´€ë ¨ ìŠ¤í„°ë”” ID |
| status | string | âŒ | ìƒíƒœ (ê¸°ë³¸: TODO) |
| priority | string | âŒ | ìš°ì„ ìˆœìœ„ (ê¸°ë³¸: MEDIUM) |
| dueDate | string | âŒ | ë§ˆê°ì¼ (YYYY-MM-DD) |

### ì‘ë‹µ

**ì„±ê³µ (201 Created):**

```json
{
  "success": true,
  "message": "í• ì¼ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "userId": "clxxxxxxxxxx",
    "studyId": "clxxxxxxxxxx",
    "title": "ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ê¸°",
    "description": "BFS/DFS 3ë¬¸ì œ",
    "status": "TODO",
    "priority": "HIGH",
    "dueDate": "2025-01-20T00:00:00.000Z",
    "completed": false,
    "completedAt": null,
    "createdAt": "2025-01-15T10:00:00.000Z",
    "study": {
      "id": "clxxxxxxxxxx",
      "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
      "emoji": "ğŸ’»"
    }
  }
}
```

**ì‹¤íŒ¨ - ì œëª© ì—†ìŒ (400):**

```json
{
  "error": "ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
}
```

**ì‹¤íŒ¨ - ìŠ¤í„°ë”” ë©¤ë²„ ì•„ë‹˜ (403):**

```json
{
  "error": "ìŠ¤í„°ë”” ë©¤ë²„ê°€ ì•„ë‹™ë‹ˆë‹¤"
}
```

---

## GET /api/tasks/[id]

í• ì¼ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

### ìš”ì²­

```
GET /api/tasks/clxxxxxxxxxx
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "data": {
    "id": "clxxxxxxxxxx",
    "userId": "clxxxxxxxxxx",
    "studyId": "clxxxxxxxxxx",
    "title": "ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ê¸°",
    "description": "BFS/DFS 3ë¬¸ì œ",
    "status": "TODO",
    "priority": "HIGH",
    "dueDate": "2025-01-20T00:00:00.000Z",
    "completed": false,
    "completedAt": null,
    "createdAt": "2025-01-15T00:00:00.000Z",
    "updatedAt": "2025-01-15T00:00:00.000Z",
    "study": {
      "id": "clxxxxxxxxxx",
      "name": "ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””",
      "emoji": "ğŸ’»"
    }
  }
}
```

**ì‹¤íŒ¨ - í• ì¼ ì—†ìŒ/ê¶Œí•œ ì—†ìŒ (404):**

```json
{
  "error": "í• ì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
}
```

---

## PATCH /api/tasks/[id]

í• ì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. ë³¸ì¸ì˜ í• ì¼ë§Œ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ìš”ì²­

**Body:** (ìˆ˜ì •í•  í•„ë“œë§Œ)

```json
{
  "title": "ìˆ˜ì •ëœ ì œëª©",
  "priority": "URGENT",
  "dueDate": "2025-01-25"
}
```

| í•„ë“œ | íƒ€ì… | ì„¤ëª… |
|------|------|------|
| title | string | ì œëª© |
| description | string | ì„¤ëª… (nullë¡œ ì‚­ì œ ê°€ëŠ¥) |
| status | string | ìƒíƒœ |
| priority | string | ìš°ì„ ìˆœìœ„ |
| dueDate | string | ë§ˆê°ì¼ (nullë¡œ ì‚­ì œ ê°€ëŠ¥) |

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "message": "í• ì¼ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "title": "ìˆ˜ì •ëœ ì œëª©",
    "priority": "URGENT",
    "dueDate": "2025-01-25T00:00:00.000Z",
    ...
  }
}
```

---

## DELETE /api/tasks/[id]

í• ì¼ì„ ì‚­ì œí•©ë‹ˆë‹¤. ë³¸ì¸ì˜ í• ì¼ë§Œ ì‚­ì œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ìš”ì²­

```
DELETE /api/tasks/clxxxxxxxxxx
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "message": "í• ì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

---

## PATCH /api/tasks/[id]/toggle

í• ì¼ ì™„ë£Œ ìƒíƒœë¥¼ í† ê¸€í•©ë‹ˆë‹¤.

### ìš”ì²­

```
PATCH /api/tasks/clxxxxxxxxxx/toggle
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "message": "í• ì¼ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "completed": true,
    "completedAt": "2025-01-15T15:00:00.000Z",
    "status": "DONE"
  }
}
```

### í† ê¸€ ë¡œì§

```javascript
// ì™„ë£Œ â†’ ë¯¸ì™„ë£Œ
if (task.completed) {
  completed = false
  completedAt = null
  status = 'TODO'
}
// ë¯¸ì™„ë£Œ â†’ ì™„ë£Œ
else {
  completed = true
  completedAt = new Date()
  status = 'DONE'
}
```

---

## GET /api/tasks/stats

í• ì¼ í†µê³„ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

### ìš”ì²­

```
GET /api/tasks/stats
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "data": {
    "summary": {
      "total": 25,
      "completed": 15,
      "pending": 10,
      "completionRate": 60
    },
    "byPeriod": {
      "today": 3,
      "thisWeek": 7,
      "thisMonth": 15,
      "overdue": 2
    },
    "byPriority": {
      "URGENT": 2,
      "HIGH": 5,
      "MEDIUM": 10,
      "LOW": 8
    },
    "byStatus": {
      "TODO": 5,
      "IN_PROGRESS": 3,
      "REVIEW": 2,
      "DONE": 15
    },
    "recentCompleted": [
      {
        "id": "clxxxxxxxxxx",
        "title": "ìµœê·¼ ì™„ë£Œí•œ í• ì¼",
        "completedAt": "2025-01-15T10:00:00.000Z"
      }
    ]
  }
}
```

### í†µê³„ ê³„ì‚° ë¡œì§

```javascript
// ê¸°ê°„ë³„ ê³„ì‚°
const today = new Date()
today.setHours(0, 0, 0, 0)

const tomorrow = new Date(today)
tomorrow.setDate(tomorrow.getDate() + 1)

const thisWeekStart = new Date(today)
thisWeekStart.setDate(today.getDate() - today.getDay())

const thisWeekEnd = new Date(thisWeekStart)
thisWeekEnd.setDate(thisWeekStart.getDate() + 7)

const thisMonthStart = new Date(today.getFullYear(), today.getMonth(), 1)
const thisMonthEnd = new Date(today.getFullYear(), today.getMonth() + 1, 0)

// ê° ê¸°ê°„ë³„ ë¯¸ì™„ë£Œ í• ì¼ count
const todayTasks = await prisma.task.count({
  where: {
    userId,
    completed: false,
    dueDate: { gte: today, lt: tomorrow }
  }
})

// ê¸°í•œ ì§€ë‚œ í• ì¼
const overdueTasks = await prisma.task.count({
  where: {
    userId,
    completed: false,
    dueDate: { lt: today }
  }
})
```

---

## GET /api/studies/[id]/tasks

ìŠ¤í„°ë”” í• ì¼ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤. **MEMBER+ ê¶Œí•œ í•„ìš”**

### ìš”ì²­

**Query Parameters:**

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… | ê¸°ë³¸ê°’ |
|----------|------|------|------|--------|
| status | string | âŒ | ìƒíƒœ í•„í„° | - |
| priority | string | âŒ | ìš°ì„ ìˆœìœ„ í•„í„° | - |
| assigneeId | string | âŒ | ë‹´ë‹¹ì í•„í„° | - |

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "data": [
    {
      "id": "clxxxxxxxxxx",
      "studyId": "clxxxxxxxxxx",
      "createdById": "clxxxxxxxxxx",
      "title": "1ì£¼ì°¨ ê³¼ì œ",
      "description": "BFS ë¬¸ì œ 5ê°œ í’€ê¸°",
      "status": "TODO",
      "priority": "HIGH",
      "dueDate": "2025-01-20T00:00:00.000Z",
      "createdAt": "2025-01-10T00:00:00.000Z",
      "createdBy": {
        "id": "clxxxxxxxxxx",
        "name": "í™ê¸¸ë™",
        "avatar": "https://..."
      },
      "assignees": [
        {
          "id": "clxxxxxxxxxx",
          "userId": "clxxxxxxxxxx",
          "user": {
            "id": "clxxxxxxxxxx",
            "name": "ê¹€ì² ìˆ˜",
            "avatar": "https://..."
          },
          "assignedAt": "2025-01-10T00:00:00.000Z"
        }
      ]
    }
  ]
}
```

---

## POST /api/studies/[id]/tasks

ìŠ¤í„°ë”” í• ì¼ì„ ìƒì„±í•©ë‹ˆë‹¤. **ADMIN+ ê¶Œí•œ í•„ìš”**

### ìš”ì²­

**Body:**

```json
{
  "title": "1ì£¼ì°¨ ê³¼ì œ",
  "description": "BFS ë¬¸ì œ 5ê°œ í’€ê¸°",
  "status": "TODO",
  "priority": "HIGH",
  "dueDate": "2025-01-20",
  "assigneeIds": ["clxxxxxxxxxx", "clxxxxxxxxxx"]
}
```

| í•„ë“œ | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|------|------|------|------|
| title | string | âœ… | ì œëª© |
| description | string | âŒ | ì„¤ëª… |
| status | string | âŒ | ìƒíƒœ (ê¸°ë³¸: TODO) |
| priority | string | âŒ | ìš°ì„ ìˆœìœ„ (ê¸°ë³¸: MEDIUM) |
| dueDate | string | âŒ | ë§ˆê°ì¼ |
| assigneeIds | string[] | âŒ | ë‹´ë‹¹ì ID ëª©ë¡ |

### ì‘ë‹µ

**ì„±ê³µ (201 Created):**

```json
{
  "success": true,
  "message": "í• ì¼ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "title": "1ì£¼ì°¨ ê³¼ì œ",
    ...
  }
}
```

**ì‹¤íŒ¨ - ê¶Œí•œ ì—†ìŒ (403):**

```json
{
  "error": "í• ì¼ ê´€ë¦¬ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤"
}
```

---

## PATCH /api/studies/[id]/tasks/[taskId]

ìŠ¤í„°ë”” í• ì¼ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. **ADMIN+ ê¶Œí•œ í•„ìš”**

### ìš”ì²­

**Body:**

```json
{
  "title": "ìˆ˜ì •ëœ ì œëª©",
  "status": "IN_PROGRESS",
  "assigneeIds": ["clxxxxxxxxxx"]
}
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "message": "í• ì¼ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "title": "ìˆ˜ì •ëœ ì œëª©",
    "status": "IN_PROGRESS",
    ...
  }
}
```

---

## DELETE /api/studies/[id]/tasks/[taskId]

ìŠ¤í„°ë”” í• ì¼ì„ ì‚­ì œí•©ë‹ˆë‹¤. **ADMIN+ ê¶Œí•œ í•„ìš”**

### ìš”ì²­

```
DELETE /api/studies/clxx/tasks/clxx
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "message": "í• ì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

---

## PATCH /api/studies/[id]/tasks/[taskId]/status

ìŠ¤í„°ë”” í• ì¼ì˜ ìƒíƒœë¥¼ ë³€ê²½í•©ë‹ˆë‹¤. **ADMIN+ ê¶Œí•œ í•„ìš”**

### ìš”ì²­

**Body:**

```json
{
  "status": "IN_PROGRESS"
}
```

### ì‘ë‹µ

**ì„±ê³µ (200 OK):**

```json
{
  "success": true,
  "message": "ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤",
  "data": {
    "id": "clxxxxxxxxxx",
    "status": "IN_PROGRESS"
  }
}
```

---

## ê³µí†µ ì—ëŸ¬ ì½”ë“œ

| HTTP ì½”ë“œ | ì—ëŸ¬ íƒ€ì… | ì„¤ëª… |
|-----------|-----------|------|
| 400 | VALIDATION_ERROR | ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨ |
| 401 | UNAUTHORIZED | ì¸ì¦ í•„ìš” |
| 403 | PERMISSION_DENIED | ê¶Œí•œ ë¶€ì¡± |
| 403 | NOT_STUDY_MEMBER | ìŠ¤í„°ë”” ë©¤ë²„ ì•„ë‹˜ |
| 404 | NOT_FOUND | í• ì¼ ì—†ìŒ |
| 500 | INTERNAL_ERROR | ì„œë²„ ì˜¤ë¥˜ |

