# í• ì¼ ê´€ë¦¬ ë„ë©”ì¸ (Tasks)

## ê°œìš”

CoUp í”„ë¡œì íŠ¸ì˜ í• ì¼ ê´€ë¦¬ ë„ë©”ì¸ì€ ì‚¬ìš©ìê°€ ê°œì¸ í• ì¼ê³¼ ìŠ¤í„°ë””ë³„ í• ì¼ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
ë¦¬ìŠ¤íŠ¸/ìº˜ë¦°ë” ë·°, ê¸´ê¸‰ë„ ê¸°ë°˜ ê·¸ë£¹í™”, ì‹¤ì‹œê°„ í†µê³„, ê·¸ë¦¬ê³  ì™„ë£Œ í† ê¸€ ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- **ë“€ì–¼ ë·° ëª¨ë“œ**: ë¦¬ìŠ¤íŠ¸ ë·°ì™€ ìº˜ë¦°ë” ë·° ì „í™˜
- **ê¸´ê¸‰ë„ ê·¸ë£¹í™”**: ê¸´ê¸‰/ì´ë²ˆ ì£¼/ë‚˜ì¤‘ì— ìë™ ë¶„ë¥˜
- **í•„í„° ë° ì •ë ¬**: ìŠ¤í„°ë””ë³„, ìƒíƒœë³„, ë§ˆê°ì¼/ìµœì‹ ìˆœ ì •ë ¬
- **ì‹¤ì‹œê°„ í†µê³„**: ì™„ë£Œìœ¨, ì˜¤ëŠ˜/ì£¼ê°„/ì›”ê°„ í• ì¼ í†µê³„
- **ê°œì¸ + ìŠ¤í„°ë”” í• ì¼**: ë³„ë„ APIë¡œ ê´€ë¦¬, í†µí•© í‘œì‹œ

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              í• ì¼ ê´€ë¦¬ ë„ë©”ì¸                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                     /tasks (í• ì¼ í˜ì´ì§€)                         â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚   â”‚ TaskFilters (í•„í„°/ì •ë ¬/ë·° ëª¨ë“œ)                          â”‚   â”‚    â”‚
â”‚  â”‚   â”‚ â€¢ ìŠ¤í„°ë”” í•„í„° â€¢ ìƒíƒœ í•„í„° â€¢ ì •ë ¬ â€¢ ë·° ëª¨ë“œ í† ê¸€          â”‚   â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚                           â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   Main Content (75%)        â”‚   Sidebar (25%)           â”‚   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚                           â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”‚ ğŸ”¥ ê¸´ê¸‰ (3)       â”‚     â”‚   â”‚ ğŸ“… ì˜¤ëŠ˜ì˜ í•  ì¼   â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”‚   TaskCard Ã—3     â”‚     â”‚   â”‚   TodayTasksWidgetâ”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚                           â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”‚ ğŸ“… ì´ë²ˆ ì£¼ (5)    â”‚     â”‚   â”‚ ğŸ“Š ì§„í–‰ ìƒí™©      â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”‚   TaskCard Ã—5     â”‚     â”‚   â”‚   TaskProgress    â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚   Widget          â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚                           â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”‚ ğŸ“‹ ë‚˜ì¤‘ì— (10)    â”‚     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â”‚   TaskCard Ã—10    â”‚     â”‚   â”‚ ğŸ“š ìŠ¤í„°ë””ë³„ í• ì¼  â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚   TaskByStudy     â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚   â”‚   Widget          â”‚   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚    â”‚
â”‚  â”‚   â”‚                             â”‚                           â”‚   â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                    /my-studies/[id]/tasks                        â”‚    â”‚
â”‚  â”‚                    (ìŠ¤í„°ë”” í• ì¼ - ì¹¸ë°˜ë³´ë“œ)                       â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚    â”‚
â”‚  â”‚   â”‚  TODO  â”‚ â”‚IN_PROGRESSâ”‚ â”‚  REVIEW  â”‚ â”‚  DONE  â”‚               â”‚    â”‚
â”‚  â”‚   â”‚   (3)  â”‚ â”‚    (2)    â”‚ â”‚   (1)    â”‚ â”‚  (5)   â”‚               â”‚    â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚    â”‚
â”‚  â”‚                                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## í˜ì´ì§€ êµ¬ì¡°

```
/tasks                          # ë‚´ í• ì¼ (ê°œì¸ + ì „ì²´ ìŠ¤í„°ë””)
â”‚
â”œâ”€â”€ ë¦¬ìŠ¤íŠ¸ ë·° (ê¸°ë³¸)
â”‚   â”œâ”€â”€ ğŸ”¥ ê¸´ê¸‰ ê·¸ë£¹
â”‚   â”œâ”€â”€ ğŸ“… ì´ë²ˆ ì£¼ ê·¸ë£¹
â”‚   â””â”€â”€ ğŸ“‹ ë‚˜ì¤‘ì— ê·¸ë£¹
â”‚
â””â”€â”€ ìº˜ë¦°ë” ë·°
    â””â”€â”€ ì›”ê°„ ìº˜ë¦°ë” with í• ì¼ í‘œì‹œ

/my-studies/[studyId]/tasks     # ìŠ¤í„°ë”” í• ì¼ (ì¹¸ë°˜ë³´ë“œ)
â”‚
â”œâ”€â”€ ì¹¸ë°˜ë³´ë“œ ë·°
â”‚   â”œâ”€â”€ ğŸ“‹ TODO
â”‚   â”œâ”€â”€ ğŸ”„ IN_PROGRESS
â”‚   â”œâ”€â”€ ğŸ” REVIEW
â”‚   â””â”€â”€ âœ… DONE
â”‚
â””â”€â”€ ë¦¬ìŠ¤íŠ¸ ë·°
```

---

## ë°ì´í„° ëª¨ë¸

### Task (ê°œì¸ í• ì¼)

```javascript
{
  id: String,
  userId: String,           // ì†Œìœ ì
  studyId: String | null,   // ê´€ë ¨ ìŠ¤í„°ë”” (ì„ íƒ)
  title: String,
  description: String | null,
  status: 'TODO' | 'IN_PROGRESS' | 'REVIEW' | 'DONE',
  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT',
  dueDate: Date | null,
  completed: Boolean,
  completedAt: Date | null,
  createdAt: Date,
  updatedAt: Date,
  study: {                  // ê´€ë ¨ ìŠ¤í„°ë”” ì •ë³´
    id: String,
    name: String,
    emoji: String
  }
}
```

### StudyTask (ìŠ¤í„°ë”” í• ì¼)

```javascript
{
  id: String,
  studyId: String,
  createdById: String,      // ìƒì„±ì
  title: String,
  description: String | null,
  status: 'TODO' | 'IN_PROGRESS' | 'REVIEW' | 'DONE',
  priority: 'LOW' | 'MEDIUM' | 'HIGH' | 'URGENT',
  dueDate: Date | null,
  createdAt: Date,
  updatedAt: Date,
  createdBy: {
    id: String,
    name: String,
    avatar: String
  },
  assignees: [{             // ë‹´ë‹¹ì ëª©ë¡
    id: String,
    userId: String,
    user: {
      id: String,
      name: String,
      avatar: String
    },
    assignedAt: Date
  }]
}
```

---

## ìƒíƒœ ë° ìš°ì„ ìˆœìœ„

### í• ì¼ ìƒíƒœ (Status)

| ìƒíƒœ | ë¼ë²¨ | ì•„ì´ì½˜ | ìƒ‰ìƒ |
|------|------|--------|------|
| `TODO` | í•  ì¼ | ğŸ“‹ | íšŒìƒ‰ (#6B7280) |
| `IN_PROGRESS` | ì§„í–‰ ì¤‘ | ğŸ”„ | íŒŒë€ìƒ‰ (#3B82F6) |
| `REVIEW` | ê²€í†  ì¤‘ | ğŸ” | ë³´ë¼ìƒ‰ (#8B5CF6) |
| `DONE` | ì™„ë£Œ | âœ… | ì´ˆë¡ìƒ‰ (#10B981) |

### ìš°ì„ ìˆœìœ„ (Priority)

| ìš°ì„ ìˆœìœ„ | ë¼ë²¨ | ì•„ì´ì½˜ | ìƒ‰ìƒ |
|----------|------|--------|------|
| `URGENT` | ê¸´ê¸‰ | ğŸ”¥ | ë¹¨ê°„ìƒ‰ (#EF4444) |
| `HIGH` | ë†’ìŒ | âš ï¸ | ì£¼í™©ìƒ‰ (#F59E0B) |
| `MEDIUM` | ë³´í†µ | ğŸ“Œ | íŒŒë€ìƒ‰ (#3B82F6) |
| `LOW` | ë‚®ìŒ | ğŸ“ | íšŒìƒ‰ (#6B7280) |

### ê¸´ê¸‰ë„ ê·¸ë£¹í™” (Urgency)

ë§ˆê°ì¼ ê¸°ì¤€ìœ¼ë¡œ ìë™ ë¶„ë¥˜ë©ë‹ˆë‹¤:

| ê¸´ê¸‰ë„ | ì¡°ê±´ | ìƒ‰ìƒ |
|--------|------|------|
| `urgent` | ì˜¤ëŠ˜ ë˜ëŠ” ê¸°í•œ ì§€ë‚¨ | ë¹¨ê°„ìƒ‰ |
| `thisWeek` | ì´ë²ˆ ì£¼ ë‚´ | ì£¼í™©ìƒ‰ |
| `later` | ê·¸ ì´í›„ ë˜ëŠ” ë§ˆê°ì¼ ì—†ìŒ | íšŒìƒ‰ |

```javascript
const getUrgencyLevel = (dueDate) => {
  if (!dueDate) return 'later'
  
  const now = new Date()
  const due = new Date(dueDate)
  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())
  const dueDay = new Date(due.getFullYear(), due.getMonth(), due.getDate())
  
  // ê¸°í•œ ì§€ë‚¬ê±°ë‚˜ ì˜¤ëŠ˜ ë§ˆê°
  if (dueDay <= today) return 'urgent'
  
  // ì´ë²ˆ ì£¼ ë‚´
  const weekEnd = new Date(today)
  weekEnd.setDate(today.getDate() + (7 - today.getDay()))
  if (dueDay <= weekEnd) return 'thisWeek'
  
  return 'later'
}
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### ê°œì¸ í• ì¼

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ì¸ì¦ |
|--------|------|------|------|
| GET | `/api/tasks` | í• ì¼ ëª©ë¡ ì¡°íšŒ | âœ… |
| POST | `/api/tasks` | í• ì¼ ìƒì„± | âœ… |
| GET | `/api/tasks/[id]` | í• ì¼ ìƒì„¸ ì¡°íšŒ | âœ… |
| PATCH | `/api/tasks/[id]` | í• ì¼ ìˆ˜ì • | âœ… |
| DELETE | `/api/tasks/[id]` | í• ì¼ ì‚­ì œ | âœ… |
| PATCH | `/api/tasks/[id]/toggle` | ì™„ë£Œ í† ê¸€ | âœ… |
| GET | `/api/tasks/stats` | í• ì¼ í†µê³„ | âœ… |

### ìŠ¤í„°ë”” í• ì¼

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ì¸ì¦ | ê¶Œí•œ |
|--------|------|------|------|------|
| GET | `/api/studies/[id]/tasks` | ìŠ¤í„°ë”” í• ì¼ ëª©ë¡ | âœ… | MEMBER+ |
| POST | `/api/studies/[id]/tasks` | ìŠ¤í„°ë”” í• ì¼ ìƒì„± | âœ… | ADMIN+ |
| PATCH | `/api/studies/[id]/tasks/[taskId]` | ìŠ¤í„°ë”” í• ì¼ ìˆ˜ì • | âœ… | ADMIN+ |
| DELETE | `/api/studies/[id]/tasks/[taskId]` | ìŠ¤í„°ë”” í• ì¼ ì‚­ì œ | âœ… | ADMIN+ |
| PATCH | `/api/studies/[id]/tasks/[taskId]/status` | ìƒíƒœ ë³€ê²½ | âœ… | ADMIN+ |

---

## í•„í„° ë° ì •ë ¬ íŒŒë¼ë¯¸í„°

### GET /api/tasks

| íŒŒë¼ë¯¸í„° | íƒ€ì… | ì„¤ëª… | ê¸°ë³¸ê°’ |
|----------|------|------|--------|
| `studyId` | string | ìŠ¤í„°ë”” í•„í„° | - |
| `status` | string | ìƒíƒœ í•„í„° (TODO/IN_PROGRESS/REVIEW/DONE/all/incomplete/completed) | all |
| `completed` | string | ì™„ë£Œ ì—¬ë¶€ ('true'/'false') | - |
| `sortBy` | string | ì •ë ¬ ê¸°ì¤€ (deadline/priority/createdAt) | deadline |
| `page` | number | í˜ì´ì§€ ë²ˆí˜¸ | 1 |
| `limit` | number | í˜ì´ì§€ë‹¹ ê°œìˆ˜ | 20 |

### ì •ë ¬ ìˆœì„œ

```javascript
// sortBy === 'deadline'
orderBy: [
  { completed: 'asc' },   // ë¯¸ì™„ë£Œ ìš°ì„ 
  { dueDate: 'asc' },     // ë§ˆê°ì¼ ê°€ê¹Œìš´ ìˆœ
  { createdAt: 'desc' }   // ìµœì‹  ìƒì„±ìˆœ
]

// sortBy === 'priority'
orderBy: [
  { completed: 'asc' },
  { priority: 'desc' },   // ë†’ì€ ìš°ì„ ìˆœìœ„ ìš°ì„ 
  { dueDate: 'asc' }
]

// sortBy === 'createdAt'
orderBy: [
  { completed: 'asc' },
  { createdAt: 'desc' }   // ìµœì‹ ìˆœ
]
```

---

## ë°ì´í„° í”Œë¡œìš°

### í• ì¼ ëª©ë¡ ì¡°íšŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚     â”‚   Page State  â”‚     â”‚   API Route  â”‚     â”‚   DB     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚  í˜ì´ì§€ ë¡œë“œ      â”‚                     â”‚                  â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚ GET /api/tasks      â”‚                  â”‚
     â”‚                   â”‚ + í•„í„° íŒŒë¼ë¯¸í„°     â”‚                  â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚  ì„¸ì…˜ í™•ì¸       â”‚
     â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚  Task.findMany   â”‚
     â”‚                   â”‚                     â”‚  (where: userId) â”‚
     â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚  tasks[] ë°˜í™˜       â”‚                  â”‚
     â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚  getUrgencyLevel()  â”‚                  â”‚
     â”‚                   â”‚  ê·¸ë£¹ ë¶„ë¥˜          â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚  TaskGroup ë Œë”ë§ â”‚                     â”‚                  â”‚
     â”‚  (urgent/thisWeek â”‚                     â”‚                  â”‚
     â”‚   /later)         â”‚                     â”‚                  â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
```

### í• ì¼ ì™„ë£Œ í† ê¸€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚     â”‚   useToggle   â”‚     â”‚   API Route  â”‚     â”‚   DB     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚  ì²´í¬ë°•ìŠ¤ í´ë¦­    â”‚                     â”‚                  â”‚
     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚ PATCH /tasks/[id]   â”‚                  â”‚
     â”‚                   â”‚        /toggle      â”‚                  â”‚
     â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚  Task ì¡°íšŒ       â”‚
     â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚  ì†Œìœ ì í™•ì¸     â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚  Task.update     â”‚
     â”‚                   â”‚                     â”‚  completed: !old â”‚
     â”‚                   â”‚                     â”‚  completedAt     â”‚
     â”‚                   â”‚                     â”‚  status          â”‚
     â”‚                   â”‚                     â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚  ì—…ë°ì´íŠ¸ëœ task    â”‚                  â”‚
     â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚                   â”‚  ìºì‹œ ë¬´íš¨í™”        â”‚                  â”‚
     â”‚                   â”‚  ['tasks']          â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
     â”‚  UI ì—…ë°ì´íŠ¸      â”‚                     â”‚                  â”‚
     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                     â”‚                  â”‚
     â”‚                   â”‚                     â”‚                  â”‚
```

---

## í†µê³„ API

### GET /api/tasks/stats

í• ì¼ í†µê³„ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

**ì‘ë‹µ:**

```json
{
  "success": true,
  "data": {
    "summary": {
      "total": 25,
      "completed": 15,
      "pending": 10,
      "completionRate": 60
    },
    "byPeriod": {
      "today": 3,
      "thisWeek": 7,
      "thisMonth": 15,
      "overdue": 2
    },
    "byPriority": {
      "URGENT": 2,
      "HIGH": 5,
      "MEDIUM": 10,
      "LOW": 8
    },
    "byStatus": {
      "TODO": 5,
      "IN_PROGRESS": 3,
      "REVIEW": 2,
      "DONE": 15
    },
    "recentCompleted": [
      {
        "id": "clxx",
        "title": "ìµœê·¼ ì™„ë£Œí•œ í• ì¼",
        "completedAt": "2025-01-15T10:00:00Z"
      }
    ]
  }
}
```

---

## ê¶Œí•œ ì²´í¬

### ê°œì¸ í• ì¼

- ë³¸ì¸ì˜ í• ì¼ë§Œ CRUD ê°€ëŠ¥
- `task.userId === session.user.id` ê²€ì¦

### ìŠ¤í„°ë”” í• ì¼

| ì‘ì—… | OWNER | ADMIN | MEMBER |
|------|:-----:|:-----:|:------:|
| í• ì¼ ì¡°íšŒ | âœ… | âœ… | âœ… |
| í• ì¼ ìƒì„± | âœ… | âœ… | âŒ |
| í• ì¼ ìˆ˜ì • | âœ… | âœ… | âŒ |
| í• ì¼ ì‚­ì œ | âœ… | âœ… | âŒ |
| ìƒíƒœ ë³€ê²½ | âœ… | âœ… | âŒ |

---

## ê´€ë ¨ ë¬¸ì„œ

- [API ë ˆí¼ëŸ°ìŠ¤](./api-reference.md) - ìƒì„¸ API ëª…ì„¸
- [ì»´í¬ë„ŒíŠ¸ ê°€ì´ë“œ](./components.md) - UI ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œ
- [Hooks](./hooks.md) - React Query Hooks ë¬¸ì„œ

