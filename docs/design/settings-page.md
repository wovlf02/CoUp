# 설정 페이지 설계 문서

## 📋 설계 일자
2025-01-21

## 🎯 목적
사용자가 계정, 프로필, 알림, 개인정보 등을 관리할 수 있는 중앙 설정 페이지 제공

## 🗂️ 페이지 구조

### 경로
- **URL**: `/user/settings`
- **레이아웃**: 2단 레이아웃 (좌측 메뉴 + 우측 컨텐츠)

### 좌측 메뉴 (사이드바)
```
⚙️ 설정

📱 계정
├─ 프로필 편집
├─ 비밀번호 변경
└─ 계정 연동

🔔 알림
├─ 알림 설정
└─ 이메일 구독

🔒 개인정보
├─ 개인정보 관리
└─ 데이터 다운로드

🎨 테마
└─ 화면 설정

❓ 고객지원
├─ 문의하기
└─ FAQ
```

---

## 📄 세부 설정 항목

### 1. 프로필 편집
```
┌──────────────────────────────────────┐
│ 프로필 편집                          │
├──────────────────────────────────────┤
│                                      │
│  [프로필 사진]                       │
│  📷 사진 변경                        │
│                                      │
│  이름                                │
│  [홍길동____________]                │
│                                      │
│  이메일 (변경 불가)                  │
│  [hong@example.com] 🔒               │
│                                      │
│  소개                                │
│  [________________]                  │
│  [________________]                  │
│                                      │
│  전공/분야                           │
│  [컴퓨터공학 ▼]                      │
│                                      │
│  관심 분야 (최대 5개)                │
│  [# 웹개발] [# AI] [# 디자인] [+]   │
│                                      │
│         [취소]  [저장]               │
└──────────────────────────────────────┘
```

**기능:**
- 프로필 사진 업로드/변경
- 이름 수정
- 소개글 작성
- 전공/분야 선택
- 관심 분야 태그 추가/삭제

---

### 2. 비밀번호 변경
```
┌──────────────────────────────────────┐
│ 비밀번호 변경                        │
├──────────────────────────────────────┤
│                                      │
│  현재 비밀번호                       │
│  [••••••••••••]                      │
│                                      │
│  새 비밀번호                         │
│  [••••••••••••]                      │
│  ⚠️ 8자 이상, 영문+숫자+특수문자    │
│                                      │
│  새 비밀번호 확인                    │
│  [••••••••••••]                      │
│                                      │
│         [취소]  [변경]               │
└──────────────────────────────────────┘
```

**기능:**
- 현재 비밀번호 확인
- 새 비밀번호 유효성 검사
- 비밀번호 강도 표시

---

### 3. 계정 연동
```
┌──────────────────────────────────────┐
│ 계정 연동                            │
├──────────────────────────────────────┤
│                                      │
│  🔗 Google                           │
│  [연동됨 ✓]  [연동 해제]            │
│                                      │
│  🔗 GitHub                           │
│  [연동하기]                          │
│                                      │
│  🔗 Kakao                            │
│  [연동하기]                          │
│                                      │
└──────────────────────────────────────┘
```

**기능:**
- 소셜 계정 연동/해제
- OAuth 인증

---

### 4. 알림 설정
```
┌──────────────────────────────────────┐
│ 알림 설정                            │
├──────────────────────────────────────┤
│                                      │
│  🔔 푸시 알림                        │
│  ☑ 새 메시지 알림                   │
│  ☑ 스터디 초대 알림                 │
│  ☑ 출석 리마인더                    │
│  ☐ 공지사항 알림                    │
│                                      │
│  📧 이메일 알림                      │
│  ☑ 중요 공지사항                    │
│  ☐ 주간 요약                        │
│  ☐ 마케팅 정보                      │
│                                      │
│         [취소]  [저장]               │
└──────────────────────────────────────┘
```

**기능:**
- 푸시 알림 on/off
- 이메일 알림 선택
- 카테고리별 알림 관리

---

### 5. 개인정보 관리
```
┌──────────────────────────────────────┐
│ 개인정보 관리                        │
├──────────────────────────────────────┤
│                                      │
│  📊 내 데이터 다운로드               │
│  [다운로드 요청]                     │
│  회원정보, 활동 내역 등을 다운로드   │
│                                      │
│  🗑️ 계정 삭제                        │
│  [계정 삭제하기]                     │
│  ⚠️ 삭제된 계정은 복구할 수 없습니다│
│                                      │
└──────────────────────────────────────┘
```

**기능:**
- GDPR 준수 데이터 다운로드
- 계정 삭제 (확인 절차)

---

### 6. 테마 설정
```
┌──────────────────────────────────────┐
│ 화면 설정                            │
├──────────────────────────────────────┤
│                                      │
│  🎨 테마                             │
│  ○ 라이트 모드                       │
│  ● 다크 모드                         │
│  ○ 시스템 설정 따르기                │
│                                      │
│  📱 화면 크기                        │
│  [────●────────] 보통                │
│                                      │
│  🌈 강조색                           │
│  [🟣] [🔵] [🟢] [🟡] [🔴]          │
│                                      │
│         [취소]  [저장]               │
└──────────────────────────────────────┘
```

**기능:**
- 라이트/다크 모드 전환
- 폰트 크기 조절
- 강조색 선택

---

### 7. 고객지원
```
┌──────────────────────────────────────┐
│ 문의하기                             │
├──────────────────────────────────────┤
│                                      │
│  문의 유형                           │
│  [일반 문의 ▼]                       │
│                                      │
│  제목                                │
│  [________________]                  │
│                                      │
│  내용                                │
│  [________________]                  │
│  [________________]                  │
│  [________________]                  │
│                                      │
│  파일 첨부                           │
│  [📎 파일 선택]                      │
│                                      │
│         [취소]  [문의 보내기]        │
└──────────────────────────────────────┘
```

**기능:**
- 문의 티켓 생성
- 파일 첨부
- 문의 내역 확인

---

## 🎨 UI/UX 디자인 가이드

### 색상 팔레트
- **주요색**: 기존 브랜드 색상 활용
- **배경**: #FFFFFF (라이트), #1A1A1A (다크)
- **텍스트**: #333333 (라이트), #FFFFFF (다크)
- **테두리**: rgba(0, 0, 0, 0.1)

### 레이아웃
```
┌──────────────────────────────────────────────────┐
│  Header (네비게이션)                             │
├──────────────────────────────────────────────────┤
│                                                  │
│  ┌──────────┬───────────────────────────────┐   │
│  │          │                               │   │
│  │  좌측    │        우측 컨텐츠            │   │
│  │  메뉴    │                               │   │
│  │          │                               │   │
│  │ (250px)  │         (flex: 1)             │   │
│  │          │                               │   │
│  └──────────┴───────────────────────────────┘   │
│                                                  │
└──────────────────────────────────────────────────┘
```

### 반응형
- **데스크톱**: 2단 레이아웃
- **태블릿**: 좌측 메뉴 접기 가능
- **모바일**: 1단 레이아웃, 햄버거 메뉴

---

## 📁 파일 구조

```
coup/src/app/user/settings/
├── page.jsx                    # 메인 설정 페이지
├── page.module.css             # 스타일
├── layout.jsx                  # 설정 레이아웃 (사이드바)
└── components/
    ├── ProfileEdit.jsx         # 프로필 편집
    ├── PasswordChange.jsx      # 비밀번호 변경
    ├── AccountLinks.jsx        # 계정 연동
    ├── NotificationSettings.jsx # 알림 설정
    ├── PrivacySettings.jsx     # 개인정보 관리
    ├── ThemeSettings.jsx       # 테마 설정
    └── Support.jsx             # 고객지원
```

---

## 🔧 기술 스택

- **프레임워크**: Next.js 14 (App Router)
- **스타일**: CSS Modules
- **상태 관리**: React Hooks (useState, useEffect)
- **API**: `/api/user/settings/*`
- **이미지 업로드**: `/api/upload`
- **폼 유효성 검사**: Zod 또는 Yup

---

## 🔐 보안 고려사항

1. **비밀번호 변경**:
   - 현재 비밀번호 확인 필수
   - bcrypt 해싱 사용
   - 세션 재인증

2. **프로필 사진 업로드**:
   - 파일 크기 제한 (5MB)
   - 허용된 확장자만 (jpg, png, webp)
   - 이미지 최적화

3. **계정 삭제**:
   - 2단계 확인 (비밀번호 + 확인 메시지)
   - 30일 유예 기간 (soft delete)
   - 관련 데이터 처리

---

## 📊 API 엔드포인트

### GET /api/user/settings
- 현재 사용자의 설정 정보 조회

### PUT /api/user/settings/profile
- 프로필 정보 업데이트

### PUT /api/user/settings/password
- 비밀번호 변경

### POST /api/user/settings/avatar
- 프로필 사진 업로드

### PUT /api/user/settings/notifications
- 알림 설정 업데이트

### DELETE /api/user/settings/account
- 계정 삭제

---

## ✅ 구현 우선순위

1. **Phase 1 (필수)**:
   - ✅ 프로필 편집
   - ✅ 비밀번호 변경
   - ✅ 알림 설정

2. **Phase 2**:
   - 테마 설정
   - 계정 연동

3. **Phase 3**:
   - 개인정보 관리
   - 고객지원

---

## 🎯 완료 기준

- [ ] 모든 설정 항목이 정상 작동
- [ ] 반응형 디자인 완벽 구현
- [ ] 폼 유효성 검사 완료
- [ ] API 연동 완료
- [ ] 에러 처리 완료
- [ ] 사용자 피드백 (toast, alert) 구현
- [ ] 접근성(a11y) 고려

---

## 📝 참고사항

- 기존 디자인 시스템과 일관성 유지
- 사용자 경험 최우선
- 점진적 개선 (Progressive Enhancement)
- 에러 처리 및 사용자 피드백 명확히

이제 이 설계를 바탕으로 구현을 시작하겠습니다! 🚀

